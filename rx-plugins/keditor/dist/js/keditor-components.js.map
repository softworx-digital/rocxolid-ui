{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"jquery\"","webpack:///./src/components/keditor-component-audio.js","webpack:///./node_modules/scroll-into-view/scrollIntoView.js","webpack:///./src/components/keditor-component-video.js","webpack:///./src/components/keditor-component-vimeo.js","webpack:///./src/components/keditor-component-youtube.js","webpack:///./src/components/keditor-component-form.js","webpack:///./src/components/keditor-component-googlemap.js","webpack:///./src/components/keditor-component-photo.js","webpack:///./src/components/keditor-component-text.js"],"names":["root","factory","exports","module","require","define","amd","a","i","self","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","KEditor","components","settingEnabled","settingTitle","init","contentArea","container","component","keditor","componentContent","find","length","wrapInner","initSettingForm","form","append","fileInput","off","on","e","preventDefault","trigger","file","files","test","type","attr","URL","createObjectURL","alert","prop","checked","audio","parent","css","showSettingForm","wrapper","autoplayToggle","controlsToggle","audioWidth","val","setElementScroll","element","x","y","scrollTo","scrollLeft","scrollTop","animate","scrollSettings","_scrollSettings","maxSynchronousAlignments","location","parentPosition","differenceX","differenceY","targetWidth","targetHeight","align","targetPosition","target","getBoundingClientRect","leftAlign","left","topAlign","top","leftOffset","topOffset","leftScalar","topScalar","isWindow","Math","min","width","innerWidth","height","innerHeight","pageXOffset","pageYOffset","offsetLeft","offsetTop","clientWidth","clientHeight","max","scrollWidth","scrollHeight","getTargetScrollLocation","time","Date","now","startTime","timeValue","endIterations","end","easeValue","ease","task","window","requestAnimationFrame","setTimeout","raf","defaultIsWindow","transitionScrollTo","settings","callback","cancelHandler","idle","lastSettings","passiveOptions","passive","endType","parentElement","debug","console","log","removeEventListener","cancellable","addEventListener","defaultIsScrollable","getComputedStyle","overflow","defaultValidTarget","findParentElement","el","assignedSlot","tagName","ownerDocument","defaultView","ownerWindow","getRootNode","nodeType","host","isNaN","v","pow","cancel","parents","validTarget","isScrollable","error","done","video","children","is","wrap","getContent","format","unwrap","html","currentRatio","filter","iframe","initIframeCover","match","prompt","removeClass","addClass","chkAutoplay","embedItem","newUrl","replace","src","indexOf","modal","formBuilder","emptyContent","renderForm","formContent","temp","$","formRender","dataType","formData","actions","getData","hasClass","each","div","dataGrid","split","label","input","subDiv","initModal","visibility","display","opacity","showActionButtons","disableFields","disabledAttrs","typeUserDisabledAttrs","getSettingComponent","hideModal","setData","showModal","layout","inputData","options","photoEdit","next","reader","FileReader","img","result","load","readAsDataURL","inputWidth","inputHeight","newWidth","newHeight","round","ratio","inputAlign","inputResponsive","cbbStyle","panel","algin","scrollIntoView","locale","text","settingsTitle","rx","rxUtility","meta_data_viewer_element","ajaxCall","url","data","hasPlugin","getPlugin","hide","closest","$form","bindPlugins","ajaxSubmit","beforeSubmit","arr","show","success","statusText","xhr","getResponse","set","handle","metaData","JSON","parse","atob","isEmptyObject","removeAttr","$list","title","sidebarCloser","click","handleAjaxError","which","submit","first","focus","onComponentChanged","onContainerChanged","onContentChanged","withEditables","bindEditor","componentContentElement","$content","contentParts","getEditorContent","appendTo","destroy","callbackResponse","names","index","editable","isSingleEditable","includes","push","makeEditableId","findInstance","inline","editor","id","fire","onComponentReady","rxModal","param","destroyEditor"],"mappings":"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","file":"js/keditor-components.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jquery\")) : factory(root[\"jquery\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","// import KEditor from 'keditor';\r\n\r\nKEditor.components['audio'] = {\r\n    settingEnabled: true,\r\n\r\n    settingTitle: 'Audio Settings',\r\n\r\n    init: function (contentArea, container, component, keditor) {\r\n        let componentContent = component.find('.keditor-component-content');\r\n\r\n        if (componentContent.find('.audio-wrapper').length === 0) {\r\n            componentContent.wrapInner('<div class=\"audio-wrapper\"></div>');\r\n        }\r\n    },\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        form.append(\r\n            '<form class=\"form-horizontal\">' +\r\n            '     <div class=\"form-group\">' +\r\n            '         <label class=\"col-sm-12\">Audio file</label>' +\r\n            '         <div class=\"col-sm-12\">' +\r\n            '             <div class=\"audio-toolbar\">' +\r\n            '                 <a href=\"#\" class=\"btn-audio-upload btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>' +\r\n            '                 <input class=\"audio-upload\" type=\"file\" style=\"display: none\" />' +\r\n            '             </div>' +\r\n            '         </div>' +\r\n            '     </div>' +\r\n            '     <div class=\"form-group\">' +\r\n            '         <label class=\"col-sm-12\">Autoplay</label>' +\r\n            '         <div class=\"col-sm-12\">' +\r\n            '             <input type=\"checkbox\" class=\"audio-autoplay\" />' +\r\n            '         </div>' +\r\n            '     </div>' +\r\n            '     <div class=\"form-group\">' +\r\n            '         <label class=\"col-sm-12\">Show Controls</label>' +\r\n            '         <div class=\"col-sm-12\">' +\r\n            '             <input type=\"checkbox\" class=\"audio-controls\" checked />' +\r\n            '         </div>' +\r\n            '     </div>' +\r\n            '     <div class=\"form-group\">' +\r\n            '         <label class=\"col-sm-12\">Width (%)</label>' +\r\n            '         <div class=\"col-sm-12\">' +\r\n            '             <input type=\"number\" min=\"20\" max=\"100\" class=\"form-control audio-width\" value=\"100\" />' +\r\n            '         </div>' +\r\n            '     </div>' +\r\n            '</form>'\r\n        );\r\n\r\n        let fileInput = form.find('.audio-upload');\r\n        let btnAudioUpload = form.find('.btn-audio-upload');\r\n        btnAudioUpload.off('click').on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            fileInput.trigger('click');\r\n        });\r\n        fileInput.off('change').on('change', function () {\r\n            let file = this.files[0];\r\n            if (/audio/.test(file.type)) {\r\n                // Todo: Upload to your server :)\r\n\r\n                let audio = component.find('audio');\r\n                audio.attr('src', URL.createObjectURL(file));\r\n            } else {\r\n                alert('Your selected file is not an audio file!');\r\n            }\r\n        });\r\n\r\n        let autoplayToggle = form.find('.audio-autoplay');\r\n        autoplayToggle.on('click', function () {\r\n            let audio = component.find('audio');\r\n            audio.prop('autoplay', this.checked);\r\n        });\r\n\r\n        let controlsToggle = form.find('.audio-controls');\r\n        controlsToggle.on('click', function () {\r\n            let audio = component.find('audio');\r\n            audio.prop('controls', this.checked);\r\n        });\r\n\r\n        let audioWidth = form.find('.audio-width');\r\n        audioWidth.on('change', function () {\r\n            let audio = component.find('audio');\r\n            let wrapper = audio.parent();\r\n\r\n            wrapper.attr('data-width', this.value);\r\n            audio.css('width', this.value + '%');\r\n        });\r\n    },\r\n\r\n    showSettingForm: function (form, component, keditor) {\r\n        let audio = component.find('audio');\r\n        let wrapper = audio.parent();\r\n\r\n        let autoplayToggle = form.find('.audio-autoplay');\r\n        let controlsToggle = form.find('.audio-controls');\r\n        let audioWidth = form.find('.audio-width');\r\n\r\n        autoplayToggle.prop('checked', !!audio.attr('autoplay'));\r\n        controlsToggle.prop('checked', !!audio.attr('controls'));\r\n        audioWidth.val(wrapper.attr('data-width') || 100);\r\n    }\r\n};\r\n","var COMPLETE = 'complete',\n    CANCELED = 'canceled';\n\nfunction raf(task){\n    if('requestAnimationFrame' in window){\n        return window.requestAnimationFrame(task);\n    }\n\n    setTimeout(task, 16);\n}\n\nfunction setElementScroll(element, x, y){\n    if(element.self === element){\n        element.scrollTo(x, y);\n    }else{\n        element.scrollLeft = x;\n        element.scrollTop = y;\n    }\n}\n\nfunction getTargetScrollLocation(scrollSettings, parent){\n    var align = scrollSettings.align,\n        target = scrollSettings.target,\n        targetPosition = target.getBoundingClientRect(),\n        parentPosition,\n        x,\n        y,\n        differenceX,\n        differenceY,\n        targetWidth,\n        targetHeight,\n        leftAlign = align && align.left != null ? align.left : 0.5,\n        topAlign = align && align.top != null ? align.top : 0.5,\n        leftOffset = align && align.leftOffset != null ? align.leftOffset : 0,\n        topOffset = align && align.topOffset != null ? align.topOffset : 0,\n        leftScalar = leftAlign,\n        topScalar = topAlign;\n\n    if(scrollSettings.isWindow(parent)){\n        targetWidth = Math.min(targetPosition.width, parent.innerWidth);\n        targetHeight = Math.min(targetPosition.height, parent.innerHeight);\n        x = targetPosition.left + parent.pageXOffset - parent.innerWidth * leftScalar + targetWidth * leftScalar;\n        y = targetPosition.top + parent.pageYOffset - parent.innerHeight * topScalar + targetHeight * topScalar;\n        x -= leftOffset;\n        y -= topOffset;\n        differenceX = x - parent.pageXOffset;\n        differenceY = y - parent.pageYOffset;\n    }else{\n        targetWidth = targetPosition.width;\n        targetHeight = targetPosition.height;\n        parentPosition = parent.getBoundingClientRect();\n        var offsetLeft = targetPosition.left - (parentPosition.left - parent.scrollLeft);\n        var offsetTop = targetPosition.top - (parentPosition.top - parent.scrollTop);\n        x = offsetLeft + (targetWidth * leftScalar) - parent.clientWidth * leftScalar;\n        y = offsetTop + (targetHeight * topScalar) - parent.clientHeight * topScalar;\n        x -= leftOffset;\n        y -= topOffset;\n        x = Math.max(Math.min(x, parent.scrollWidth - parent.clientWidth), 0);\n        y = Math.max(Math.min(y, parent.scrollHeight - parent.clientHeight), 0);\n        differenceX = x - parent.scrollLeft;\n        differenceY = y - parent.scrollTop;\n    }\n\n    return {\n        x: x,\n        y: y,\n        differenceX: differenceX,\n        differenceY: differenceY\n    };\n}\n\nfunction animate(parent){\n    var scrollSettings = parent._scrollSettings;\n\n    if(!scrollSettings){\n        return;\n    }\n\n    var maxSynchronousAlignments = scrollSettings.maxSynchronousAlignments;\n\n    var location = getTargetScrollLocation(scrollSettings, parent),\n        time = Date.now() - scrollSettings.startTime,\n        timeValue = Math.min(1 / scrollSettings.time * time, 1);\n\n    if(scrollSettings.endIterations >= maxSynchronousAlignments){\n        setElementScroll(parent, location.x, location.y);\n        parent._scrollSettings = null;\n        return scrollSettings.end(COMPLETE);\n    }\n\n    var easeValue = 1 - scrollSettings.ease(timeValue);\n\n    setElementScroll(parent,\n        location.x - location.differenceX * easeValue,\n        location.y - location.differenceY * easeValue\n    );\n\n    if(time >= scrollSettings.time){\n        scrollSettings.endIterations++;\n        return animate(parent);\n    }\n\n    raf(animate.bind(null, parent));\n}\n\nfunction defaultIsWindow(target){\n    return target.self === target\n}\n\nfunction transitionScrollTo(target, parent, settings, callback){\n    var idle = !parent._scrollSettings,\n        lastSettings = parent._scrollSettings,\n        now = Date.now(),\n        cancelHandler,\n        passiveOptions = { passive: true };\n\n    if(lastSettings){\n        lastSettings.end(CANCELED);\n    }\n\n    function end(endType){\n        parent._scrollSettings = null;\n\n        if(parent.parentElement && parent.parentElement._scrollSettings){\n            parent.parentElement._scrollSettings.end(endType);\n        }\n\n        if(settings.debug){\n            console.log('Scrolling ended with type', endType, 'for', parent)\n        }\n\n        callback(endType);\n        if(cancelHandler){\n            parent.removeEventListener('touchstart', cancelHandler, passiveOptions);\n            parent.removeEventListener('wheel', cancelHandler, passiveOptions);\n        }\n    }\n\n    var maxSynchronousAlignments = settings.maxSynchronousAlignments;\n\n    if(maxSynchronousAlignments == null){\n        maxSynchronousAlignments = 3;\n    }\n\n    parent._scrollSettings = {\n        startTime: now,\n        endIterations: 0,\n        target: target,\n        time: settings.time,\n        ease: settings.ease,\n        align: settings.align,\n        isWindow: settings.isWindow || defaultIsWindow,\n        maxSynchronousAlignments: maxSynchronousAlignments,\n        end: end\n    };\n\n    if(!('cancellable' in settings) || settings.cancellable){\n        cancelHandler = end.bind(null, CANCELED);\n        parent.addEventListener('touchstart', cancelHandler, passiveOptions);\n        parent.addEventListener('wheel', cancelHandler, passiveOptions);\n    }\n\n    if(idle){\n        animate(parent);\n    }\n\n    return cancelHandler\n}\n\nfunction defaultIsScrollable(element){\n    return (\n        'pageXOffset' in element ||\n        (\n            element.scrollHeight !== element.clientHeight ||\n            element.scrollWidth !== element.clientWidth\n        ) &&\n        getComputedStyle(element).overflow !== 'hidden'\n    );\n}\n\nfunction defaultValidTarget(){\n    return true;\n}\n\nfunction findParentElement(el){\n    if (el.assignedSlot) {\n        return findParentElement(el.assignedSlot);\n    }\n\n    if (el.parentElement) {\n        if(el.parentElement.tagName === 'BODY'){\n            return el.parentElement.ownerDocument.defaultView || el.parentElement.ownerDocument.ownerWindow;\n        }\n        return el.parentElement;\n    }\n\n    if (el.getRootNode){\n        var parent = el.getRootNode()\n        if(parent.nodeType === 11) {\n            return parent.host;\n        }\n    }\n}\n\nmodule.exports = function(target, settings, callback){\n    if(!target){\n        return;\n    }\n\n    if(typeof settings === 'function'){\n        callback = settings;\n        settings = null;\n    }\n\n    if(!settings){\n        settings = {};\n    }\n\n    settings.time = isNaN(settings.time) ? 1000 : settings.time;\n    settings.ease = settings.ease || function(v){return 1 - Math.pow(1 - v, v / 2);};\n\n    var parent = findParentElement(target),\n        parents = 1;\n\n    function done(endType){\n        parents--;\n        if(!parents){\n            callback && callback(endType);\n        }\n    }\n\n    var validTarget = settings.validTarget || defaultValidTarget;\n    var isScrollable = settings.isScrollable;\n\n    if(settings.debug){\n        console.log('About to scroll to', target)\n\n        if(!parent){\n            console.error('Target did not have a parent, is it mounted in the DOM?')\n        }\n    }\n\n    var cancel;\n\n    while(parent){\n        if(settings.debug){\n            console.log('Scrolling parent node', parent)\n        }\n\n        if(validTarget(parent, parents) && (isScrollable ? isScrollable(parent, defaultIsScrollable) : defaultIsScrollable(parent))){\n            parents++;\n            cancel = transitionScrollTo(target, parent, settings, done);\n        }\n\n        parent = findParentElement(parent);\n\n        if(!parent){\n            done(COMPLETE)\n            break;\n        }\n    }\n\n    return cancel;\n};\n","// import KEditor from 'keditor';\r\n\r\nKEditor.components['video'] = {\r\n    init: function (contentArea, container, component, keditor) {\r\n        let componentContent = component.children('.keditor-component-content');\r\n        let video = componentContent.find('video');\r\n\r\n        if (!video.parent().is('.video-wrapper')) {\r\n            video.wrap('<div class=\"video-wrapper\"></div>');\r\n        }\r\n    },\r\n\r\n    getContent: function (component, keditor, format) {\r\n        let componentContent = component.children('.keditor-component-content');\r\n        let video = componentContent.find('video');\r\n        video.unwrap();\r\n\r\n        return componentContent.html();\r\n    },\r\n\r\n    settingEnabled: true,\r\n\r\n    settingTitle: 'Video Settings',\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        form.append(`\r\n            <form class=\"form-horizontal\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"video-input\" class=\"col-sm-12\">Video file</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <div class=\"video-toolbar\">\r\n                            <a href=\"#\" class=\"btn-video-input btn btn-sm btn-primary\"><i class=\"fa fa-upload\"></i></a>\r\n                            <input class=\"video-input\" type=\"file\" style=\"display: none\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"video-autoplay\" class=\"col-sm-12\">Autoplay</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <input type=\"checkbox\" class=\"video-autoplay\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"video-loop\" class=\"col-sm-12\">Loop</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <input type=\"checkbox\" class=\"video-loop\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"video-controls\" class=\"col-sm-12\">Show Controls</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <input type=\"checkbox\" class=\"video-controls\" checked />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"\" class=\"col-sm-12\">Ratio</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <input type=\"radio\" name=\"video-radio\" class=\"video-ratio\" value=\"4/3\" checked /> 4:3\r\n                    </div>\r\n                    <div class=\"col-sm-12\">\r\n                        <input type=\"radio\" name=\"video-radio\" class=\"video-ratio\" value=\"16/9\" /> 16:9\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"video-width\" class=\"col-sm-12\">Width (px)</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <input type=\"number\" class=\"video-width form-control\" min=\"320\" max=\"1920\" value=\"320\" />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        `);\r\n\r\n        let fileInput = form.find('.video-input');\r\n        form.find('.btn-video-input').on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            fileInput.trigger('click');\r\n        });\r\n        fileInput.on('change', function () {\r\n            let file = this.files[0];\r\n            let video = component.find('video');\r\n\r\n            if (/video/.test(file.type)) {\r\n                // Todo: Upload to your server :)\r\n\r\n                video.attr('src', URL.createObjectURL(file));\r\n            } else {\r\n                alert('Your selected file is not an video file!');\r\n            }\r\n        });\r\n\r\n        let autoplayToggle = form.find('.video-autoplay');\r\n        autoplayToggle.on('click', function () {\r\n            let video = component.find('video');\r\n\r\n            video.prop('autoplay', this.checked);\r\n        });\r\n\r\n        let loopToggle = form.find('.video-loop');\r\n        loopToggle.on('click', function () {\r\n            let video = component.find('video');\r\n            video.prop('loop', this.checked);\r\n        });\r\n\r\n        let ratio = form.find('.video-ratio');\r\n        ratio.on('click', function () {\r\n            let video = component.find('video');\r\n            video.attr('data-ratio', this.value);\r\n            form.find('.video-width').trigger('change');\r\n        });\r\n\r\n        let controlToggle = form.find('.video-controls');\r\n        controlToggle.on('click', function () {\r\n            let video = component.find('video');\r\n            video.prop('controls', this.checked);\r\n        });\r\n\r\n        let videoWidth = form.find('.video-width');\r\n        videoWidth.on('change', function () {\r\n            let video = component.find('video');\r\n\r\n            let currentRatio = video.attr('data-ratio') === '16/9' ? 16 / 9 : 4 / 3;\r\n            let height = this.value / currentRatio;\r\n            video.attr('width', this.value);\r\n            video.attr('height', height);\r\n        });\r\n    },\r\n\r\n    showSettingForm: function (form, component, keditor) {\r\n        let video = component.find('video');\r\n\r\n        let autoplayToggle = form.find('.video-autoplay');\r\n        autoplayToggle.prop('checked', video.prop('autoplay'));\r\n\r\n        let loopToggle = form.find('.video-loop');\r\n        loopToggle.prop('checked', video.prop('loop'));\r\n\r\n        let ratio = form.find('.video-ratio');\r\n        ratio.prop('checked', false).filter('[value=\"' + video.attr('data-ratio') + '\"]').prop('checked', true);\r\n\r\n        let controlToggle = form.find('.video-controls');\r\n        controlToggle.prop('checked', video.prop('controls'));\r\n\r\n        let videoWidth = form.find('.video-width');\r\n        videoWidth.val(video.attr('width'));\r\n    }\r\n};\r\n","// import KEditor from 'keditor';\r\n\r\nKEditor.components['vimeo'] = {\r\n    init: function (contentArea, container, component, keditor) {\r\n        let iframe = component.find('iframe');\r\n        let wrapper = iframe.parent();\r\n        keditor.initIframeCover(iframe, wrapper);\r\n    },\r\n\r\n    settingEnabled: true,\r\n\r\n    settingTitle: 'Vimeo Settings',\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        form.append(\r\n            '<form class=\"form-horizontal\">' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-block btn-primary btn-vimeo-edit\">Change Video</button>' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"checkbox\" id=\"vimeo-autoplay\" />' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-vimeo-169\">16:9</button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-vimeo-43\">4:3</button>' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '</form>'\r\n        );\r\n\r\n        let btnEdit = form.find('.btn-vimeo-edit');\r\n        btnEdit.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            let inputData = prompt('Please enter Vimeo URL in here:');\r\n            let vimeoRegex = /https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/;\r\n            let match = inputData.match(vimeoRegex);\r\n            if (match && match[1]) {\r\n                component.find('.embed-responsive-item').attr('src', 'https://player.vimeo.com/video/' + match[1] + '?byline=0&portrait=0&badge=0');\r\n            } else {\r\n                alert('Your Vimeo URL is invalid!');\r\n            }\r\n        });\r\n\r\n        let btn169 = form.find('.btn-vimeo-169');\r\n        btn169.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            component.find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n        });\r\n\r\n        let btn43 = form.find('.btn-vimeo-43');\r\n        btn43.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            component.find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n        });\r\n\r\n        let chkAutoplay = form.find('#vimeo-autoplay');\r\n        chkAutoplay.on('click', function () {\r\n            let embedItem = component.find('.embed-responsive-item');\r\n            let currentUrl = embedItem.attr('src');\r\n            let newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?byline=0&portrait=0&badge=0&autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n            embedItem.attr('src', newUrl);\r\n        });\r\n    },\r\n\r\n    showSettingForm: function (form, component, keditor) {\r\n        let embedItem = component.find('.embed-responsive-item');\r\n        let chkAutoplay = form.find('#vimeo-autoplay');\r\n        let src = embedItem.attr('src');\r\n\r\n        chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n    }\r\n};\r\n","// import KEditor from 'keditor';\r\n\r\nKEditor.components['youtube'] = {\r\n    init: function (contentArea, container, component, keditor) {\r\n        let iframe = component.find('iframe');\r\n        let wrapper = iframe.parent();\r\n        keditor.initIframeCover(iframe, wrapper);\r\n    },\r\n\r\n    settingEnabled: true,\r\n\r\n    settingTitle: 'Youtube Settings',\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        form.append(\r\n            '<form class=\"form-horizontal\">' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-block btn-primary btn-youtube-edit\">Change Video</button>' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label class=\"col-sm-12\">Autoplay</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"checkbox\" id=\"youtube-autoplay\" />' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-169\">16:9</button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-youtube-43\">4:3</button>' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '</form>'\r\n        );\r\n\r\n        let btnEdit = form.find('.btn-youtube-edit');\r\n        btnEdit.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            let inputData = prompt('Please enter Youtube URL in here:');\r\n            let youtubeRegex = /^(?:http(?:s)?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:(?:watch)?\\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\\/))([^\\?&\\\"'>]+)/;\r\n            let match = inputData.match(youtubeRegex);\r\n            if (match && match[1]) {\r\n                component.find('.embed-responsive-item').attr('src', 'https://www.youtube.com/embed/' + match[1]);\r\n            } else {\r\n                alert('Your Youtube URL is invalid!');\r\n            }\r\n        });\r\n\r\n        let btn169 = form.find('.btn-youtube-169');\r\n        btn169.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            component.find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n        });\r\n\r\n        let btn43 = form.find('.btn-youtube-43');\r\n        btn43.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            component.find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n        });\r\n\r\n        let chkAutoplay = form.find('#youtube-autoplay');\r\n        chkAutoplay.on('click', function () {\r\n            let embedItem = component.find('.embed-responsive-item');\r\n            let currentUrl = embedItem.attr('src');\r\n            let newUrl = (currentUrl.replace(/(\\?.+)+/, '')) + '?autoplay=' + (chkAutoplay.is(':checked') ? 1 : 0);\r\n            embedItem.attr('src', newUrl);\r\n        });\r\n    },\r\n\r\n    showSettingForm: function (form, component, keditor) {\r\n        let embedItem = component.find('.embed-responsive-item');\r\n        let chkAutoplay = form.find('#youtube-autoplay');\r\n        let src = embedItem.attr('src');\r\n\r\n        chkAutoplay.prop('checked', src.indexOf('autoplay=1') !== -1);\r\n    }\r\n};\r\n","import '../styles/keditor-component-form.less';\r\n\r\nimport $ from 'jquery';\r\n// import KEditor from 'keditor';\r\n\r\nlet modal;\r\nlet formBuilder;\r\n\r\nKEditor.components['form'] = {\r\n    emptyContent: '<p class=\"text-muted lead text-center\"><br />[No form content]<br /><br /></p>',\r\n\r\n    renderForm: function (component) {\r\n        let formContent = component.find('.form-content');\r\n        let temp = $('<div />');\r\n\r\n        temp.formRender({\r\n            dataType: 'json',\r\n            formData: formBuilder.actions.getData('json')\r\n        });\r\n\r\n        formContent.html(temp.html());\r\n\r\n        if (formContent.hasClass('form-horizontal')) {\r\n            formContent.children('div').each(function () {\r\n                let div = $(this);\r\n                let dataGrid = formContent.attr('data-grid') || '4-8';\r\n                dataGrid = dataGrid.split('-');\r\n\r\n                if (div.attr('class')) {\r\n                    if (div.hasClass('fb-button')) {\r\n                        div.find('button').wrap(`<div class=\"col-sm-${dataGrid[1]} col-sm-offset-${dataGrid[0]}\"></div>`);\r\n                    } else {\r\n                        let label = div.children('label');\r\n                        let input = div.children('input, select, textarea');\r\n                        let subDiv = div.children('div');\r\n\r\n                        label.addClass(`control-label col-sm-${dataGrid[0]}`);\r\n\r\n                        if (subDiv.length > 0) {\r\n                            subDiv.addClass(`col-sm-${dataGrid[1]}`);\r\n                        } else {\r\n                            input.addClass('form-control').wrap(`<div class=\"col-sm-${dataGrid[1]}\"></div>`);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    initModal: function (keditor) {\r\n        let self = this;\r\n\r\n        modal = keditor.initModal('keditor-modal-form');\r\n        modal.find('.keditor-modal-title').html('Design form');\r\n\r\n        modal.css({\r\n            visibility: 'hidden',\r\n            display: 'block',\r\n            opacity: 1\r\n        });\r\n\r\n        modal.find('.keditor-modal-body').append(`\r\n            <div class=\"form-builder-area-wrapper\">\r\n                <div class=\"form-builder-area\"></div>\r\n            </div>\r\n        `);\r\n        formBuilder = modal.find('.form-builder-area').formBuilder({\r\n            showActionButtons: false,\r\n            dataType: 'json',\r\n            disableFields: [\r\n                'autocomplete',\r\n                'paragraph',\r\n                'header'\r\n            ],\r\n            disabledAttrs: ['access'],\r\n\r\n            typeUserDisabledAttrs: {\r\n                'checkbox-group': [\r\n                    'toggle',\r\n                    'inline'\r\n                ]\r\n            }\r\n        });\r\n\r\n        modal.find('.keditor-modal-footer').html(`\r\n            <button type=\"button\" class=\"keditor-ui keditor-btn keditor-btn-default keditor-modal-close\">Close</button>\r\n            <button type=\"button\" class=\"keditor-ui keditor-btn keditor-btn-primary btn-save-form\">Save</button>\r\n        `);\r\n\r\n        modal.find('.btn-save-form').on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            let component = keditor.getSettingComponent();\r\n            component.find('.form-data').html(formBuilder.actions.getData('json'));\r\n            self.renderForm(component);\r\n            keditor.hideModal(modal);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            modal.css({\r\n                visibility: '',\r\n                display: '',\r\n                opacity: ''\r\n            });\r\n        }, 500);\r\n    },\r\n\r\n    init: function (contentArea, container, component, keditor) {\r\n        let self = this;\r\n        let componentContent = component.find('.keditor-component-content');\r\n        let formContent = component.find('.form-content');\r\n        let formData = component.find('.form-data');\r\n\r\n        if (formData.length === 0) {\r\n            componentContent.append('<div class=\"form-data\" style=\"display: none !important;\"></div>')\r\n        }\r\n\r\n        if (formContent.length === 0) {\r\n            componentContent.append(`<form class=\"form-content\">${self.emptyContent}</form>`);\r\n        }\r\n\r\n        if (!modal) {\r\n            self.initModal(keditor);\r\n        }\r\n    },\r\n\r\n    settingEnabled: true,\r\n\r\n    settingTitle: 'Form Settings',\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        let self = this;\r\n\r\n        form.html(`\r\n            <div class=\"form-horizontal\">\r\n                <div class=\"form-group\">\r\n                    <div class=\"col-sm-12\">\r\n                       <button class=\"btn btn-primary btn-block btn-design-form\" type=\"button\"><i class=\"fa fa-paint-brush\"></i> Design form</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-sm-12\">Action</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <input type=\"text\" class=\"form-control txt-form-action\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-sm-12\">Method</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <select class=\"form-control select-method\">\r\n                            <option value=\"get\">Get</option>\r\n                            <option value=\"post\">Post</option>\r\n                            <option value=\"put\">Put</option>\r\n                            <option value=\"delete\">Delete</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-sm-12\">Enctype</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <select class=\"form-control select-enctype\">\r\n                            <option value=\"text/plain\">text/plain</option>\r\n                            <option value=\"multipart/form-data\">multipart/form-data</option>\r\n                            <option value=\"application/x-www-form-urlencoded\">application/x-www-form-urlencoded</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-sm-12\">Layout</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <select class=\"form-control select-layout\">\r\n                            <option value=\"\">Normal</option>\r\n                            <option value=\"form-horizontal\">Horizontal</option>\r\n                            <option value=\"form-inline\">Inline</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group select-grid-wrapper\">\r\n                    <label class=\"col-sm-12\">Grid setting</label>\r\n                    <div class=\"col-sm-12\">\r\n                        <select class=\"form-control select-grid\">\r\n                            <option value=\"2-10\">col-2 col-10</option>\r\n                            <option value=\"3-9\">col-3 col-9</option>\r\n                            <option value=\"4-8\">col-4 col-8</option>\r\n                            <option value=\"5-7\">col-5 col-7</option>\r\n                            <option value=\"6-6\">col-6 col-6</option>\r\n                        </select>\r\n                        <small class=\"help-block\">This setting is for width of label and control with number of cols as unit</small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `);\r\n\r\n        form.find('.btn-design-form').on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            let component = keditor.getSettingComponent();\r\n            formBuilder.actions.setData(component.find('.form-data').html());\r\n            keditor.showModal(modal);\r\n        });\r\n\r\n        form.find('.txt-form-action').on('change', function () {\r\n            let component = keditor.getSettingComponent();\r\n            let formContent = component.find('.form-content');\r\n\r\n            formContent.attr('action', this.value);\r\n        });\r\n\r\n        form.find('.select-method').on('change', function () {\r\n            let component = keditor.getSettingComponent();\r\n            let formContent = component.find('.form-content');\r\n\r\n            formContent.attr('action', this.value);\r\n        });\r\n\r\n        form.find('.select-enctype').on('change', function () {\r\n            let component = keditor.getSettingComponent();\r\n            let formContent = component.find('.form-content');\r\n\r\n            formContent.attr('enctype', this.value);\r\n        });\r\n\r\n        form.find('.select-layout').on('change', function () {\r\n            let component = keditor.getSettingComponent();\r\n            let formContent = component.find('.form-content');\r\n\r\n            formContent.removeClass('form-inline form-horizontal');\r\n            if (this.value) {\r\n                formContent.addClass(this.value);\r\n            }\r\n            self.renderForm(component);\r\n            form.find('.select-grid-wrapper').css('display', this.value === 'form-horizontal' ? 'block' : 'none');\r\n        });\r\n\r\n        form.find('.select-grid').on('change', function () {\r\n            let component = keditor.getSettingComponent();\r\n            let formContent = component.find('.form-content');\r\n\r\n            formContent.attr('data-grid', this.value);\r\n            self.renderForm(component);\r\n        });\r\n    },\r\n\r\n    showSettingForm: function (form, component, keditor) {\r\n        let formContent = component.find('.form-content');\r\n\r\n        let layout = '';\r\n        if (formContent.hasClass('form-inline')) {\r\n            layout = 'form-inline';\r\n        } else if (formContent.hasClass('form-horizontal')) {\r\n            layout = 'form-horizontal';\r\n        }\r\n\r\n        form.find('.txt-form-action').val(formContent.attr('action') || '');\r\n        form.find('.select-method').val(formContent.attr('method') || 'get');\r\n        form.find('.select-enctype').val(formContent.attr('enctype'));\r\n        form.find('.select-layout').val(layout);\r\n        form.find('.select-grid-wrapper').css('display', layout === 'form-horizontal' ? 'block' : 'none');\r\n        form.find('.select-grid').val(formContent.attr('data-grid') || '4-8');\r\n    }\r\n};\r\n","import $ from 'jquery';\r\n// import KEditor from 'keditor';\r\n\r\nKEditor.components['googlemap'] = {\r\n    init: function (contentArea, container, component, keditor) {\r\n        let iframe = component.find('iframe');\r\n        let wrapper = iframe.parent();\r\n        keditor.initIframeCover(iframe, wrapper);\r\n    },\r\n\r\n    settingEnabled: true,\r\n\r\n    settingTitle: 'Google Map Settings',\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        form.append(\r\n            '<form class=\"form-horizontal\">' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-block btn-primary btn-googlemap-edit\">Update Map</button>' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label class=\"col-sm-12\">Aspect Ratio</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-googlemap-169\">16:9</button>' +\r\n            '           <button type=\"button\" class=\"btn btn-sm btn-default btn-googlemap-43\">4:3</button>' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '</form>'\r\n        );\r\n\r\n        let btnEdit = form.find('.btn-googlemap-edit');\r\n        btnEdit.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            let inputData = prompt('Please enter Google Map embed code in here:');\r\n            let iframe = $(inputData);\r\n            let src = iframe.attr('src');\r\n            if (iframe.length > 0 && src && src.length > 0) {\r\n                component.find('.embed-responsive-item').attr('src', src);\r\n            } else {\r\n                alert('Your Google Map embed code is invalid!');\r\n            }\r\n        });\r\n\r\n        let btn169 = form.find('.btn-googlemap-169');\r\n        btn169.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            component.find('.embed-responsive').removeClass('embed-responsive-4by3').addClass('embed-responsive-16by9');\r\n        });\r\n\r\n        let btn43 = form.find('.btn-googlemap-43');\r\n        btn43.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            component.find('.embed-responsive').removeClass('embed-responsive-16by9').addClass('embed-responsive-4by3');\r\n        });\r\n    }\r\n};\r\n","import $ from 'jquery';\r\n// import KEditor from 'keditor';\r\n\r\nKEditor.components['photo'] = {\r\n    init: function (contentArea, container, component, keditor) {\r\n        let componentContent = component.children('.keditor-component-content');\r\n        let img = componentContent.find('img');\r\n\r\n        img.css('display', 'inline-block');\r\n    },\r\n\r\n    settingEnabled: true,\r\n\r\n    settingTitle: 'Photo Settings',\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        let self = this;\r\n        let options = keditor.options;\r\n\r\n        form.append(\r\n            '<form class=\"form-horizontal\">' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-block btn-primary\" id=\"photo-edit\">Change Photo</button>' +\r\n            '           <input type=\"file\" style=\"display: none\" />' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label for=\"photo-align\" class=\"col-sm-12\">Align</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <select id=\"photo-align\" class=\"form-control\">' +\r\n            '               <option value=\"left\">Left</option>' +\r\n            '               <option value=\"center\">Center</option>' +\r\n            '               <option value=\"right\">Right</option>' +\r\n            '           </select>' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label for=\"photo-style\" class=\"col-sm-12\">Style</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <select id=\"photo-style\" class=\"form-control\">' +\r\n            '               <option value=\"\">None</option>' +\r\n            '               <option value=\"img-rounded\">Rounded</option>' +\r\n            '               <option value=\"img-circle\">Circle</option>' +\r\n            '               <option value=\"img-thumbnail\">Thumbnail</option>' +\r\n            '           </select>' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label for=\"photo-responsive\" class=\"col-sm-12\">Responsive</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"checkbox\" id=\"photo-responsive\" />' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label for=\"photo-width\" class=\"col-sm-12\">Width</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"number\" id=\"photo-width\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label for=\"photo-height\" class=\"col-sm-12\">Height</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"number\" id=\"photo-height\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '</form>'\r\n        );\r\n\r\n        let photoEdit = form.find('#photo-edit');\r\n        let fileInput = photoEdit.next();\r\n        photoEdit.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            fileInput.trigger('click');\r\n        });\r\n        fileInput.on('change', function () {\r\n            let file = this.files[0];\r\n            if (/image/.test(file.type)) {\r\n                let reader = new FileReader();\r\n\r\n                reader.addEventListener('load', function (e) {\r\n                    let img = component.find('img');\r\n                    img.attr('src', e.target.result);\r\n                    img.css({\r\n                        width: '',\r\n                        height: ''\r\n                    });\r\n                    img.load(function () {\r\n                        self.showSettingForm.call(self, form, component, keditor);\r\n                    });\r\n                });\r\n\r\n                reader.readAsDataURL(this.files[0]);\r\n            } else {\r\n                alert('Your selected file is not photo!');\r\n            }\r\n        });\r\n\r\n        let inputAlign = form.find('#photo-align');\r\n        inputAlign.on('change', function () {\r\n            let panel = component.find('.photo-panel');\r\n            panel.css('text-align', this.value);\r\n        });\r\n\r\n        let inputResponsive = form.find('#photo-responsive');\r\n        inputResponsive.on('click', function () {\r\n            component.find('img')[this.checked ? 'addClass' : 'removeClass']('img-responsive');\r\n        });\r\n\r\n        let cbbStyle = form.find('#photo-style');\r\n        cbbStyle.on('change', function () {\r\n            let img = component.find('img');\r\n            let val = this.value;\r\n\r\n            img.removeClass('img-rounded img-circle img-thumbnail');\r\n            if (val) {\r\n                img.addClass(val);\r\n            }\r\n        });\r\n\r\n        let inputWidth = form.find('#photo-width');\r\n        let inputHeight = form.find('#photo-height');\r\n        inputWidth.on('change', function () {\r\n            let img = component.find('img');\r\n            let newWidth = +this.value;\r\n            let newHeight = Math.round(newWidth / self.ratio);\r\n\r\n            if (newWidth <= 0) {\r\n                newWidth = self.width;\r\n                newHeight = self.height;\r\n                this.value = newWidth;\r\n            }\r\n\r\n            img.css({\r\n                'width': newWidth,\r\n                'height': newHeight\r\n            });\r\n            inputHeight.val(newHeight);\r\n        });\r\n        inputHeight.on('change', function () {\r\n            let img = component.find('img');\r\n            let newHeight = +this.value;\r\n            let newWidth = Math.round(newHeight * self.ratio);\r\n\r\n            if (newHeight <= 0) {\r\n                newWidth = self.width;\r\n                newHeight = self.height;\r\n                this.value = newHeight;\r\n            }\r\n\r\n            img.css({\r\n                'height': newHeight,\r\n                'width': newWidth\r\n            });\r\n            inputWidth.val(newWidth);\r\n        });\r\n    },\r\n\r\n    showSettingForm: function (form, component, keditor) {\r\n        let self = this;\r\n        let inputAlign = form.find('#photo-align');\r\n        let inputResponsive = form.find('#photo-responsive');\r\n        let inputWidth = form.find('#photo-width');\r\n        let inputHeight = form.find('#photo-height');\r\n        let cbbStyle = form.find('#photo-style');\r\n\r\n        let panel = component.find('.photo-panel');\r\n        let img = panel.find('img');\r\n\r\n        let algin = panel.css('text-align');\r\n        if (algin !== 'right' || algin !== 'center') {\r\n            algin = 'left';\r\n        }\r\n\r\n        if (img.hasClass('img-rounded')) {\r\n            cbbStyle.val('img-rounded');\r\n        } else if (img.hasClass('img-circle')) {\r\n            cbbStyle.val('img-circle');\r\n        } else if (img.hasClass('img-thumbnail')) {\r\n            cbbStyle.val('img-thumbnail');\r\n        } else {\r\n            cbbStyle.val('');\r\n        }\r\n\r\n        inputAlign.val(algin);\r\n        inputResponsive.prop('checked', img.hasClass('img-responsive'));\r\n        inputWidth.val(img.width());\r\n        inputHeight.val(img.height());\r\n\r\n        $('<img />').attr('src', img.attr('src')).load(function () {\r\n            self.ratio = this.width / this.height;\r\n            self.width = this.width;\r\n            self.height = this.height;\r\n        });\r\n    }\r\n};\r\n","import '../styles/keditor-component-text.less';\r\n// import { position, offset } from 'caret-pos';\r\n// import { CKEditor } from '../../../../resources/assets/js/plugin-binders/CKEditor';\r\n// import KEditor from 'keditor';\r\nvar scrollIntoView = require('scroll-into-view');\r\n\r\n// Text component\r\n// ---------------------------------------------------------------------\r\nKEditor.components['text'] = {\r\n    settingEnabled: function (keditor, component) {\r\n        return component.is('[data-element-settings-url');\r\n    },\r\n\r\n    settingTitle: function (keditor, component) {\r\n        return keditor.options.locale.component.text.settingsTitle;\r\n    },\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        let self = this;\r\n        let options = keditor.options;\r\n        let rx = keditor.options.rx;\r\n        let rxUtility = keditor.options.rxUtility;\r\n        var meta_data_viewer_element = component.find('.keditor-meta-data');\r\n\r\n        rxUtility.ajaxCall({\r\n            rx: rx,\r\n            element: $(form),\r\n            type: 'get',\r\n            url: component.data('elementSettingsUrl'),\r\n        }, function (data) {\r\n            if (rx.hasPlugin('loading-overlay')) {\r\n                rx.getPlugin('loading-overlay').hide($(form).closest('.ajax-overlay'));\r\n            }\r\n\r\n            let $form = $(data.form);\r\n\r\n            rx.bindPlugins($form);\r\n\r\n            $form.on('submit', function () {\r\n                $(this).ajaxSubmit({\r\n                    beforeSubmit: function(arr, $form, options)\r\n                    {\r\n                        if (rx.hasPlugin('loading-overlay')) {\r\n                            rx.getPlugin('loading-overlay').show($form.closest('.ajax-overlay'));\r\n                        }\r\n                    },\r\n                    success: function(data, statusText, xhr, $form)\r\n                    {\r\n                        if (rx.hasPlugin('loading-overlay')) {\r\n                            rx.getPlugin('loading-overlay').hide($form.closest('.ajax-overlay'));\r\n                        }\r\n\r\n                        rx.getResponse().set(data).handle(null, {\r\n                            'meta_data': function(data) {\r\n                                let metaData = data ? JSON.parse(atob(data)) : {};\r\n\r\n                                if (!$.isEmptyObject(metaData)) {\r\n                                    var $list = $('<ul>');\r\n\r\n                                    for (var key in metaData) {\r\n                                        $list.append(`<li>${metaData[key].title}: ${metaData[key].value}</li>`);\r\n                                    }\r\n\r\n                                    meta_data_viewer_element.html($list);\r\n                                    component.attr('data-element-meta', data);\r\n                                    component.addClass('meta-data-active');\r\n                                } else {\r\n                                    meta_data_viewer_element.text('');\r\n                                    component.removeAttr('data-element-meta');\r\n                                    component.removeClass('meta-data-active');\r\n                                }\r\n\r\n                                keditor.sidebarCloser.click();\r\n                            }\r\n                        });\r\n                    },\r\n                    error: function(data)\r\n                    {\r\n                        rx.handleAjaxError(data);\r\n                    }\r\n                });\r\n\r\n                return false;\r\n            });\r\n\r\n            form\r\n                .append($form)\r\n                .on('keydown', function (e) {\r\n                    switch (e.which) {\r\n                        case 13: // enter\r\n                            $form.submit();\r\n                            return false;\r\n                        case 27: // esc\r\n                            keditor.sidebarCloser.click();\r\n                            return false;\r\n                    }\r\n                })\r\n                .find(':input:visible').first().focus();\r\n        });\r\n    },\r\n\r\n    init: function (contentArea, container, component, keditor)\r\n    {\r\n        let self = this;\r\n        let options = keditor.options;\r\n\r\n        let componentContent = component.children('.keditor-component-content');\r\n\r\n        componentContent.on('input', function (e) {\r\n            if (typeof options.onComponentChanged === 'function') {\r\n                options.onComponentChanged.call(keditor, e, component);\r\n            }\r\n\r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(keditor, e, container, contentArea);\r\n            }\r\n\r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(keditor, e, contentArea);\r\n            }\r\n        });\r\n\r\n        self.withEditables(keditor, contentArea, component, componentContent, self.bindEditor);\r\n    },\r\n\r\n    getContent: function (component, keditor, format)\r\n    {\r\n        let self = this;\r\n        let componentContent = component.find('.keditor-component-content');\r\n        let componentContentElement = component.find('[data-element-type]');\r\n\r\n        if (format === 'raw') {\r\n            $content = componentContent.html();\r\n        } else {\r\n            let contentParts = {};\r\n            var $content = $('<div>')\r\n                .addClass('content-container')\r\n                .attr('data-element-type', componentContentElement.data('elementType'))\r\n                .attr('data-element-id', componentContentElement.data('elementId'))\r\n                .attr('data-element-template', componentContentElement.data('elementTemplate'));\r\n\r\n            self.withEditables(keditor, null, component, componentContent, self.getEditorContent, contentParts);\r\n\r\n            $.each(contentParts, function(name, html) {\r\n                let $wrapper = $('<div>')\r\n                    .addClass('editable-content')\r\n                    .attr('data-name', name)\r\n                    .html(html);\r\n\r\n                $wrapper.appendTo($content)\r\n            });\r\n        }\r\n\r\n        KEditor.log(`Component [${componentContentElement.data('elementType')}][${componentContentElement.data('elementId')}] [${format}] content`, $content);\r\n\r\n        return $content;\r\n    },\r\n\r\n    destroy: function (component, keditor)\r\n    {\r\n        let self = this;\r\n        let componentContent = component.find('.keditor-component-content');\r\n\r\n        // self.withEditables(keditor, null, component, componentContent, self.destroyEditor);\r\n    },\r\n\r\n    withEditables: function(keditor, contentArea, component, componentContent, callback, callbackResponse)\r\n    {\r\n        let self = this;\r\n        let rx = keditor.options.rx;\r\n        let names = [];\r\n\r\n        componentContent.find('.editable').each(function(index, editable) {\r\n            try {\r\n                let isSingleEditable = (componentContent.find('.editable').length == 1);\r\n\r\n                if (!isSingleEditable && !$(editable).is('[data-name]')) {\r\n                    throw \"[data-name] missing in editable element\";\r\n                }\r\n\r\n                if ($(editable).is('[data-name]')) {\r\n                    if (names.includes($(editable).data('name'))) {\r\n                        throw `[data-name=\"${$(editable).data('name')}\"] already used in this component's editable elements`;\r\n                    }\r\n\r\n                    names.push($(editable).data('name'));\r\n                }\r\n\r\n                callback.call(self, keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse);\r\n            } catch (e) {\r\n                console.error(e, editable);\r\n\r\n                if (rx.hasPlugin('notification')) {\r\n                    rx.getPlugin('notification').show(e, 'error');\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    bindEditor: function(keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse)\r\n    {\r\n        let self = this;\r\n        let rx = keditor.options.rx;\r\n\r\n        $(editable)\r\n            .prop('contenteditable', true)\r\n            .attr('data-editable-id', this.makeEditableId(componentContent, editable, isSingleEditable));\r\n\r\n        if (!rx.hasPlugin('inline-editor')) {\r\n            return;\r\n        }\r\n\r\n        $(editable).on('focus', function(e) {\r\n            console.debug(`%c [${$(editable).data('editableId')}] FOCUS`, 'color: #d1ffa3;', editable);\r\n\r\n            scrollIntoView(editable, { time: 100 });\r\n\r\n            // const pos = position($(editable).get(0)); // { left: 15, top: 30, height: 20, pos: 15 }\r\n            // const off = offset($(editable).get(0));\r\n\r\n            // console.log('POS', pos);\r\n            // console.log('OFF', off);\r\n\r\n            rx.getPlugin('inline-editor').findInstance(editable) || rx.getPlugin('inline-editor').inline(editable, {} /*{ enableContextMenu: false }*/, function (editor) {\r\n                console.debug(`%c [CKEditor][${editor.name}] BOUND to [${$(editable).data('editableId')}]`, 'color: #d1ffa3;', editor);\r\n\r\n                editor.on('instanceReady', function () {\r\n                    $(`.${editor.id}`)\r\n                        .addClass('animated')\r\n                        .addClass('slideInLeft')\r\n                        .addClass('speed-200')\r\n                        .appendTo(keditor.wrapper); // add it to the keditor wrapper to apply specific styling\r\n\r\n                    editor.fire('focus');\r\n\r\n                    if (typeof keditor.options.onComponentReady === 'function') {\r\n                        keditor.options.onComponentReady.call(contentArea, component, editable, editor);\r\n                    }\r\n                });\r\n            });\r\n        });\r\n\r\n        $(editable).on('blur', function() {\r\n            console.debug(`%c [${$(editable).data('editableId')}] BLUR`, 'color: #ffcc00;', editable);\r\n\r\n            const editor = rx.getPlugin('inline-editor').findInstance(editable)\r\n\r\n            if (editor && !editor.rxModal) {\r\n                // console.debug(`%c [CKEditor][${editor.name}] of [${$(editable).data('editableId')}] destroying...`, 'color: #ffcc00;');\r\n                try {\r\n                    // editor.destroy(); // don't destroy the ckeditor cause I cannot identify if the contextmenu has been opened (fires element blur)\r\n                } catch (e) {\r\n                    console.debug(`%c [CKEditor][${editor.name}] of [${$(editable).data('editableId')}] Destroy error`, 'color: #ff0000;', e);\r\n                }\r\n            } else if (editor) {\r\n                console.debug(`%c [CKEditor][${editor.name}] of [${$(editable).data('editableId')}] BLUR, rxModal Opened, keeping...`, 'color: #ffcc00;');\r\n            } else {\r\n                console.debug(`%c [CKEditor] not initialized on [${$(editable).data('editableId')}]`, 'color: #ff0000;', e);\r\n            }\r\n        });\r\n    },\r\n\r\n    getEditorContent: function(keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse)\r\n    {\r\n        let rx = keditor.options.rx;\r\n\r\n        // const param = isSingleEditable ? null : $(editable).data('name');\r\n        const param = $(editable).is('[data-name]') ? $(editable).data('name') : null;\r\n\r\n        if (rx.hasPlugin('inline-editor')) {\r\n            var editor = rx.getPlugin('inline-editor').findInstance(editable) || rx.getPlugin('inline-editor').inline(editable);\r\n        }\r\n\r\n        callbackResponse[param] = (typeof editor !== 'undefined') ? editor.getData() : $(editable).html();\r\n\r\n        (typeof editor !== 'undefined') && editor.destroy();\r\n    },\r\n\r\n    destroyEditor: function(keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse)\r\n    {\r\n        let rx = keditor.options.rx;\r\n\r\n        if (rx.hasPlugin('inline-editor')) {\r\n            let editor = rx.getPlugin('inline-editor').findInstance(editable);\r\n\r\n            editor && editor.destroy();\r\n        }\r\n    },\r\n\r\n    makeEditableId: function(componentContent, editable, isSingleEditable)\r\n    {\r\n        return isSingleEditable && !$(editable).is('[data-name]') ? componentContent.attr('id') : componentContent.attr('id') + '-' + $(editable).data('name');\r\n    }\r\n};"],"sourceRoot":""}