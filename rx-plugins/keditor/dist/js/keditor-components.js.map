{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"jquery\"","webpack:///./node_modules/scroll-into-view/scrollIntoView.js","webpack:///./src/components/keditor-component-image.js","webpack:///./src/components/keditor-component-gallery.js","webpack:///./src/components/keditor-component-youtube-video.js","webpack:///./src/components/keditor-component-generic.js","webpack:///./src/components/keditor-component-text.js","webpack:///./src/components/keditor-component-photo.js"],"names":["root","factory","exports","module","require","define","amd","a","i","self","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","setElementScroll","element","x","y","scrollTo","scrollLeft","scrollTop","animate","parent","scrollSettings","_scrollSettings","maxSynchronousAlignments","location","parentPosition","differenceX","differenceY","targetWidth","targetHeight","align","targetPosition","target","getBoundingClientRect","leftAlign","left","topAlign","top","leftOffset","topOffset","leftScalar","topScalar","isWindow","Math","min","width","innerWidth","height","innerHeight","pageXOffset","pageYOffset","offsetLeft","offsetTop","clientWidth","clientHeight","max","scrollWidth","scrollHeight","getTargetScrollLocation","time","Date","now","startTime","timeValue","endIterations","end","easeValue","ease","task","window","requestAnimationFrame","setTimeout","raf","defaultIsWindow","transitionScrollTo","settings","callback","cancelHandler","idle","lastSettings","passiveOptions","passive","endType","parentElement","debug","console","log","removeEventListener","cancellable","addEventListener","defaultIsScrollable","getComputedStyle","overflow","defaultValidTarget","findParentElement","el","assignedSlot","tagName","ownerDocument","defaultView","ownerWindow","getRootNode","nodeType","host","isNaN","v","pow","cancel","parents","validTarget","isScrollable","error","done","KEditor","components","settingSidebarOpen","settingEnabled","keditor","component","is","settingTitle","options","locale","text","settingsTitle","initSettingForm","form","rx","rxUtility","find","ajaxCall","$","type","url","data","scrollIntoView","generic","meta_data_viewer_element","hasPlugin","getPlugin","hide","closest","$form","bindPlugins","on","ajaxSubmit","beforeSubmit","arr","show","success","statusText","xhr","getResponse","set","handle","metaData","JSON","parse","atob","isEmptyObject","removeAttr","removeClass","$list","append","title","html","attr","addClass","sidebarCloser","click","handleAjaxError","e","which","submit","first","focus","init","contentArea","container","componentContent","children","onComponentChanged","onContainerChanged","onContentChanged","withEditables","bindEditor","getContent","format","componentContentElement","$content","contentParts","getEditorContent","each","appendTo","destroy","callbackResponse","names","index","editable","isSingleEditable","length","includes","push","prop","makeEditableId","findInstance","inline","editor","id","wrapper","fire","onComponentReady","rxModal","param","getData","destroyEditor","css","photoEdit","fileInput","next","preventDefault","trigger","file","files","test","reader","FileReader","img","result","load","showSettingForm","readAsDataURL","alert","checked","val","inputWidth","inputHeight","newWidth","newHeight","round","ratio","inputAlign","inputResponsive","cbbStyle","panel","algin","hasClass"],"mappings":"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","file":"js/keditor-components.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jquery\")) : factory(root[\"jquery\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","var COMPLETE = 'complete',\n    CANCELED = 'canceled';\n\nfunction raf(task){\n    if('requestAnimationFrame' in window){\n        return window.requestAnimationFrame(task);\n    }\n\n    setTimeout(task, 16);\n}\n\nfunction setElementScroll(element, x, y){\n    if(element.self === element){\n        element.scrollTo(x, y);\n    }else{\n        element.scrollLeft = x;\n        element.scrollTop = y;\n    }\n}\n\nfunction getTargetScrollLocation(scrollSettings, parent){\n    var align = scrollSettings.align,\n        target = scrollSettings.target,\n        targetPosition = target.getBoundingClientRect(),\n        parentPosition,\n        x,\n        y,\n        differenceX,\n        differenceY,\n        targetWidth,\n        targetHeight,\n        leftAlign = align && align.left != null ? align.left : 0.5,\n        topAlign = align && align.top != null ? align.top : 0.5,\n        leftOffset = align && align.leftOffset != null ? align.leftOffset : 0,\n        topOffset = align && align.topOffset != null ? align.topOffset : 0,\n        leftScalar = leftAlign,\n        topScalar = topAlign;\n\n    if(scrollSettings.isWindow(parent)){\n        targetWidth = Math.min(targetPosition.width, parent.innerWidth);\n        targetHeight = Math.min(targetPosition.height, parent.innerHeight);\n        x = targetPosition.left + parent.pageXOffset - parent.innerWidth * leftScalar + targetWidth * leftScalar;\n        y = targetPosition.top + parent.pageYOffset - parent.innerHeight * topScalar + targetHeight * topScalar;\n        x -= leftOffset;\n        y -= topOffset;\n        differenceX = x - parent.pageXOffset;\n        differenceY = y - parent.pageYOffset;\n    }else{\n        targetWidth = targetPosition.width;\n        targetHeight = targetPosition.height;\n        parentPosition = parent.getBoundingClientRect();\n        var offsetLeft = targetPosition.left - (parentPosition.left - parent.scrollLeft);\n        var offsetTop = targetPosition.top - (parentPosition.top - parent.scrollTop);\n        x = offsetLeft + (targetWidth * leftScalar) - parent.clientWidth * leftScalar;\n        y = offsetTop + (targetHeight * topScalar) - parent.clientHeight * topScalar;\n        x -= leftOffset;\n        y -= topOffset;\n        x = Math.max(Math.min(x, parent.scrollWidth - parent.clientWidth), 0);\n        y = Math.max(Math.min(y, parent.scrollHeight - parent.clientHeight), 0);\n        differenceX = x - parent.scrollLeft;\n        differenceY = y - parent.scrollTop;\n    }\n\n    return {\n        x: x,\n        y: y,\n        differenceX: differenceX,\n        differenceY: differenceY\n    };\n}\n\nfunction animate(parent){\n    var scrollSettings = parent._scrollSettings;\n\n    if(!scrollSettings){\n        return;\n    }\n\n    var maxSynchronousAlignments = scrollSettings.maxSynchronousAlignments;\n\n    var location = getTargetScrollLocation(scrollSettings, parent),\n        time = Date.now() - scrollSettings.startTime,\n        timeValue = Math.min(1 / scrollSettings.time * time, 1);\n\n    if(scrollSettings.endIterations >= maxSynchronousAlignments){\n        setElementScroll(parent, location.x, location.y);\n        parent._scrollSettings = null;\n        return scrollSettings.end(COMPLETE);\n    }\n\n    var easeValue = 1 - scrollSettings.ease(timeValue);\n\n    setElementScroll(parent,\n        location.x - location.differenceX * easeValue,\n        location.y - location.differenceY * easeValue\n    );\n\n    if(time >= scrollSettings.time){\n        scrollSettings.endIterations++;\n        return animate(parent);\n    }\n\n    raf(animate.bind(null, parent));\n}\n\nfunction defaultIsWindow(target){\n    return target.self === target\n}\n\nfunction transitionScrollTo(target, parent, settings, callback){\n    var idle = !parent._scrollSettings,\n        lastSettings = parent._scrollSettings,\n        now = Date.now(),\n        cancelHandler,\n        passiveOptions = { passive: true };\n\n    if(lastSettings){\n        lastSettings.end(CANCELED);\n    }\n\n    function end(endType){\n        parent._scrollSettings = null;\n\n        if(parent.parentElement && parent.parentElement._scrollSettings){\n            parent.parentElement._scrollSettings.end(endType);\n        }\n\n        if(settings.debug){\n            console.log('Scrolling ended with type', endType, 'for', parent)\n        }\n\n        callback(endType);\n        if(cancelHandler){\n            parent.removeEventListener('touchstart', cancelHandler, passiveOptions);\n            parent.removeEventListener('wheel', cancelHandler, passiveOptions);\n        }\n    }\n\n    var maxSynchronousAlignments = settings.maxSynchronousAlignments;\n\n    if(maxSynchronousAlignments == null){\n        maxSynchronousAlignments = 3;\n    }\n\n    parent._scrollSettings = {\n        startTime: now,\n        endIterations: 0,\n        target: target,\n        time: settings.time,\n        ease: settings.ease,\n        align: settings.align,\n        isWindow: settings.isWindow || defaultIsWindow,\n        maxSynchronousAlignments: maxSynchronousAlignments,\n        end: end\n    };\n\n    if(!('cancellable' in settings) || settings.cancellable){\n        cancelHandler = end.bind(null, CANCELED);\n        parent.addEventListener('touchstart', cancelHandler, passiveOptions);\n        parent.addEventListener('wheel', cancelHandler, passiveOptions);\n    }\n\n    if(idle){\n        animate(parent);\n    }\n\n    return cancelHandler\n}\n\nfunction defaultIsScrollable(element){\n    return (\n        'pageXOffset' in element ||\n        (\n            element.scrollHeight !== element.clientHeight ||\n            element.scrollWidth !== element.clientWidth\n        ) &&\n        getComputedStyle(element).overflow !== 'hidden'\n    );\n}\n\nfunction defaultValidTarget(){\n    return true;\n}\n\nfunction findParentElement(el){\n    if (el.assignedSlot) {\n        return findParentElement(el.assignedSlot);\n    }\n\n    if (el.parentElement) {\n        if(el.parentElement.tagName === 'BODY'){\n            return el.parentElement.ownerDocument.defaultView || el.parentElement.ownerDocument.ownerWindow;\n        }\n        return el.parentElement;\n    }\n\n    if (el.getRootNode){\n        var parent = el.getRootNode()\n        if(parent.nodeType === 11) {\n            return parent.host;\n        }\n    }\n}\n\nmodule.exports = function(target, settings, callback){\n    if(!target){\n        return;\n    }\n\n    if(typeof settings === 'function'){\n        callback = settings;\n        settings = null;\n    }\n\n    if(!settings){\n        settings = {};\n    }\n\n    settings.time = isNaN(settings.time) ? 1000 : settings.time;\n    settings.ease = settings.ease || function(v){return 1 - Math.pow(1 - v, v / 2);};\n\n    var parent = findParentElement(target),\n        parents = 1;\n\n    function done(endType){\n        parents--;\n        if(!parents){\n            callback && callback(endType);\n        }\n    }\n\n    var validTarget = settings.validTarget || defaultValidTarget;\n    var isScrollable = settings.isScrollable;\n\n    if(settings.debug){\n        console.log('About to scroll to', target)\n\n        if(!parent){\n            console.error('Target did not have a parent, is it mounted in the DOM?')\n        }\n    }\n\n    var cancel;\n\n    while(parent){\n        if(settings.debug){\n            console.log('Scrolling parent node', parent)\n        }\n\n        if(validTarget(parent, parents) && (isScrollable ? isScrollable(parent, defaultIsScrollable) : defaultIsScrollable(parent))){\n            parents++;\n            cancel = transitionScrollTo(target, parent, settings, done);\n        }\n\n        parent = findParentElement(parent);\n\n        if(!parent){\n            done(COMPLETE)\n            break;\n        }\n    }\n\n    return cancel;\n};\n","// import '../styles/keditor-component-image.less';\r\n// import { position, offset } from 'caret-pos';\r\n// import { CKEditor } from '../../../../resources/assets/js/plugin-binders/CKEditor';\r\n// import KEditor from 'keditor';\r\nvar scrollIntoView = require('scroll-into-view');\r\n\r\n// Text component\r\n// ---------------------------------------------------------------------\r\nKEditor.components['image'] = {\r\n    settingSidebarOpen: false,\r\n\r\n    settingEnabled: function (keditor, component) {\r\n        return component.is('[data-element-settings-url');\r\n    },\r\n\r\n    settingTitle: function (keditor, component) {\r\n        return keditor.options.locale.component.text.settingsTitle;\r\n    },\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        let self = this;\r\n        let options = keditor.options;\r\n        let rx = keditor.options.rx;\r\n        let rxUtility = keditor.options.rxUtility;\r\n        var meta_data_viewer_element = component.find('.keditor-meta-data');\r\n\r\n        rxUtility.ajaxCall({\r\n            rx: rx,\r\n            element: $(form),\r\n            type: 'get',\r\n            url: component.data('elementSettingsUrl'),\r\n        });\r\n    },\r\n};","// import '../styles/keditor-component-gallery.less';\r\n// import { position, offset } from 'caret-pos';\r\n// import { CKEditor } from '../../../../resources/assets/js/plugin-binders/CKEditor';\r\n// import KEditor from 'keditor';\r\nvar scrollIntoView = require('scroll-into-view');\r\n\r\n// Text component\r\n// ---------------------------------------------------------------------\r\nKEditor.components['gallery'] = {\r\n    settingSidebarOpen: false,\r\n\r\n    settingEnabled: function (keditor, component) {\r\n        return component.is('[data-element-settings-url');\r\n    },\r\n\r\n    settingTitle: function (keditor, component) {\r\n        return keditor.options.locale.component.text.settingsTitle;\r\n    },\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        let self = this;\r\n        let options = keditor.options;\r\n        let rx = keditor.options.rx;\r\n        let rxUtility = keditor.options.rxUtility;\r\n        var meta_data_viewer_element = component.find('.keditor-meta-data');\r\n\r\n        rxUtility.ajaxCall({\r\n            rx: rx,\r\n            element: $(form),\r\n            type: 'get',\r\n            url: component.data('elementSettingsUrl'),\r\n        });\r\n    },\r\n};","// import '../styles/keditor-component-youtube-video.less';\r\n// import { position, offset } from 'caret-pos';\r\n// import { CKEditor } from '../../../../resources/assets/js/plugin-binders/CKEditor';\r\n// import KEditor from 'keditor';\r\nvar scrollIntoView = require('scroll-into-view');\r\n\r\n// Text component\r\n// ---------------------------------------------------------------------\r\nKEditor.components['youtube-video'] = {\r\n    settingSidebarOpen: false,\r\n\r\n    settingEnabled: function (keditor, component) {\r\n        return component.is('[data-element-settings-url');\r\n    },\r\n\r\n    settingTitle: function (keditor, component) {\r\n        return keditor.options.locale.component.text.settingsTitle;\r\n    },\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        let self = this;\r\n        let options = keditor.options;\r\n        let rx = keditor.options.rx;\r\n        let rxUtility = keditor.options.rxUtility;\r\n        var meta_data_viewer_element = component.find('.keditor-meta-data');\r\n\r\n        rxUtility.ajaxCall({\r\n            rx: rx,\r\n            element: $(form),\r\n            type: 'get',\r\n            url: component.data('elementSettingsUrl'),\r\n        });\r\n    },\r\n};","import '../styles/keditor-component-text.less';\r\n// import { position, offset } from 'caret-pos';\r\n// import { CKEditor } from '../../../../resources/assets/js/plugin-binders/CKEditor';\r\n// import KEditor from 'keditor';\r\nvar scrollIntoView = require('scroll-into-view');\r\n\r\n// Generic component\r\n// ---------------------------------------------------------------------\r\nKEditor.components['generic'] = {\r\n    settingSidebarOpen: true,\r\n\r\n    settingEnabled: function (keditor, component) {\r\n        return component.is('[data-element-settings-url');\r\n    },\r\n\r\n    settingTitle: function (keditor, component) {\r\n        return keditor.options.locale.component.generic.settingsTitle;\r\n    },\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        let self = this;\r\n        let options = keditor.options;\r\n        let rx = keditor.options.rx;\r\n        let rxUtility = keditor.options.rxUtility;\r\n        var meta_data_viewer_element = component.find('.keditor-meta-data');\r\n\r\n        rxUtility.ajaxCall({\r\n            rx: rx,\r\n            element: $(form),\r\n            type: 'get',\r\n            url: component.data('elementSettingsUrl'),\r\n        }, function (data) {\r\n            if (rx.hasPlugin('loading-overlay')) {\r\n                rx.getPlugin('loading-overlay').hide($(form).closest('.ajax-overlay'));\r\n            }\r\n\r\n            let $form = $(data.form);\r\n\r\n            rx.bindPlugins($form);\r\n\r\n            $form.on('submit', function () {\r\n                $(this).ajaxSubmit({\r\n                    beforeSubmit: function(arr, $form, options)\r\n                    {\r\n                        if (rx.hasPlugin('loading-overlay')) {\r\n                            rx.getPlugin('loading-overlay').show($form.closest('.ajax-overlay'));\r\n                        }\r\n                    },\r\n                    success: function(data, statusText, xhr, $form)\r\n                    {\r\n                        if (rx.hasPlugin('loading-overlay')) {\r\n                            rx.getPlugin('loading-overlay').hide($form.closest('.ajax-overlay'));\r\n                        }\r\n\r\n                        rx.getResponse().set(data).handle(null, {\r\n                            'meta_data': function(data) {\r\n                                let metaData = data ? JSON.parse(atob(data)) : {};\r\n\r\n                                if (!$.isEmptyObject(metaData)) {\r\n                                    var $list = $('<ul>');\r\n\r\n                                    for (var key in metaData) {\r\n                                        $list.append(`<li>${metaData[key].title}: ${metaData[key].value}</li>`);\r\n                                    }\r\n\r\n                                    meta_data_viewer_element.html($list);\r\n                                    component.attr('data-element-meta', data);\r\n                                    component.addClass('meta-data-active');\r\n                                } else {\r\n                                    meta_data_viewer_element.text('');\r\n                                    component.removeAttr('data-element-meta');\r\n                                    component.removeClass('meta-data-active');\r\n                                }\r\n\r\n                                keditor.sidebarCloser.click();\r\n                            }\r\n                        });\r\n                    },\r\n                    error: function(data)\r\n                    {\r\n                        rx.handleAjaxError(data);\r\n                    }\r\n                });\r\n\r\n                return false;\r\n            });\r\n\r\n            form\r\n                .append($form)\r\n                .on('keydown', function (e) {\r\n                    switch (e.which) {\r\n                        case 13: // enter\r\n                            $form.submit();\r\n                            return false;\r\n                        case 27: // esc\r\n                            keditor.sidebarCloser.click();\r\n                            return false;\r\n                    }\r\n                })\r\n                .find(':input:visible').first().focus();\r\n        });\r\n    },\r\n\r\n    init: function (contentArea, container, component, keditor)\r\n    {\r\n        let self = this;\r\n        let options = keditor.options;\r\n\r\n        let componentContent = component.children('.keditor-component-content');\r\n\r\n        componentContent.on('input', function (e) {\r\n            if (typeof options.onComponentChanged === 'function') {\r\n                options.onComponentChanged.call(keditor, e, component);\r\n            }\r\n\r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(keditor, e, container, contentArea);\r\n            }\r\n\r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(keditor, e, contentArea);\r\n            }\r\n        });\r\n\r\n        self.withEditables(keditor, contentArea, component, componentContent, self.bindEditor);\r\n    },\r\n\r\n    getContent: function (component, keditor, format)\r\n    {\r\n        let self = this;\r\n        let componentContent = component.find('.keditor-component-content');\r\n        let componentContentElement = component.find('[data-element-type]');\r\n\r\n        if (format === 'raw') {\r\n            $content = componentContent.html();\r\n        } else {\r\n            let contentParts = {};\r\n            var $content = $('<div>')\r\n                .addClass('content-container')\r\n                .attr('data-element-type', componentContentElement.data('elementType'))\r\n                .attr('data-element-id', componentContentElement.data('elementId'))\r\n                .attr('data-element-template', componentContentElement.data('elementTemplate'));\r\n\r\n            self.withEditables(keditor, null, component, componentContent, self.getEditorContent, contentParts);\r\n\r\n            $.each(contentParts, function(name, html) {\r\n                let $wrapper = $('<div>')\r\n                    .addClass('editable-content')\r\n                    .attr('data-name', name)\r\n                    .html(html);\r\n\r\n                $wrapper.appendTo($content)\r\n            });\r\n        }\r\n\r\n        KEditor.log(`Component [${componentContentElement.data('elementType')}][${componentContentElement.data('elementId')}] [${format}] content`, $content);\r\n\r\n        return $content;\r\n    },\r\n\r\n    destroy: function (component, keditor)\r\n    {\r\n        let self = this;\r\n        let componentContent = component.find('.keditor-component-content');\r\n\r\n        // self.withEditables(keditor, null, component, componentContent, self.destroyEditor);\r\n    },\r\n\r\n    withEditables: function(keditor, contentArea, component, componentContent, callback, callbackResponse)\r\n    {\r\n        let self = this;\r\n        let rx = keditor.options.rx;\r\n        let names = [];\r\n\r\n        componentContent.find('.editable').each(function(index, editable) {\r\n            try {\r\n                let isSingleEditable = (componentContent.find('.editable').length == 1);\r\n\r\n                if (!isSingleEditable && !$(editable).is('[data-name]')) {\r\n                    throw \"[data-name] missing in editable element\";\r\n                }\r\n\r\n                if ($(editable).is('[data-name]')) {\r\n                    if (names.includes($(editable).data('name'))) {\r\n                        throw `[data-name=\"${$(editable).data('name')}\"] already used in this component's editable elements`;\r\n                    }\r\n\r\n                    names.push($(editable).data('name'));\r\n                }\r\n\r\n                callback.call(self, keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse);\r\n            } catch (e) {\r\n                console.error(e, editable);\r\n\r\n                if (rx.hasPlugin('notification')) {\r\n                    rx.getPlugin('notification').show(e, 'error');\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    bindEditor: function(keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse)\r\n    {\r\n        let self = this;\r\n        let rx = keditor.options.rx;\r\n\r\n        $(editable)\r\n            .prop('contenteditable', true)\r\n            .attr('data-editable-id', this.makeEditableId(componentContent, editable, isSingleEditable));\r\n\r\n        if (!rx.hasPlugin('inline-editor')) {\r\n            return;\r\n        }\r\n\r\n        $(editable).on('focus', function(e) {\r\n            console.debug(`%c [${$(editable).data('editableId')}] FOCUS`, 'color: #d1ffa3;', editable);\r\n\r\n            scrollIntoView(editable, { time: 100 });\r\n\r\n            // const pos = position($(editable).get(0)); // { left: 15, top: 30, height: 20, pos: 15 }\r\n            // const off = offset($(editable).get(0));\r\n\r\n            // console.log('POS', pos);\r\n            // console.log('OFF', off);\r\n\r\n            rx.getPlugin('inline-editor').findInstance(editable) || rx.getPlugin('inline-editor').inline(editable, {} /*{ enableContextMenu: false }*/, function (editor) {\r\n                console.debug(`%c [CKEditor][${editor.name}] BOUND to [${$(editable).data('editableId')}]`, 'color: #d1ffa3;', editor);\r\n\r\n                editor.on('instanceReady', function () {\r\n                    $(`.${editor.id}`)\r\n                        .addClass('animated')\r\n                        .addClass('slideInLeft')\r\n                        .addClass('speed-200')\r\n                        .appendTo(keditor.wrapper); // add it to the keditor wrapper to apply specific styling\r\n\r\n                    editor.fire('focus');\r\n\r\n                    if (typeof keditor.options.onComponentReady === 'function') {\r\n                        keditor.options.onComponentReady.call(contentArea, component, editable, editor);\r\n                    }\r\n                });\r\n            });\r\n        });\r\n\r\n        $(editable).on('blur', function() {\r\n            console.debug(`%c [${$(editable).data('editableId')}] BLUR`, 'color: #ffcc00;', editable);\r\n\r\n            const editor = rx.getPlugin('inline-editor').findInstance(editable)\r\n\r\n            if (editor && !editor.rxModal) {\r\n                // console.debug(`%c [CKEditor][${editor.name}] of [${$(editable).data('editableId')}] destroying...`, 'color: #ffcc00;');\r\n                try {\r\n                    // editor.destroy(); // don't destroy the ckeditor cause I cannot identify if the contextmenu has been opened (fires element blur)\r\n                } catch (e) {\r\n                    console.debug(`%c [CKEditor][${editor.name}] of [${$(editable).data('editableId')}] Destroy error`, 'color: #ff0000;', e);\r\n                }\r\n            } else if (editor) {\r\n                console.debug(`%c [CKEditor][${editor.name}] of [${$(editable).data('editableId')}] BLUR, rxModal Opened, keeping...`, 'color: #ffcc00;');\r\n            } else {\r\n                console.debug(`%c [CKEditor] not initialized on [${$(editable).data('editableId')}]`, 'color: #ff0000;', e);\r\n            }\r\n        });\r\n    },\r\n\r\n    getEditorContent: function(keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse)\r\n    {\r\n        let rx = keditor.options.rx;\r\n\r\n        // const param = isSingleEditable ? null : $(editable).data('name');\r\n        const param = $(editable).is('[data-name]') ? $(editable).data('name') : null;\r\n\r\n        if (rx.hasPlugin('inline-editor')) {\r\n            var editor = rx.getPlugin('inline-editor').findInstance(editable) || rx.getPlugin('inline-editor').inline(editable);\r\n        }\r\n\r\n        callbackResponse[param] = (typeof editor !== 'undefined') ? editor.getData() : $(editable).html();\r\n\r\n        (typeof editor !== 'undefined') && editor.destroy();\r\n    },\r\n\r\n    destroyEditor: function(keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse)\r\n    {\r\n        let rx = keditor.options.rx;\r\n\r\n        if (rx.hasPlugin('inline-editor')) {\r\n            let editor = rx.getPlugin('inline-editor').findInstance(editable);\r\n\r\n            editor && editor.destroy();\r\n        }\r\n    },\r\n\r\n    makeEditableId: function(componentContent, editable, isSingleEditable)\r\n    {\r\n        return isSingleEditable && !$(editable).is('[data-name]') ? componentContent.attr('id') : componentContent.attr('id') + '-' + $(editable).data('name');\r\n    }\r\n};","import '../styles/keditor-component-text.less';\r\n// import { position, offset } from 'caret-pos';\r\n// import { CKEditor } from '../../../../resources/assets/js/plugin-binders/CKEditor';\r\n// import KEditor from 'keditor';\r\nvar scrollIntoView = require('scroll-into-view');\r\n\r\n// Text component\r\n// ---------------------------------------------------------------------\r\nKEditor.components['text'] = {\r\n    settingSidebarOpen: true,\r\n\r\n    settingEnabled: function (keditor, component) {\r\n        return component.is('[data-element-settings-url');\r\n    },\r\n\r\n    settingTitle: function (keditor, component) {\r\n        return keditor.options.locale.component.text.settingsTitle;\r\n    },\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        let self = this;\r\n        let options = keditor.options;\r\n        let rx = keditor.options.rx;\r\n        let rxUtility = keditor.options.rxUtility;\r\n        var meta_data_viewer_element = component.find('.keditor-meta-data');\r\n\r\n        rxUtility.ajaxCall({\r\n            rx: rx,\r\n            element: $(form),\r\n            type: 'get',\r\n            url: component.data('elementSettingsUrl'),\r\n        }, function (data) {\r\n            if (rx.hasPlugin('loading-overlay')) {\r\n                rx.getPlugin('loading-overlay').hide($(form).closest('.ajax-overlay'));\r\n            }\r\n\r\n            let $form = $(data.form);\r\n\r\n            rx.bindPlugins($form);\r\n\r\n            $form.on('submit', function () {\r\n                $(this).ajaxSubmit({\r\n                    beforeSubmit: function(arr, $form, options)\r\n                    {\r\n                        if (rx.hasPlugin('loading-overlay')) {\r\n                            rx.getPlugin('loading-overlay').show($form.closest('.ajax-overlay'));\r\n                        }\r\n                    },\r\n                    success: function(data, statusText, xhr, $form)\r\n                    {\r\n                        if (rx.hasPlugin('loading-overlay')) {\r\n                            rx.getPlugin('loading-overlay').hide($form.closest('.ajax-overlay'));\r\n                        }\r\n\r\n                        rx.getResponse().set(data).handle(null, {\r\n                            'meta_data': function(data) {\r\n                                let metaData = data ? JSON.parse(atob(data)) : {};\r\n\r\n                                if (!$.isEmptyObject(metaData)) {\r\n                                    var $list = $('<ul>');\r\n\r\n                                    for (var key in metaData) {\r\n                                        $list.append(`<li>${metaData[key].title}: ${metaData[key].value}</li>`);\r\n                                    }\r\n\r\n                                    meta_data_viewer_element.html($list);\r\n                                    component.attr('data-element-meta', data);\r\n                                    component.addClass('meta-data-active');\r\n                                } else {\r\n                                    meta_data_viewer_element.text('');\r\n                                    component.removeAttr('data-element-meta');\r\n                                    component.removeClass('meta-data-active');\r\n                                }\r\n\r\n                                keditor.sidebarCloser.click();\r\n                            }\r\n                        });\r\n                    },\r\n                    error: function(data)\r\n                    {\r\n                        rx.handleAjaxError(data);\r\n                    }\r\n                });\r\n\r\n                return false;\r\n            });\r\n\r\n            form\r\n                .append($form)\r\n                .on('keydown', function (e) {\r\n                    switch (e.which) {\r\n                        case 13: // enter\r\n                            $form.submit();\r\n                            return false;\r\n                        case 27: // esc\r\n                            keditor.sidebarCloser.click();\r\n                            return false;\r\n                    }\r\n                })\r\n                .find(':input:visible').first().focus();\r\n        });\r\n    },\r\n\r\n    init: function (contentArea, container, component, keditor)\r\n    {\r\n        let self = this;\r\n        let options = keditor.options;\r\n\r\n        let componentContent = component.children('.keditor-component-content');\r\n\r\n        componentContent.on('input', function (e) {\r\n            if (typeof options.onComponentChanged === 'function') {\r\n                options.onComponentChanged.call(keditor, e, component);\r\n            }\r\n\r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(keditor, e, container, contentArea);\r\n            }\r\n\r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(keditor, e, contentArea);\r\n            }\r\n        });\r\n\r\n        self.withEditables(keditor, contentArea, component, componentContent, self.bindEditor);\r\n    },\r\n\r\n    getContent: function (component, keditor, format)\r\n    {\r\n        let self = this;\r\n        let componentContent = component.find('.keditor-component-content');\r\n        let componentContentElement = component.find('[data-element-type]');\r\n\r\n        if (format === 'raw') {\r\n            $content = componentContent.html();\r\n        } else {\r\n            let contentParts = {};\r\n            var $content = $('<div>')\r\n                .addClass('content-container')\r\n                .attr('data-element-type', componentContentElement.data('elementType'))\r\n                .attr('data-element-id', componentContentElement.data('elementId'))\r\n                .attr('data-element-template', componentContentElement.data('elementTemplate'));\r\n\r\n            self.withEditables(keditor, null, component, componentContent, self.getEditorContent, contentParts);\r\n\r\n            $.each(contentParts, function(name, html) {\r\n                let $wrapper = $('<div>')\r\n                    .addClass('editable-content')\r\n                    .attr('data-name', name)\r\n                    .html(html);\r\n\r\n                $wrapper.appendTo($content)\r\n            });\r\n        }\r\n\r\n        KEditor.log(`Component [${componentContentElement.data('elementType')}][${componentContentElement.data('elementId')}] [${format}] content`, $content);\r\n\r\n        return $content;\r\n    },\r\n\r\n    destroy: function (component, keditor)\r\n    {\r\n        let self = this;\r\n        let componentContent = component.find('.keditor-component-content');\r\n\r\n        // self.withEditables(keditor, null, component, componentContent, self.destroyEditor);\r\n    },\r\n\r\n    withEditables: function(keditor, contentArea, component, componentContent, callback, callbackResponse)\r\n    {\r\n        let self = this;\r\n        let rx = keditor.options.rx;\r\n        let names = [];\r\n\r\n        componentContent.find('.editable').each(function(index, editable) {\r\n            try {\r\n                let isSingleEditable = (componentContent.find('.editable').length == 1);\r\n\r\n                if (!isSingleEditable && !$(editable).is('[data-name]')) {\r\n                    throw \"[data-name] missing in editable element\";\r\n                }\r\n\r\n                if ($(editable).is('[data-name]')) {\r\n                    if (names.includes($(editable).data('name'))) {\r\n                        throw `[data-name=\"${$(editable).data('name')}\"] already used in this component's editable elements`;\r\n                    }\r\n\r\n                    names.push($(editable).data('name'));\r\n                }\r\n\r\n                callback.call(self, keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse);\r\n            } catch (e) {\r\n                console.error(e, editable);\r\n\r\n                if (rx.hasPlugin('notification')) {\r\n                    rx.getPlugin('notification').show(e, 'error');\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    bindEditor: function(keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse)\r\n    {\r\n        let self = this;\r\n        let rx = keditor.options.rx;\r\n\r\n        $(editable)\r\n            .prop('contenteditable', true)\r\n            .attr('data-editable-id', this.makeEditableId(componentContent, editable, isSingleEditable));\r\n\r\n        if (!rx.hasPlugin('inline-editor')) {\r\n            return;\r\n        }\r\n\r\n        $(editable).on('focus', function(e) {\r\n            console.debug(`%c [${$(editable).data('editableId')}] FOCUS`, 'color: #d1ffa3;', editable);\r\n\r\n            scrollIntoView(editable, { time: 100 });\r\n\r\n            // const pos = position($(editable).get(0)); // { left: 15, top: 30, height: 20, pos: 15 }\r\n            // const off = offset($(editable).get(0));\r\n\r\n            // console.log('POS', pos);\r\n            // console.log('OFF', off);\r\n\r\n            rx.getPlugin('inline-editor').findInstance(editable) || rx.getPlugin('inline-editor').inline(editable, {} /*{ enableContextMenu: false }*/, function (editor) {\r\n                console.debug(`%c [CKEditor][${editor.name}] BOUND to [${$(editable).data('editableId')}]`, 'color: #d1ffa3;', editor);\r\n\r\n                editor.on('instanceReady', function () {\r\n                    $(`.${editor.id}`)\r\n                        .addClass('animated')\r\n                        .addClass('slideInLeft')\r\n                        .addClass('speed-200')\r\n                        .appendTo(keditor.wrapper); // add it to the keditor wrapper to apply specific styling\r\n\r\n                    editor.fire('focus');\r\n\r\n                    if (typeof keditor.options.onComponentReady === 'function') {\r\n                        keditor.options.onComponentReady.call(contentArea, component, editable, editor);\r\n                    }\r\n                });\r\n            });\r\n        });\r\n\r\n        $(editable).on('blur', function() {\r\n            console.debug(`%c [${$(editable).data('editableId')}] BLUR`, 'color: #ffcc00;', editable);\r\n\r\n            const editor = rx.getPlugin('inline-editor').findInstance(editable)\r\n\r\n            if (editor && !editor.rxModal) {\r\n                // console.debug(`%c [CKEditor][${editor.name}] of [${$(editable).data('editableId')}] destroying...`, 'color: #ffcc00;');\r\n                try {\r\n                    // editor.destroy(); // don't destroy the ckeditor cause I cannot identify if the contextmenu has been opened (fires element blur)\r\n                } catch (e) {\r\n                    console.debug(`%c [CKEditor][${editor.name}] of [${$(editable).data('editableId')}] Destroy error`, 'color: #ff0000;', e);\r\n                }\r\n            } else if (editor) {\r\n                console.debug(`%c [CKEditor][${editor.name}] of [${$(editable).data('editableId')}] BLUR, rxModal Opened, keeping...`, 'color: #ffcc00;');\r\n            } else {\r\n                console.debug(`%c [CKEditor] not initialized on [${$(editable).data('editableId')}]`, 'color: #ff0000;', e);\r\n            }\r\n        });\r\n    },\r\n\r\n    getEditorContent: function(keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse)\r\n    {\r\n        let rx = keditor.options.rx;\r\n\r\n        // const param = isSingleEditable ? null : $(editable).data('name');\r\n        const param = $(editable).is('[data-name]') ? $(editable).data('name') : null;\r\n\r\n        if (rx.hasPlugin('inline-editor')) {\r\n            var editor = rx.getPlugin('inline-editor').findInstance(editable) || rx.getPlugin('inline-editor').inline(editable);\r\n        }\r\n\r\n        callbackResponse[param] = (typeof editor !== 'undefined') ? editor.getData() : $(editable).html();\r\n\r\n        (typeof editor !== 'undefined') && editor.destroy();\r\n    },\r\n\r\n    destroyEditor: function(keditor, contentArea, component, componentContent, editable, isSingleEditable, callbackResponse)\r\n    {\r\n        let rx = keditor.options.rx;\r\n\r\n        if (rx.hasPlugin('inline-editor')) {\r\n            let editor = rx.getPlugin('inline-editor').findInstance(editable);\r\n\r\n            editor && editor.destroy();\r\n        }\r\n    },\r\n\r\n    makeEditableId: function(componentContent, editable, isSingleEditable)\r\n    {\r\n        return isSingleEditable && !$(editable).is('[data-name]') ? componentContent.attr('id') : componentContent.attr('id') + '-' + $(editable).data('name');\r\n    }\r\n};","import $ from 'jquery';\r\n// import KEditor from 'keditor';\r\n\r\nKEditor.components['photo'] = {\r\n    init: function (contentArea, container, component, keditor) {\r\n        let componentContent = component.children('.keditor-component-content');\r\n        let img = componentContent.find('img');\r\n\r\n        img.css('display', 'inline-block');\r\n    },\r\n\r\n    settingSidebarOpen: false,\r\n\r\n    settingEnabled: true,\r\n\r\n    settingTitle: 'Photo Settings',\r\n\r\n    initSettingForm: function (keditor, component, form) {\r\n        let self = this;\r\n        let options = keditor.options;\r\n\r\n        form.append(\r\n            '<form class=\"form-horizontal\">' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <button type=\"button\" class=\"btn btn-block btn-primary\" id=\"photo-edit\">Change Photo</button>' +\r\n            '           <input type=\"file\" style=\"display: none\" />' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label for=\"photo-align\" class=\"col-sm-12\">Align</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <select id=\"photo-align\" class=\"form-control\">' +\r\n            '               <option value=\"left\">Left</option>' +\r\n            '               <option value=\"center\">Center</option>' +\r\n            '               <option value=\"right\">Right</option>' +\r\n            '           </select>' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label for=\"photo-style\" class=\"col-sm-12\">Style</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <select id=\"photo-style\" class=\"form-control\">' +\r\n            '               <option value=\"\">None</option>' +\r\n            '               <option value=\"img-rounded\">Rounded</option>' +\r\n            '               <option value=\"img-circle\">Circle</option>' +\r\n            '               <option value=\"img-thumbnail\">Thumbnail</option>' +\r\n            '           </select>' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label for=\"photo-responsive\" class=\"col-sm-12\">Responsive</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"checkbox\" id=\"photo-responsive\" />' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label for=\"photo-width\" class=\"col-sm-12\">Width</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"number\" id=\"photo-width\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '   <div class=\"form-group\">' +\r\n            '       <label for=\"photo-height\" class=\"col-sm-12\">Height</label>' +\r\n            '       <div class=\"col-sm-12\">' +\r\n            '           <input type=\"number\" id=\"photo-height\" class=\"form-control\" />' +\r\n            '       </div>' +\r\n            '   </div>' +\r\n            '</form>'\r\n        );\r\n\r\n        let photoEdit = form.find('#photo-edit');\r\n        let fileInput = photoEdit.next();\r\n        photoEdit.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            fileInput.trigger('click');\r\n        });\r\n        fileInput.on('change', function () {\r\n            let file = this.files[0];\r\n            if (/image/.test(file.type)) {\r\n                let reader = new FileReader();\r\n\r\n                reader.addEventListener('load', function (e) {\r\n                    let img = component.find('img');\r\n                    img.attr('src', e.target.result);\r\n                    img.css({\r\n                        width: '',\r\n                        height: ''\r\n                    });\r\n                    img.load(function () {\r\n                        self.showSettingForm.call(self, form, component, keditor);\r\n                    });\r\n                });\r\n\r\n                reader.readAsDataURL(this.files[0]);\r\n            } else {\r\n                alert('Your selected file is not photo!');\r\n            }\r\n        });\r\n\r\n        let inputAlign = form.find('#photo-align');\r\n        inputAlign.on('change', function () {\r\n            let panel = component.find('.photo-panel');\r\n            panel.css('text-align', this.value);\r\n        });\r\n\r\n        let inputResponsive = form.find('#photo-responsive');\r\n        inputResponsive.on('click', function () {\r\n            component.find('img')[this.checked ? 'addClass' : 'removeClass']('img-responsive');\r\n        });\r\n\r\n        let cbbStyle = form.find('#photo-style');\r\n        cbbStyle.on('change', function () {\r\n            let img = component.find('img');\r\n            let val = this.value;\r\n\r\n            img.removeClass('img-rounded img-circle img-thumbnail');\r\n            if (val) {\r\n                img.addClass(val);\r\n            }\r\n        });\r\n\r\n        let inputWidth = form.find('#photo-width');\r\n        let inputHeight = form.find('#photo-height');\r\n        inputWidth.on('change', function () {\r\n            let img = component.find('img');\r\n            let newWidth = +this.value;\r\n            let newHeight = Math.round(newWidth / self.ratio);\r\n\r\n            if (newWidth <= 0) {\r\n                newWidth = self.width;\r\n                newHeight = self.height;\r\n                this.value = newWidth;\r\n            }\r\n\r\n            img.css({\r\n                'width': newWidth,\r\n                'height': newHeight\r\n            });\r\n            inputHeight.val(newHeight);\r\n        });\r\n        inputHeight.on('change', function () {\r\n            let img = component.find('img');\r\n            let newHeight = +this.value;\r\n            let newWidth = Math.round(newHeight * self.ratio);\r\n\r\n            if (newHeight <= 0) {\r\n                newWidth = self.width;\r\n                newHeight = self.height;\r\n                this.value = newHeight;\r\n            }\r\n\r\n            img.css({\r\n                'height': newHeight,\r\n                'width': newWidth\r\n            });\r\n            inputWidth.val(newWidth);\r\n        });\r\n    },\r\n\r\n    showSettingForm: function (form, component, keditor) {\r\n        let self = this;\r\n        let inputAlign = form.find('#photo-align');\r\n        let inputResponsive = form.find('#photo-responsive');\r\n        let inputWidth = form.find('#photo-width');\r\n        let inputHeight = form.find('#photo-height');\r\n        let cbbStyle = form.find('#photo-style');\r\n\r\n        let panel = component.find('.photo-panel');\r\n        let img = panel.find('img');\r\n\r\n        let algin = panel.css('text-align');\r\n        if (algin !== 'right' || algin !== 'center') {\r\n            algin = 'left';\r\n        }\r\n\r\n        if (img.hasClass('img-rounded')) {\r\n            cbbStyle.val('img-rounded');\r\n        } else if (img.hasClass('img-circle')) {\r\n            cbbStyle.val('img-circle');\r\n        } else if (img.hasClass('img-thumbnail')) {\r\n            cbbStyle.val('img-thumbnail');\r\n        } else {\r\n            cbbStyle.val('');\r\n        }\r\n\r\n        inputAlign.val(algin);\r\n        inputResponsive.prop('checked', img.hasClass('img-responsive'));\r\n        inputWidth.val(img.width());\r\n        inputHeight.val(img.height());\r\n\r\n        $('<img />').attr('src', img.attr('src')).load(function () {\r\n            self.ratio = this.width / this.height;\r\n            self.width = this.width;\r\n            self.height = this.height;\r\n        });\r\n    }\r\n};\r\n"],"sourceRoot":""}