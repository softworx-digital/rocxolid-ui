{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"jquery\"","webpack:///./src/keditor/constants/cssClass.js","webpack:///./src/keditor/constants/defaults.js","webpack:///./src/keditor/utils/log.js","webpack:///./src/keditor/utils/error.js","webpack:///./src/keditor/utils/generateId.js","webpack:///./src/keditor/utils/getDataAttributes.js","webpack:///./src/keditor/iframe/initIframeCover.js","webpack:///./src/keditor/snippet/renderSnippet.js","webpack:///./src/keditor/snippet/renderSnippetFilter.js","webpack:///./src/keditor/snippet/beautifyCategories.js","webpack:///./src/keditor/snippet/addSnippet.js","webpack:///./src/keditor/snippet/renderSnippets.js","webpack:///./src/keditor/snippet/initSnippetsFilter.js","webpack:///./src/keditor/modal/hideModal.js","webpack:///./src/keditor/modal/hideSnippetModal.js","webpack:///./src/keditor/modal/initSnippetAction.js","webpack:///./src/keditor/constants/actionType.js","webpack:///./src/keditor/constants/toolbarType.js","webpack:///./src/keditor/constants/icon.js","webpack:///./src/keditor/utils/generateToolbar.js","webpack:///./src/keditor/component/getComponentType.js","webpack:///./src/keditor/component/initDynamicContent.js","webpack:///./src/keditor/component/initComponent.js","webpack:///./src/keditor/component/convertToComponent.js","webpack:///./src/keditor/utils/generateMetaData.js","webpack:///./src/keditor/modal/showModal.js","webpack:///./src/keditor/modal/showSnippetModal.js","webpack:///./src/keditor/container/initContainerContent.js","webpack:///./src/keditor/container/initColumnResizer.js","webpack:///./src/keditor/container/initContainer.js","webpack:///./src/keditor/container/convertToContainer.js","webpack:///./src/keditor/snippet/addSnippetToTarget.js","webpack:///./src/keditor/modal/initModal.js","webpack:///./src/keditor/modal/initSnippetsModal.js","webpack:///./src/keditor/constants/settingCategory.js","webpack:///./src/keditor/sidebar/closeSidebar.js","webpack:///./src/keditor/sidebar/initSettingForm.js","webpack:///./src/keditor/sidebar/showSettingForm.js","webpack:///./src/keditor/sidebar/openSidebar.js","webpack:///./src/keditor/sidebar/initExtraSettings.js","webpack:///./src/keditor/sidebar/initSidebar.js","webpack:///./src/keditor/constants/deviceMode.js","webpack:///./src/keditor/topbar/switchDevice.js","webpack:///./src/keditor/topbar/initDeviceSwitcher.js","webpack:///./src/keditor/component/getComponentContent.js","webpack:///./src/keditor/container/getContainerContent.js","webpack:///./src/keditor/getContent.js","webpack:///./src/keditor/topbar/initPreviewAction.js","webpack:///./src/keditor/topbar/setFullscreenMode.js","webpack:///./src/keditor/utils/enterFullscreen.js","webpack:///./src/keditor/utils/exitFullscreen.js","webpack:///./src/keditor/topbar/initFullscreenAction.js","webpack:///./src/keditor/topbar/initSaveAction.js","webpack:///./src/keditor/topbar/initTopbarRightActions.js","webpack:///./src/keditor/topbar/initTopbarExtraItems.js","webpack:///./src/keditor/topbar/initTopbar.js","webpack:///./src/keditor/utils/getClickedElement.js","webpack:///./src/keditor/iframe/initSelectAction.js","webpack:///./src/keditor/constants/keyMap.js","webpack:///./src/keditor/utils/setCopyContent.js","webpack:///./src/keditor/iframe/initKeyDownAction.js","webpack:///./src/keditor/iframe/initBtnPasteContent.js","webpack:///./src/keditor/iframe/initBtnAddContentAfterContainer.js","webpack:///./src/keditor/iframe/initBtnAddContentAfterComponent.js","webpack:///./src/keditor/component/deleteComponent.js","webpack:///./src/keditor/iframe/initBtnComponentDelete.js","webpack:///./src/keditor/iframe/initBtnComponentDuplicate.js","webpack:///./src/keditor/iframe/initBtnComponentCopy.js","webpack:///./src/keditor/iframe/initBtnComponentCut.js","webpack:///./src/keditor/iframe/initBtnComponentSetting.js","webpack:///./src/keditor/iframe/initBtnComponentMoveDown.js","webpack:///./src/keditor/iframe/initBtnComponentMoveUp.js","webpack:///./src/keditor/iframe/initBtnContainerDelete.js","webpack:///./src/keditor/iframe/initBtnContainerDuplicate.js","webpack:///./src/keditor/iframe/initBtnContainerCopy.js","webpack:///./src/keditor/iframe/initBtnContainerCut.js","webpack:///./src/keditor/iframe/initBtnContainerSetting.js","webpack:///./src/keditor/iframe/initBtnContainerMoveDown.js","webpack:///./src/keditor/iframe/initBtnContainerMoveUp.js","webpack:///./src/keditor/iframe/initIframeActions.js","webpack:///./src/keditor/contentArea/initContentArea.js","webpack:///./src/keditor/contentArea/initContentAreas.js","webpack:///./src/keditor/iframe/initIframe.js","webpack:///./src/keditor/init.js","webpack:///./src/keditor/destroy.js","webpack:///./src/keditor/setContent.js","webpack:///./src/keditor/index.js"],"names":["root","factory","exports","module","require","define","amd","a","i","self","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","CSS_CLASS","UI","UI_DRAGGING","UI_HIDDEN","UI_CUTTING","UI_RESIZER","SORTABLE","RESIZABLE","WRAPPER","BTN","BTN_GROUP","BTN_PRIMARY","BTN_DEFAULT","STATE_ACTIVE","STATE_OPENED","STATE_SHOWED","STATE_SELECTED","STATE_DUPLICATED","STATE_INITIALIZED","STATE_INITIALIZING","STATE_PREVIEWING","STATE_TOOLBAR_SHOWED","STATE_SIDEBAR_SHOWED","STATE_META_DATA_ACTIVE","STATE_MODAL_OPENED","STATE_NOT_MATCHED","STATE_HAS_FOOTER","STATE_COPYING","STATE_COPYING_COMPONENT","STATE_COPYING_CONTAINER","STATE_COPYING_SUB_CONTAINER","ADD_CONTENT","PASTE_CONTENT","SIDEBAR","SIDEBAR_HEADER","SIDEBAR_BODY","SIDEBAR_TITLE","SIDEBAR_CLOSER","TOPBAR","TOPBAR_LEFT","TOPBAR_CENTER","TOPBAR_RIGHT","TOPBAR_BUTTON","TOPBAR_TITLE","MODAL","MODAL_COMPONENT","MODAL_CONTAINER","MODAL_HEADER","MODAL_TITLE","MODAL_BODY","MODAL_FOOTER","MODAL_CLOSE","MODAL_ADD","SNIPPET","SNIPPET_INNER","SNIPPET_TITLE","SNIPPET_PREVIEW","SNIPPET_CONTAINER","SNIPPET_COMPONENT","SNIPPETS","SNIPPETS_FILTER","SNIPPETS_FILTER_COMPONENT","SNIPPETS_FILTER_CONTAINER","SNIPPETS_FILTER_LABEL","SNIPPETS_SEARCH","SNIPPETS_FILTER_WRAPPER","SNIPPETS_COMPONENT","SNIPPETS_WRAPPER","TOOLBAR","TOOLBAR_BOTTOM","TOOLBAR_CONTENT_AREA","TOOLBAR_CONTAINER","TOOLBAR_CONTAINER_BOTTOM","TOOLBAR_CONTAINER_CONTENT","TOOLBAR_SUB_CONTAINER","TOOLBAR_SUB_CONTAINER_BOTTOM","TOOLBAR_SUB_CONTAINER_CONTENT","TOOLBAR_COMPONENT","TOOLBAR_COMPONENT_BOTTOM","SETTING","SETTING_FORM","SETTING_FORM_LOADING","CONTENT_AREA","CONTENT_AREA_INNER","CONTENT_AREAS","CONTENT_AREAS_WRAPPER","IFRAME","IFRAME_BODY","IFRAME_WRAPPER","IFRAME_WIDTH_SWITCHER","IFRAME_COVER_WRAPPER","IFRAME_COVER_WRAPPER_FAKE","IFRAME_COVER","IFRAME_COVER_HIDDEN","COMPONENT","COMPONENT_MOVE","COMPONENT_MOVE_UP","COMPONENT_MOVE_DOWN","COMPONENT_SETTING","COMPONENT_DUPLICATE","COMPONENT_COPY","COMPONENT_CUT","COMPONENT_DELETE","COMPONENT_CONTENT","COMPONENT_EXISTING","CONTAINER","CONTAINER_MOVE","CONTAINER_MOVE_UP","CONTAINER_MOVE_DOWN","CONTAINER_DUPLICATE","CONTAINER_COPY","CONTAINER_CUT","CONTAINER_DELETE","CONTAINER_SETTING","CONTAINER_INNER","CONTAINER_CONTENT","CONTAINER_CONTENT_INNER","SUB_CONTAINER","SUB_CONTAINER_CONTENT","PREVIEW_AREA","META_DATA","META_DATA_TOP","rx","title","containerForQuickAddComponent","extraSettings","extraTopbarItems","locale","viewOnMobile","viewOnTablet","viewOnLaptop","viewOnDesktop","previewOn","previewOff","fullscreenOn","fullscreenOff","save","addContent","addContentBelow","pasteContent","pasteContentBelow","move","moveUp","moveDown","setting","copy","cut","delete","snippetCategoryLabel","snippetCategoryAll","snippetCategorySearch","columnResizeTitle","containerSetting","confirmDeleteContainerText","confirmDeleteComponentText","widthMobile","widthTablet","widthLaptop","minWidthDesktop","defaultComponentType","snippetsUrl","snippetsCategoriesSeparator","contentStyles","contentAreasSelector","contentAreasWrapper","containerSettingEnabled","containerSettingInitFunction","containerSettingShowFunction","containerSettingHideFunction","bootstrap","columnResizeEnabled","deviceClass","MOBILE","TABLET","LAPTOP","DESKTOP","gridSystem","width","col","clickComponentToShowSetting","onReady","onSave","content","onSnippetsLoaded","resp","onSnippetsError","jqXHR","onInitIframe","iframe","iframeHead","iframeBody","onContentChanged","event","contentArea","onBeforeInitContentArea","onInitContentArea","children","onBeforeInitContainer","container","onInitContainer","onBeforeContainerDeleted","selectedContainer","onContainerDeleted","onContainerChanged","changedContainer","onContainerDuplicated","originalContainer","newContainer","onContainerSelected","onContainerSnippetAdded","selectedSnippet","onComponentReady","component","onBeforeInitComponent","onInitComponent","onBeforeComponentDeleted","selectedComponent","onComponentDeleted","onComponentChanged","changedComponent","onComponentDuplicated","originalComponent","newComponent","onComponentSelected","onComponentSnippetAdded","onBeforeDynamicContentLoad","dynamicElement","onDynamicContentLoaded","onDynamicContentError","console","log","window","KEDITOR_DEBUG","args","apply","message","Error","timestamp","Date","getTime","random","Math","round","target","ignoreAttributes","isArray","dataAttributes","$","each","attributes","attr","indexOf","inArray","push","wrapper","wrap","parent","addClass","cover","prepend","on","removeClass","e","preventDefault","type","previewUrl","categories","extraAttrs","options","snippetId","generateId","snippetPreviewHtml","snippetContentHtml","join","split","categoryContainer","concat","categoryComponent","modal","categoriesOptions","category","isDuplicateWithComponent","filterWrapper","find","length","replaceWith","newArray","sort","renderSnippet","beautifyCategories","append","renderSnippetFilter","html","trigger","snippetsContentHtml","snippetsHtml","filter","snippet","trim","getDataAttributes","timer","txtSearch","cbbFilter","doFilter","selectedCategory","val","toLowerCase","searchText","snippets","dataCategoriesString","dataCategories","error","clearTimeout","setTimeout","cssTransitionEnd","off","hasClass","css","document","body","modalTarget","modalTargetAction","hideModal","click","mouseover","mouseout","ACTION_TYPE","APPEND","AFTER","TOOLBAR_TYPE","CONTAINER_BOTTOM","SUB_CONTAINER_BOTTOM","COMPONENT_BOTTOM","ICON","MOVE_CONTAINER","MOVE_COMPONENT","MOVE_UP_CONTAINER","MOVE_UP_COMPONENT","MOVE_DOWN_CONTAINER","MOVE_DOWN_COMPONENT","SETTING_CONTAINER","SETTING_COMPONENT","DUPLICATE_CONTAINER","DUPLICATE_COMPONENT","COPY_CONTAINER","COPY_COMPONENT","CUT_CONTAINER","CUT_COMPONENT","DELETE_CONTAINER","DELETE_COMPONENT","DEVICE_MOBILE","DEVICE_TABLET","DEVICE_LAPTOP","DEVICE_DESKTOP","PREVIEW_ON","PREVIEW_OFF","FULLSCREEN_ON","FULLSCREEN_OFF","SAVE","ADD","isConfigurable","settingBtn","componentType","replace","KEditor","components","closest","dynamicHref","data","param","ajax","url","dataType","success","response","status","textStatus","errorThrown","getComponentType","componentData","generateToolbar","settingEnabled","initDynamicContent","init","isExisting","is","removeAttr","initComponent","metaData","$metaDataViewer","isEmptyObject","$list","outerHTML","actionType","showComponent","showContainer","showModal","containerContent","isNested","containerContentInner","containerContentToolbar","appendTo","showSnippetModal","sortable","handle","helper","items","connectWith","tolerance","receive","ui","item","remove","start","stop","child","convertToContainer","convertToComponent","cols","resizable","handles","resize","deviceMode","bsClass","row","colNum","grid","minDiff","diff","abs","getColByWidth","size","innerWidth","first","JSON","parse","generateMetaData","parents","initContainerContent","initColumnResizer","initContainer","targetAction","snippetType","snippetContentElement","snippetContent","isModalComponent","isModalContainer","isAddingContainer","isAddingComponent","isAddingComponentWithContainer","eq","modalId","hasFooter","disableOriginEvents","modalFooter","initModal","renderSnippets","initSnippetsFilter","initSnippetAction","hideSnippetModal","addSnippetToTarget","SETTING_CATEGORY","EXTRA","sidebar","activeForm","sidebarBody","activeType","hideSettingForm","settingComponent","settingContainer","settingType","settingCategory","initFunction","functionContext","callback","settingForm","loadingText","when","done","focus","settingTitle","showFunction","sidebarTitle","initSettingForm","shouldCloseSidebar","closeSidebar","showSettingForm","extraKey","extraSetting","settingInitFunction","settingShowFunction","isPlainObject","openSidebar","autoInit","sidebarId","sidebarCloser","DEVICE_MODE","topbarCenter","iframeWidthSwitcher","minWidth","btnMobile","switchDevice","btnTablet","btnLaptop","btnDesktop","format","clonedComponent","clone","iframeWrapper","unwrap","getContent","componentContent","getContainerContent","containerInner","not","getComponentContent","result","btnPreview","previewArea","after","isPreviewOn","topbarRight","isOn","el","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","fullscreenElement","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","btnFullscreen","setFullScreenMode","isFullscreen","addEventListener","btnSave","initPreviewAction","initFullscreenAction","initSaveAction","btn","topbarId","topbar","topbarLeft","initDeviceSwitcher","initTopbarRightActions","initTopbarExtraItems","selector","getClickedElement","KEY_MAP","ESC","isCut","copyContent","cutContent","iframeDoc","keyCode","setCopyContent","setFullscreenMode","isCopy","source","isComponent","isContainer","isSubContainer","toolbarBottom","toolbarContainerContent","siblings","toolbarContentArea","action","destroy","confirm","deleteComponent","nextComponent","next","prevComponent","prev","before","nextContainer","prevContainer","initSelectAction","initKeyDownAction","initBtnPasteContent","initBtnAddContentAfterComponent","initBtnAddContentAfterContainer","initBtnComponentDelete","initBtnComponentDuplicate","initBtnComponentCopy","initBtnComponentCut","initBtnComponentMoveDown","initBtnComponentMoveUp","initBtnComponentSetting","initBtnContainerDelete","initBtnContainerDuplicate","initBtnContainerCopy","initBtnContainerCut","initBtnContainerMoveDown","initBtnContainerMoveUp","initBtnContainerSetting","dontInitToolbar","contentAreaInner","contentAreaToolbar","axis","contentAreas","originalContent","empty","initContentArea","element","wrapperId","contents","open","close","iframeWindow","contentWindow","contentDocument","defaultView","styles","style","idStr","href","id","initContentAreas","initIframeActions","config","extend","DEFAULTS","initIframe","initTopbar","initSidebar","initSnippetsModal","initExtraSettings","instances","jquery","fn","onSuccess","onError","initIframeCover","setContent","addSnippet","blank","keditor","instance","Array","slice","arguments","constructor"],"mappings":"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","file":"js/keditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jquery\")) : factory(root[\"jquery\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","const CSS_CLASS = {\r\n    UI: 'keditor-ui',\r\n    UI_DRAGGING: 'keditor-ui-dragging',\r\n    UI_HIDDEN: 'keditor-ui-hidden',\r\n    UI_CUTTING: 'keditor-ui-cutting',\r\n    UI_RESIZER: 'ui-resizable-resizer',\r\n\r\n    SORTABLE: 'ui-sortable',\r\n    RESIZABLE: 'ui-sortable',\r\n\r\n    WRAPPER: 'keditor-wrapper',\r\n\r\n    BTN: 'keditor-btn',\r\n    BTN_GROUP: 'keditor-btn-group',\r\n    BTN_PRIMARY: 'keditor-btn-primary',\r\n    BTN_DEFAULT: 'keditor-btn-default',\r\n\r\n    STATE_ACTIVE: 'active',\r\n    STATE_OPENED: 'opened',\r\n    STATE_SHOWED: 'showed',\r\n    STATE_SELECTED: 'selected',\r\n    STATE_DUPLICATED: 'duplicated',\r\n    STATE_INITIALIZED: 'initialized',\r\n    STATE_INITIALIZING: 'initializing',\r\n    STATE_PREVIEWING: 'previewing',\r\n    STATE_TOOLBAR_SHOWED: 'showed-keditor-toolbar',\r\n    STATE_SIDEBAR_SHOWED: 'showed-keditor-sidebar',\r\n    STATE_META_DATA_ACTIVE: 'meta-data-active',\r\n    STATE_MODAL_OPENED: 'opened-modal',\r\n    STATE_NOT_MATCHED: 'not-matched',\r\n    STATE_HAS_FOOTER: 'has-footer',\r\n    STATE_COPYING: 'copying',\r\n    STATE_COPYING_COMPONENT: 'copying-component',\r\n    STATE_COPYING_CONTAINER: 'copying-container',\r\n    STATE_COPYING_SUB_CONTAINER: 'copying-sub-container',\r\n\r\n    ADD_CONTENT: 'btn-add-content',\r\n    PASTE_CONTENT: 'btn-paste-content',\r\n\r\n    SIDEBAR: 'keditor-sidebar',\r\n    SIDEBAR_HEADER: 'keditor-sidebar-header',\r\n    SIDEBAR_BODY: 'keditor-sidebar-body',\r\n    SIDEBAR_TITLE: 'keditor-sidebar-title',\r\n    SIDEBAR_CLOSER: 'keditor-sidebar-closer',\r\n\r\n    TOPBAR: 'keditor-topbar',\r\n    TOPBAR_LEFT: 'keditor-topbar-left',\r\n    TOPBAR_CENTER: 'keditor-topbar-center',\r\n    TOPBAR_RIGHT: 'keditor-topbar-right',\r\n    TOPBAR_BUTTON: 'keditor-topbar-btn',\r\n    TOPBAR_TITLE: 'keditor-topbar-title',\r\n\r\n    MODAL: 'keditor-modal',\r\n    MODAL_COMPONENT: 'keditor-modal-component',\r\n    MODAL_CONTAINER: 'keditor-modal-container',\r\n    MODAL_HEADER: 'keditor-modal-header',\r\n    MODAL_TITLE: 'keditor-modal-title',\r\n    MODAL_BODY: 'keditor-modal-body',\r\n    MODAL_FOOTER: 'keditor-modal-footer',\r\n    MODAL_CLOSE: 'keditor-modal-close',\r\n    MODAL_ADD: 'keditor-modal-add',\r\n\r\n    SNIPPET: 'keditor-snippet',\r\n    SNIPPET_INNER: 'keditor-snippet-inner',\r\n    SNIPPET_TITLE: 'keditor-snippet-title',\r\n    SNIPPET_PREVIEW: 'keditor-snippet-preview',\r\n    SNIPPET_CONTAINER: 'keditor-snippet-container',\r\n    SNIPPET_COMPONENT: 'keditor-snippet-component',\r\n    SNIPPETS: 'keditor-snippets',\r\n    SNIPPETS_FILTER: 'keditor-snippets-filter',\r\n    SNIPPETS_FILTER_COMPONENT: 'keditor-snippets-filter-component',\r\n    SNIPPETS_FILTER_CONTAINER: 'keditor-snippets-filter-container',\r\n    SNIPPETS_FILTER_LABEL: 'keditor-snippets-filter-label',\r\n    SNIPPETS_SEARCH: 'keditor-snippets-search',\r\n    SNIPPETS_FILTER_WRAPPER: 'keditor-snippets-filter-wrapper',\r\n    SNIPPETS_COMPONENT: 'keditor-snippets-component',\r\n    SNIPPETS_WRAPPER: 'keditor-snippets-wrapper',\r\n\r\n    TOOLBAR: 'keditor-toolbar',\r\n    TOOLBAR_BOTTOM: 'keditor-toolbar-bottom',\r\n    TOOLBAR_CONTENT_AREA: 'keditor-toolbar-content-area',\r\n    TOOLBAR_CONTAINER: 'keditor-toolbar-container',\r\n    TOOLBAR_CONTAINER_BOTTOM: 'keditor-toolbar-bottom-container',\r\n    TOOLBAR_CONTAINER_CONTENT: 'keditor-toolbar-container-content',\r\n    TOOLBAR_SUB_CONTAINER: 'keditor-toolbar-sub-container',\r\n    TOOLBAR_SUB_CONTAINER_BOTTOM: 'keditor-toolbar-bottom-sub-container',\r\n    TOOLBAR_SUB_CONTAINER_CONTENT: 'keditor-toolbar-sub-container-content',\r\n    TOOLBAR_COMPONENT: 'keditor-toolbar-component',\r\n    TOOLBAR_COMPONENT_BOTTOM: 'keditor-toolbar-bottom-component',\r\n\r\n    SETTING: 'keditor-setting',\r\n    SETTING_FORM: 'keditor-setting-form',\r\n    SETTING_FORM_LOADING: 'keditor-setting-form-loading',\r\n\r\n    CONTENT_AREA: 'keditor-content-area',\r\n    CONTENT_AREA_INNER: 'keditor-content-area-inner',\r\n    CONTENT_AREAS: 'keditor-content-areas',\r\n    CONTENT_AREAS_WRAPPER: 'keditor-content-areas-wrapper',\r\n\r\n    IFRAME: 'keditor-iframe',\r\n    IFRAME_BODY: 'keditor-iframe-body',\r\n    IFRAME_WRAPPER: 'keditor-iframe-wrapper',\r\n    IFRAME_WIDTH_SWITCHER: 'keditor-iframe-width-switcher',\r\n    IFRAME_COVER_WRAPPER: 'keditor-iframe-cover-wrapper',\r\n    IFRAME_COVER_WRAPPER_FAKE: 'keditor-iframe-cover-wrapper-fake',\r\n    IFRAME_COVER: 'keditor-iframe-cover',\r\n    IFRAME_COVER_HIDDEN: 'hidden-cover',\r\n\r\n    COMPONENT: 'keditor-component',\r\n    COMPONENT_MOVE: 'btn-component-move',\r\n    COMPONENT_MOVE_UP: 'btn-component-move-up',\r\n    COMPONENT_MOVE_DOWN: 'btn-component-move-down',\r\n    COMPONENT_SETTING: 'btn-component-setting',\r\n    COMPONENT_DUPLICATE: 'btn-component-duplicate',\r\n    COMPONENT_COPY: 'btn-component-copy',\r\n    COMPONENT_CUT: 'btn-component-cut',\r\n    COMPONENT_DELETE: 'btn-component-delete',\r\n    COMPONENT_CONTENT: 'keditor-component-content',\r\n    COMPONENT_EXISTING: 'existing-component',\r\n\r\n    CONTAINER: 'keditor-container',\r\n    CONTAINER_MOVE: 'btn-container-move',\r\n    CONTAINER_MOVE_UP: 'btn-container-move-up',\r\n    CONTAINER_MOVE_DOWN: 'btn-container-move-down',\r\n    CONTAINER_DUPLICATE: 'btn-container-duplicate',\r\n    CONTAINER_COPY: 'btn-container-copy',\r\n    CONTAINER_CUT: 'btn-container-cut',\r\n    CONTAINER_DELETE: 'btn-container-delete',\r\n    CONTAINER_SETTING: 'btn-container-setting',\r\n    CONTAINER_INNER: 'keditor-container-inner',\r\n    CONTAINER_CONTENT: 'keditor-container-content',\r\n    CONTAINER_CONTENT_INNER: 'keditor-container-content-inner',\r\n\r\n    SUB_CONTAINER: 'keditor-sub-container',\r\n    SUB_CONTAINER_CONTENT: 'keditor-sub-container-content',\r\n\r\n    PREVIEW_AREA: 'keditor-preview-area',\r\n\r\n    META_DATA: 'keditor-meta-data',\r\n    META_DATA_TOP: 'keditor-meta-data-top',\r\n};\r\n\r\nexport default CSS_CLASS;\r\n","import CSS_CLASS from './cssClass';\r\n\r\nexport default {\r\n\r\n    /*\r\n     * Reference to RocXolid FE 'controller'\r\n     * @option {Object}\r\n     */\r\n    rx: null,\r\n\r\n    /*\r\n     * Title will be showed in left of topbar\r\n     * @option {String}\r\n     */\r\n    title: 'Editing with KEditor',\r\n\r\n    /*\r\n     * containerForQuickAddComponent The container snippet which will be added automatically in content are when you adding a component. Note: component will be added in first container content of container\r\n     * @option {String}\r\n     */\r\n    containerForQuickAddComponent: `\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12\" data-type=\"container-content\">\r\n            </div>\r\n        </div>\r\n    `,\r\n\r\n    /*\r\n     * Extra settings in sidebar\r\n     * @option {Object<String, Object>}\r\n     * @format:\r\n     * {\r\n     *     settingName: {\r\n     *         title,\r\n     *         content,\r\n     *         trigger\r\n     *         settingShowFunction\r\n     *     }\r\n     * }\r\n     * @settingName.option {String} title\r\n     * @settingName.option {jQuery|Function|String} trigger If pass as function, argument will be current extra setting. This function must return a jQuery object\r\n     * @settingName.option {Boolean} autoInit By default, all settings form of KEditor will be initialized in first time you show it. If you want it to initialize intermediately, just set `autoIni=true`\r\n     * @settingName.option {Function} settingInitFunction Same arguments with `containerSettingInitFunction`\r\n     * @settingName.option {Function} settingShowFunction Same arguments with `containerSettingShowFunction`\r\n     * @example:\r\n     * {\r\n     *     settingName1: {\r\n     *         title: 'Page Settings',\r\n     *         trigger: $('.btn-page-setting'),\r\n     *         autoInit: true,\r\n     *         settingInitFunction: function (form, keditor) {\r\n     *             form.append('<div>This is content of page settings</div>');\r\n     *         },\r\n     *         settingShowFunction: function (form, trigger, keditor) {\r\n     *             // Do something\r\n     *         }\r\n     *     },\r\n     *     settingName2: {\r\n     *         title: 'Page Settings 2',\r\n     *         triggerSelector: '.btn-page-settings',\r\n     *         trigger: function (extraSetting) {\r\n     *             return $(extraSetting.triggerSelector);\r\n     *         },\r\n     *         settingInitFunction: function (form, keditor) {\r\n     *             form.append('<div>This is content of page settings 2</div>');\r\n     *         },\r\n     *         settingShowFunction: function (form, trigger, keditor) {\r\n     *             // Do something\r\n     *         }\r\n     *     },\r\n     *     settingName3: {\r\n     *         title: 'Page Settings 3',\r\n     *         trigger: '.btn-page-settings',\r\n     *         settingInitFunction: function (form, keditor) {\r\n     *             form.append('<div>This is content of page settings 3</div>');\r\n     *         },\r\n     *         settingShowFunction: function (form, trigger, keditor) {\r\n     *             // Do something\r\n     *         }\r\n     *     }\r\n     * }\r\n     */\r\n    extraSettings: null,\r\n\r\n    /*\r\n     * Extra items in topbar\r\n     * @option {Array<Object>}\r\n     * @format:\r\n     * {\r\n     *     itemName: {\r\n     *         html,\r\n     *         click\r\n     *     }\r\n     * }\r\n     * @itemName.option {String} html HTML string for extra item\r\n     * @itemName.option {Function} click Handler for click event of extra item\r\n     */\r\n    extraTopbarItems: null,\r\n\r\n    locale: {\r\n        /*\r\n         * Text title for devices switcher\r\n         * @option {String}\r\n         */\r\n        viewOnMobile: 'View on mobile',\r\n        viewOnTablet: 'View on tablet',\r\n        viewOnLaptop: 'View on laptop',\r\n        viewOnDesktop: 'View on desktop',\r\n\r\n        /*\r\n         * Text title for preview mode\r\n         * @option {String}\r\n         */\r\n        previewOn: 'Preview ON',\r\n        previewOff: 'Preview OFF',\r\n\r\n        /*\r\n         * Text title for fullscreen mode\r\n         * @option {String}\r\n         */\r\n        fullscreenOn: 'Fullscreen ON',\r\n        fullscreenOff: 'Fullscreen Off',\r\n\r\n        /*\r\n         * Text title for save button\r\n         * @option {String}\r\n         */\r\n        save: 'Save',\r\n\r\n        /*\r\n         * Text title for add content button\r\n         * @option {String}\r\n         */\r\n        addContent: 'Add content',\r\n\r\n        /*\r\n         * Text title for add content button below sub-container and component\r\n         * @option {String}\r\n         */\r\n        addContentBelow: 'Add content below',\r\n\r\n        /*\r\n         * Text title for paste content button\r\n         * @option {String}\r\n         */\r\n        pasteContent: 'Paste content',\r\n\r\n        /*\r\n         * Text title for paste content button below sub-container and component\r\n         * @option {String}\r\n         */\r\n        pasteContentBelow: 'Paste content below',\r\n\r\n        /*\r\n         * Text title for move button\r\n         * @option {String}\r\n         */\r\n        move: 'Drag',\r\n\r\n        /*\r\n         * Text title for move up button\r\n         * @option {String}\r\n         */\r\n        moveUp: 'Move up',\r\n\r\n        /*\r\n         * Text title for move down button\r\n         * @option {String}\r\n         */\r\n        moveDown: 'Move down',\r\n\r\n        /*\r\n         * Text title for setting button\r\n         * @option {String}\r\n         */\r\n        setting: 'Setting',\r\n\r\n        /*\r\n         * Text title for copy button\r\n         * @option {String}\r\n         */\r\n        copy: 'Copy',\r\n\r\n        /*\r\n         * Text title for cut button\r\n         * @option {String}\r\n         */\r\n        cut: 'Cut',\r\n\r\n        /*\r\n         * Text title for delete button\r\n         * @option {String}\r\n         */\r\n        delete: 'Delete',\r\n\r\n        /*\r\n         * Text for snippet category label\r\n         * @option {String}\r\n         */\r\n        snippetCategoryLabel: 'Category',\r\n\r\n        /*\r\n         * Text for snippet category `All`\r\n         * @option {String}\r\n         */\r\n        snippetCategoryAll: 'All',\r\n\r\n        /*\r\n         * Text for snippet search text box\r\n         * @option {String}\r\n         */\r\n        snippetCategorySearch: 'Type to search...',\r\n\r\n        /*\r\n         * Text title for bootstrap column resizer\r\n         * @option {String}\r\n         */\r\n        columnResizeTitle: 'Drag to resize',\r\n\r\n        /*\r\n         * Text title for container setting\r\n         * @option {String}\r\n         */\r\n        containerSetting: 'Container Settings',\r\n\r\n        /*\r\n         * Text content for confirm dialog when deleting container\r\n         * @option {String}\r\n         */\r\n        confirmDeleteContainerText: 'Are you sure that you want to delete this container? This action can not be undone!',\r\n\r\n        /*\r\n         * Text content for confirm dialog when deleting container\r\n         * @option {String}\r\n         */\r\n        confirmDeleteComponentText: 'Are you sure that you want to delete this component? This action can not be undone!',\r\n    },\r\n\r\n    /*\r\n     * Width of mobile device\r\n     * @option {Number}\r\n     */\r\n    widthMobile: 420,\r\n\r\n    /*\r\n     * Width of tablet device\r\n     * @option {Number}\r\n     */\r\n    widthTablet: 820,\r\n\r\n    /*\r\n     * Width of laptop device\r\n     * @option {Number}\r\n     */\r\n    widthLaptop: 1050,\r\n\r\n    /*\r\n     * Min width of desktop device\r\n     * @option {Number}\r\n     */\r\n    minWidthDesktop: 1250,\r\n\r\n    /*\r\n     * Default component type of component. If type of component does not exist in KEditor.components, will be used `defaultComponentType` as type of this component. If is function, argument is component\r\n     * @option {String|Function}\r\n     * @param {jQuery} component\r\n     */\r\n    defaultComponentType: 'blank',\r\n\r\n    /*\r\n     * Url to snippets file\r\n     * @option {String}\r\n     */\r\n    snippetsUrl: 'snippets/snippets.html',\r\n\r\n    /*\r\n     * The separator character between each categories\r\n     * @option {String}\r\n     */\r\n    snippetsCategoriesSeparator: ';',\r\n\r\n    /*\r\n     * Content styles for iframe mode. Beside of this option, KEditor will add all elements which have 'data-type=keditor-style' for iframe stylesheet. These elements can be 'link', 'style' or any tags. If these elements have 'href' attribute, will create link tag with href. If these elements do not have 'href' attribute, will create style tag with css rule is html code inside element\r\n     * @option {Array<Object>}\r\n     * @example:\r\n     * [\r\n     *     {\r\n     *         href: '/path/to/style/file'\r\n     *     }, {\r\n     *         content: 'a { color: red; }'\r\n     *     }\r\n     * ]\r\n     */\r\n    contentStyles: [],\r\n\r\n    /*\r\n     * Selector of content areas. If is null or selector does not match any elements, will create default content area and wrap all content inside it.\r\n     * @option {String}\r\n     */\r\n    contentAreasSelector: null,\r\n\r\n    /*\r\n     * The wrapper element for all contents inside iframe or new div which will contains content of textarea. It's just for displaying purpose. If you want all contents inside iframe are appended into body tag, just leave it as blank\r\n     * @option {String}\r\n     */\r\n    contentAreasWrapper: `<div class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTENT_AREAS_WRAPPER}\"></div>`,\r\n\r\n    /*\r\n     * Enable setting panel for container\r\n     * @option {Boolean}\r\n     */\r\n    containerSettingEnabled: false,\r\n\r\n    /*\r\n     * Method will be called when initializing setting panel for container\r\n     * @option {Function}\r\n     * @param {jQuery} container\r\n     * @param {KEditor} keditorInstance\r\n     */\r\n    containerSettingInitFunction: null,\r\n\r\n    /*\r\n     * Method will be called when setting panel for container is showed\r\n     * @option {Function}\r\n     * @param {jQuery} settingForm\r\n     * @param {jQuery} container\r\n     * @param {KEditor} keditorInstance\r\n     */\r\n    containerSettingShowFunction: null,\r\n\r\n    /*\r\n     * Method will be called when setting panel for container is hidden\r\n     * @option {Function}\r\n     * @param {jQuery} settingForm\r\n     * @param {KEditor} keditorInstance\r\n     */\r\n    containerSettingHideFunction: null,\r\n\r\n    /**\r\n     * Bootstrap settings\r\n     */\r\n    bootstrap: {\r\n        /**\r\n         * Enable column resize by drag and drop or not. Require: jQuery UI Resizable\r\n         * @option {Boolean}\r\n         */\r\n        columnResizeEnabled: true,\r\n\r\n        /**\r\n         * List of device class for responsive grid system\r\n         * @option {Object}\r\n         */\r\n        deviceClass: {\r\n            MOBILE: 'xs',\r\n            TABLET: 'sm',\r\n            LAPTOP: 'md',\r\n            DESKTOP: 'lg'\r\n        },\r\n\r\n        /**\r\n         * Grid system of bootstrap with `width` in percentage and `col` number\r\n         * @option {Array<Object>}\r\n         */\r\n        gridSystem: [{\r\n            width: 8.33333333,\r\n            col: 1\r\n        }, {\r\n            width: 16.66666667,\r\n            col: 2\r\n        }, {\r\n            width: 25,\r\n            col: 3\r\n        }, {\r\n            width: 33.33333333,\r\n            col: 4\r\n        }, {\r\n            width: 41.66666667,\r\n            col: 5\r\n        }, {\r\n            width: 50,\r\n            col: 6\r\n        }, {\r\n            width: 58.33333333,\r\n            col: 7\r\n        }, {\r\n            width: 66.66666667,\r\n            col: 8\r\n        }, {\r\n            width: 75,\r\n            col: 9\r\n        }, {\r\n            width: 83.33333333,\r\n            col: 10\r\n        }, {\r\n            width: 91.66666667,\r\n            col: 11\r\n        }, {\r\n            width: 100,\r\n            col: 12\r\n        }, {\r\n            width: 10000,\r\n            col: 10000\r\n        }]\r\n    },\r\n\r\n    clickComponentToShowSetting: false,\r\n\r\n    /*\r\n     * Callback will be called after keditor instance is ready\r\n     * @option {Function}\r\n     */\r\n    onReady: function () {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called after clicking on `Save` button in topbar\r\n     * @option {Function}\r\n     * @param {String} content\r\n     */\r\n    onSave: function (content) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called after snippets are loaded. If you want to modify snippets content, please return modified\r\n     * @option {Function}\r\n     * @param {String} resp\r\n     * @return {String}\r\n     */\r\n    onSnippetsLoaded: function (resp) {\r\n\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when error in loading snippets\r\n     * @option {Function}\r\n     * @param {jqXHR} jqXHR\r\n     */\r\n    onSnippetsError: function (jqXHR) {\r\n\r\n    },\r\n\r\n    /*\r\n     * Callback will be called after iframe and content areas wrapper inside it are created\r\n     * @option {Function}\r\n     * @param {jQuery} iframe\r\n     * @param {jQuery} iframeHead\r\n     * @param {jQuery} iframeBody\r\n     */\r\n    onInitIframe: function (iframe, iframeHead, iframeBody) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when content is changed. Includes add, delete, duplicate container or component. Or content of a component is changed\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContentChanged: function (event, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called before initializing container\r\n     * @option {Function}\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onBeforeInitContentArea: function (contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when initializing content area. Need to return jQuery objects which will be initialized as container\r\n     * @option {Function}\r\n     * @param {jQuery} contentArea\r\n     * @return {jQuery}\r\n     */\r\n    onInitContentArea: function (contentArea) {\r\n        return contentArea.children(`.${CSS_CLASS.CONTENT_AREA_INNER}`).children();\r\n    },\r\n\r\n    /*\r\n     * Callback will be called before initializing container\r\n     * @option {Function}\r\n     * @param {jQuery} container\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onBeforeInitContainer: function (container, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when initializing container. It can return array of jQuery objects which will be initialized as editable components in container content (NOTE: these objects MUST be under elements which have attribute `data-type=\"container-content\"`). By default, all first level sections under container content will be initialized\r\n     * @option {Function}\r\n     * @param {jQuery} container\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onInitContainer: function (container, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called before container is deleted\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedContainer\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onBeforeContainerDeleted: function (event, selectedContainer, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called after container and its components are already deleted\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedContainer\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContainerDeleted: function (event, selectedContainer, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when content of container is changed. It can be when container received new component from snippet or from other container. Or content of any components are changed or any components are deleted or duplicated\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} changedContainer\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContainerChanged: function (event, changedContainer, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when a container is duplicated\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} originalContainer\r\n     * @param {jQuery} newContainer\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContainerDuplicated: function (event, originalContainer, newContainer, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when a container is selected\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedContainer\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContainerSelected: function (event, selectedContainer, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when a container snippet is added in a content area\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} newContainer\r\n     * @param {jQuery} selectedSnippet\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContainerSnippetAdded: function (event, newContainer, selectedSnippet, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called after component is initialized. This callback is available or not is depend on component type handler.\r\n     * @option {Function}\r\n     * @param {jQuery} component\r\n     */\r\n    onComponentReady: function (component) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called before initializing component\r\n     * @option {Function}\r\n     * @param {jQuery} component\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onBeforeInitComponent: function (component, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when initializing component\r\n     * @option {Function}\r\n     * @param {jQuery} component\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onInitComponent: function (component, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called before a component is deleted\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedComponent\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onBeforeComponentDeleted: function (event, selectedComponent, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called after a component is deleted\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedComponent\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onComponentDeleted: function (event, selectedComponent, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when content of a component is changed\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} changedComponent\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onComponentChanged: function (event, changedComponent, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when a component is duplicated\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} originalComponent\r\n     * @param {jQuery} newComponent\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onComponentDuplicated: function (event, originalComponent, newComponent, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called when a component is selected\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedComponent\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onComponentSelected: function (event, selectedComponent, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called after a component snippet is added in a container\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} newComponent\r\n     * @param {jQuery} selectedSnippet\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onComponentSnippetAdded: function (event, newComponent, selectedSnippet, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called before loading dynamic content\r\n     * @option {Function}\r\n     * @param {jQuery} dynamicElement\r\n     * @param {jQuery} component\r\n     * @param {jQuery} contentArea Can be null if preview is ON\r\n     */\r\n    onBeforeDynamicContentLoad: function (dynamicElement, component, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called after dynamic content is loaded\r\n     * @option {Function}\r\n     * @param {jQuery} dynamicElement\r\n     * @param {jqXHR} , jqXHR\r\n     * @param {jQuery} contentArea Can be null if preview is ON\r\n     */\r\n    onDynamicContentLoaded: function (dynamicElement, jqXHR, contentArea) {\r\n    },\r\n\r\n    /*\r\n     * Callback will be called if loading dynamic content is error, abort or timeout\r\n     * @option {Function}\r\n     * @param {jQuery} dynamicElement\r\n     * @param {jqXHR} , jqXHR\r\n     * @param {jQuery} contentArea Can be null if preview is ON\r\n     */\r\n    onDynamicContentError: function (dynamicElement, jqXHR, contentArea) {\r\n    }\r\n};\r\n","export default (...args) => {\r\n    if (console && typeof console.log === 'function' && window.KEDITOR_DEBUG) {\r\n        console.log.apply(console, ['[ KEditor ] ', ...args]);\r\n    }\r\n};\r\n","export default (message) => {\r\n    throw new Error(`[ KEditor ] ${message}`);\r\n};\r\n","export default function () {\r\n    let timestamp = (new Date()).getTime();\r\n    let random = Math.round(Math.random() * 9876543210);\r\n    return `keditor-ui-${timestamp}${random}`;\r\n};\r\n","export default function (target, ignoreAttributes, isArray) {\r\n    let dataAttributes = isArray ? [] : {};\r\n    if (!ignoreAttributes) {\r\n        ignoreAttributes = [];\r\n    }\r\n    \r\n    $.each(target.get(0).attributes, function (i, attr) {\r\n        if (attr.name.indexOf('data-') === 0 && $.inArray(attr.name, ignoreAttributes) === -1) {\r\n            if (isArray) {\r\n                dataAttributes.push(`${attr.name}=\"${attr.value}\"`);\r\n            } else {\r\n                dataAttributes[attr.name] = attr.value;\r\n            }\r\n        }\r\n    });\r\n    \r\n    return dataAttributes;\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function (iframe, wrapper) {\r\n    if (!wrapper) {\r\n        iframe.wrap(`<div class=\"${CSS_CLASS.IFRAME_COVER_WRAPPER_FAKE}\"></div>`);\r\n        wrapper = iframe.parent();\r\n    }\r\n    \r\n    wrapper.addClass(`${CSS_CLASS.IFRAME_COVER_WRAPPER}`);\r\n    \r\n    let cover = $(`<div class=\"${CSS_CLASS.IFRAME_COVER}\"></div>`);\r\n    wrapper.prepend(cover);\r\n    \r\n    wrapper.on('mouseleave', function () {\r\n        wrapper.removeClass(`${CSS_CLASS.IFRAME_COVER_HIDDEN}`);\r\n    });\r\n    \r\n    cover.on('dblclick', function (e) {\r\n        e.preventDefault();\r\n        \r\n        wrapper.addClass(`${CSS_CLASS.IFRAME_COVER_HIDDEN}`);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport generateId from '../utils/generateId';\r\n\r\nexport default function (type, title, previewUrl, categories, content, extraAttrs) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let snippetId = generateId();\r\n    let snippetPreviewHtml = `\r\n        <section\r\n            class=\"${CSS_CLASS.UI} ${CSS_CLASS.SNIPPET} ${type === 'container' ? CSS_CLASS.SNIPPET_CONTAINER : CSS_CLASS.SNIPPET_COMPONENT}\"\r\n            data-snippet=\"#${snippetId}\"\r\n            data-type=\"${type}\"\r\n            data-keditor-title=\"${title}\"\r\n            data-keditor-categories=\"${categories}\"\r\n        >\r\n            <span class=\"${CSS_CLASS.SNIPPET_INNER}\">\r\n                <span class=\"${CSS_CLASS.SNIPPET_PREVIEW}\" style=\"background-image: url('${previewUrl}')\"></span>\r\n                <span class=\"${CSS_CLASS.SNIPPET_TITLE}\" title=\"${title}\">${title}</span>\r\n            </span>\r\n        </section>\r\n    `;\r\n    let snippetContentHtml = `<script id=\"${snippetId}\" type=\"text/html\" ${extraAttrs.join(' ')}>${content}</script>`;\r\n    \r\n    categories = categories.split(options.snippetsCategoriesSeparator);\r\n    \r\n    if (type === 'container') {\r\n        self.categoryContainer = self.categoryContainer.concat(categories);\r\n    } else if (type.indexOf('component') !== -1) {\r\n        self.categoryComponent = self.categoryComponent.concat(categories);\r\n    }\r\n    \r\n    return [\r\n        snippetPreviewHtml,\r\n        snippetContentHtml\r\n    ];\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let modal = self.modal;\r\n    \r\n    let categoriesOptions = `<option value=\"\" selected=\"selected\">${options.locale.snippetCategoryAll}</option>`;\r\n    $.each(self.categoryComponent, function (i, category) {\r\n        categoriesOptions += `<option value=\"${category}\" class=\"${CSS_CLASS.SNIPPETS_FILTER_COMPONENT}\">${category}</option>`;\r\n    });\r\n    $.each(self.categoryContainer, function (i, category) {\r\n        let isDuplicateWithComponent = $.inArray(category, self.categoryComponent) !== -1;\r\n        categoriesOptions += `<option value=\"${category}\" class=\"${CSS_CLASS.SNIPPETS_FILTER_CONTAINER} ${isDuplicateWithComponent ? CSS_CLASS.STATE_DUPLICATED : ''}\">${category}</option>`;\r\n    });\r\n    \r\n    let filterWrapper = modal.find(`.${CSS_CLASS.SNIPPETS_FILTER_WRAPPER}`);\r\n    if (filterWrapper.length === 0) {\r\n        filterWrapper = $(`<div class=\"${CSS_CLASS.UI} ${CSS_CLASS.SNIPPETS_FILTER_WRAPPER}\"></div>`);\r\n        modal.find(`.${CSS_CLASS.MODAL_TITLE}`).replaceWith(filterWrapper);\r\n    }\r\n    \r\n    return [\r\n        categoriesOptions,\r\n        filterWrapper\r\n    ];\r\n};\r\n","export default function (categories) {\r\n    let newArray = [];\r\n    for (let i = 0; i < categories.length; i++) {\r\n        let category = categories[i] || '';\r\n        \r\n        if (category !== '' && $.inArray(category, newArray) === -1) {\r\n            newArray.push(category);\r\n        }\r\n    }\r\n    \r\n    return newArray.sort();\r\n};\r\n","import renderSnippet from './renderSnippet';\r\nimport renderSnippetFilter from './renderSnippetFilter';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport beautifyCategories from './beautifyCategories';\r\n\r\nexport default function (type, title, previewUrl, categories, content, extraAttrs) {\r\n    let self = this;\r\n    let [\r\n        snippetPreviewHtml,\r\n        snippetContentHtml\r\n    ] = renderSnippet.call(self, type, title, previewUrl, categories, content, extraAttrs);\r\n    \r\n    self.categoryContainer = beautifyCategories(self.categoryContainer);\r\n    self.categoryComponent = beautifyCategories(self.categoryComponent);\r\n    \r\n    self.modal.find(`.${CSS_CLASS.SNIPPETS}`).append(snippetPreviewHtml);\r\n    self.modal.find(`.${CSS_CLASS.MODAL_BODY}`).append(snippetContentHtml);\r\n    \r\n    let [categoriesOptions, snippetsWrapper] = renderSnippetFilter.call(self);\r\n    snippetsWrapper.find(`.${CSS_CLASS.SNIPPETS_FILTER}`).html(categoriesOptions).trigger('change');\r\n};\r\n","import renderSnippet from './renderSnippet';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport beautifyCategories from './beautifyCategories';\r\n\r\nexport default function (resp) {\r\n    let self = this;\r\n    let snippetsContentHtml = '';\r\n    let snippetsHtml = '';\r\n    \r\n    $(resp).filter('div').each(function () {\r\n        let snippet = $(this);\r\n        let content = snippet.html().trim();\r\n        let previewUrl = snippet.attr('data-preview');\r\n        let type = snippet.attr('data-type');\r\n        let title = snippet.attr('data-keditor-title');\r\n        let categories = snippet.attr('data-keditor-categories') || '';\r\n        let dataAttributes = self.getDataAttributes(snippet, ['data-preview', 'data-type', 'data-keditor-title', 'data-keditor-categories'], true);\r\n        let [\r\n            snippetPreviewHtml,\r\n            snippetContentHtml\r\n        ] = renderSnippet.call(self, type, title, previewUrl, categories, content, dataAttributes);\r\n    \r\n        snippetsHtml += snippetPreviewHtml;\r\n        snippetsContentHtml += snippetContentHtml;\r\n    });\r\n    \r\n    self.categoryContainer = beautifyCategories(self.categoryContainer);\r\n    self.categoryComponent = beautifyCategories(self.categoryComponent);\r\n    \r\n    self.modal.find(`.${CSS_CLASS.SNIPPETS}`).html(snippetsHtml);\r\n    self.modal.find(`.${CSS_CLASS.MODAL_BODY}`).append(snippetsContentHtml);\r\n};\r\n","import renderSnippetFilter from './renderSnippetFilter';\r\nimport CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let [categoriesOptions, filterWrapper] = renderSnippetFilter.call(self);\r\n    \r\n    filterWrapper.html(`\r\n        <span class=\"${CSS_CLASS.UI} ${CSS_CLASS.SNIPPETS_FILTER_LABEL}\">${options.locale.snippetCategoryLabel}:</span>\r\n        <select class=\"${CSS_CLASS.UI} ${CSS_CLASS.SNIPPETS_FILTER}\">\r\n            ${categoriesOptions}\r\n        </select>\r\n        <input type=\"text\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.SNIPPETS_SEARCH}\" value=\"\" placeholder=\"${options.locale.snippetCategorySearch}\" />\r\n    `);\r\n    \r\n    let txtSearch = filterWrapper.find(`.${CSS_CLASS.SNIPPETS_SEARCH}`);\r\n    let cbbFilter = filterWrapper.find(`.${CSS_CLASS.SNIPPETS_FILTER}`);\r\n    \r\n    let doFilter = function () {\r\n        let selectedCategory = (cbbFilter.val() || '').toLowerCase();\r\n        let searchText = (txtSearch.val() || '').toLowerCase();\r\n        let snippets = self.modal.find(`.${CSS_CLASS.SNIPPET}`);\r\n        snippets.filter(`.${CSS_CLASS.STATE_SELECTED}`).removeClass(CSS_CLASS.STATE_SELECTED);\r\n        \r\n        if (selectedCategory || searchText) {\r\n            snippets.each(function () {\r\n                let snippet = $(this);\r\n                let dataCategoriesString = snippet.attr('data-keditor-categories').toLowerCase();\r\n                let dataCategories = dataCategoriesString.split(options.snippetsCategoriesSeparator);\r\n                let error = 0;\r\n                \r\n                if (selectedCategory) {\r\n                    if ($.inArray(selectedCategory, dataCategories) === -1) {\r\n                        error++;\r\n                    }\r\n                }\r\n                \r\n                if (searchText) {\r\n                    let title = snippet.attr('data-keditor-title').toLowerCase();\r\n                    if (title.indexOf(searchText) === -1 && dataCategoriesString.indexOf(searchText) === -1) {\r\n                        error++;\r\n                    }\r\n                }\r\n                \r\n                snippet[error === 0 ? 'removeClass' : 'addClass'](CSS_CLASS.STATE_NOT_MATCHED);\r\n            });\r\n        } else {\r\n            snippets.removeClass(CSS_CLASS.STATE_NOT_MATCHED);\r\n        }\r\n    };\r\n    \r\n    cbbFilter.on('change', function () {\r\n        doFilter();\r\n    });\r\n    \r\n    let timer;\r\n    txtSearch.on('keydown', function () {\r\n        clearTimeout(timer);\r\n        timer = setTimeout(doFilter, 200);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function (modal) {\r\n    let cssTransitionEnd = 'webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend';\r\n    \r\n    modal.off(cssTransitionEnd).on(cssTransitionEnd, () => {\r\n        if (!modal.hasClass(CSS_CLASS.STATE_SHOWED)) {\r\n            modal.css('display', 'none');\r\n            $(document.body).removeClass(CSS_CLASS.STATE_MODAL_OPENED);\r\n        }\r\n    });\r\n    \r\n    modal.removeClass(CSS_CLASS.STATE_SHOWED);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport hideModal from './hideModal';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let modal = self.modal;\r\n    \r\n    self.modalTarget = null;\r\n    self.modalTargetAction = null;\r\n    modal.find(`.${CSS_CLASS.STATE_SELECTED}`).removeClass(CSS_CLASS.STATE_SELECTED);\r\n    modal.find(`.${CSS_CLASS.STATE_NOT_MATCHED}`).removeClass(CSS_CLASS.STATE_NOT_MATCHED);\r\n    modal.find(`.${CSS_CLASS.SNIPPETS_FILTER}`).val('');\r\n    modal.removeClass(CSS_CLASS.MODAL_COMPONENT);\r\n    modal.removeClass(CSS_CLASS.MODAL_CONTAINER);\r\n    \r\n    hideModal.call(self, modal);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let modal = self.modal;\r\n    \r\n    modal.on({\r\n        click: function (e) {\r\n            e.preventDefault();\r\n            \r\n            let snippet = $(this);\r\n            if (snippet.hasClass(CSS_CLASS.STATE_SELECTED)) {\r\n                snippet.removeClass(CSS_CLASS.STATE_SELECTED)\r\n            } else {\r\n                modal.find(`.${CSS_CLASS.STATE_SELECTED}`).removeClass(CSS_CLASS.STATE_SELECTED);\r\n                snippet.addClass(CSS_CLASS.STATE_SELECTED);\r\n            }\r\n        },\r\n        mouseover: function () {\r\n            $(this).addClass(CSS_CLASS.STATE_SELECTED);\r\n        },\r\n        mouseout: function () {\r\n            $(this).removeClass(CSS_CLASS.STATE_SELECTED);\r\n        }\r\n    }, `.${CSS_CLASS.SNIPPET}`);\r\n};\r\n","const ACTION_TYPE = {\r\n    APPEND: 'append',\r\n    AFTER: 'after'\r\n};\r\n\r\nexport default ACTION_TYPE;\r\n","const TOOLBAR_TYPE = {\r\n    CONTENT_AREA: 1000,\r\n    \r\n    CONTAINER: 2000,\r\n    CONTAINER_CONTENT: 2100,\r\n    CONTAINER_BOTTOM: 2200,\r\n    \r\n    SUB_CONTAINER: 3000,\r\n    SUB_CONTAINER_BOTTOM: 3100,\r\n    SUB_CONTAINER_CONTENT: 3200,\r\n    \r\n    COMPONENT: 4000,\r\n    COMPONENT_BOTTOM: 4100,\r\n};\r\n\r\nexport default TOOLBAR_TYPE;\r\n","const ICON = {\r\n    ADD_CONTENT: '<i class=\"fa fa-plus\"></i>',\r\n    PASTE_CONTENT: '<i class=\"fa fa-paste\"></i>',\r\n    \r\n    MOVE_CONTAINER: '<i class=\"fa fa-arrows-v\"></i>',\r\n    MOVE_COMPONENT: '<i class=\"fa fa-arrows\"></i>',\r\n    \r\n    MOVE_UP_CONTAINER: '<i class=\"fa fa-chevron-up\"></i>',\r\n    MOVE_UP_COMPONENT: '<i class=\"fa fa-chevron-up\"></i>',\r\n    \r\n    MOVE_DOWN_CONTAINER: '<i class=\"fa fa-chevron-down\"></i>',\r\n    MOVE_DOWN_COMPONENT: '<i class=\"fa fa-chevron-down\"></i>',\r\n    \r\n    SETTING_CONTAINER: '<i class=\"fa fa-cog\"></i>',\r\n    SETTING_COMPONENT: '<i class=\"fa fa-cog\"></i>',\r\n    \r\n    DUPLICATE_CONTAINER: '<i class=\"fa fa-files-o\"></i>',\r\n    DUPLICATE_COMPONENT: '<i class=\"fa fa-files-o\"></i>',\r\n    \r\n    COPY_CONTAINER: '<i class=\"fa fa-files-o\"></i>',\r\n    COPY_COMPONENT: '<i class=\"fa fa-files-o\"></i>',\r\n    \r\n    CUT_CONTAINER: '<i class=\"fa fa-cut\"></i>',\r\n    CUT_COMPONENT: '<i class=\"fa fa-cut\"></i>',\r\n    \r\n    DELETE_CONTAINER: '<i class=\"fa fa-trash-o\"></i>',\r\n    DELETE_COMPONENT: '<i class=\"fa fa-trash-o\"></i>',\r\n    \r\n    DEVICE_MOBILE: '<i class=\"fa fa-fw fa-mobile\"></i>',\r\n    DEVICE_TABLET: '<i class=\"fa fa-fw fa-tablet\"></i>',\r\n    DEVICE_LAPTOP: '<i class=\"fa fa-fw fa-laptop\"></i>',\r\n    DEVICE_DESKTOP: '<i class=\"fa fa-fw fa-desktop\"></i>',\r\n    \r\n    PREVIEW_ON: '<i class=\"fa fa-fw fa-eye\"></i>',\r\n    PREVIEW_OFF: '<i class=\"fa fa-fw fa-eye-slash\"></i>',\r\n    \r\n    FULLSCREEN_ON: '<i class=\"fa fa-fw fa-compress\"></i>',\r\n    FULLSCREEN_OFF: '<i class=\"fa fa-fw fa-expand\"></i>',\r\n    \r\n    SAVE: '<i class=\"fa fa-fw fa-save\"></i>',\r\n    \r\n    ADD: '<i class=\"fa fa-plus\"></i>'\r\n};\r\n\r\nexport default ICON;\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport ICON from '../constants/icon';\r\n\r\nexport default function (type, isConfigurable) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let settingBtn = '';\r\n    \r\n    switch (type) {\r\n        case TOOLBAR_TYPE.CONTAINER:\r\n        case TOOLBAR_TYPE.SUB_CONTAINER:\r\n            if (isConfigurable) {\r\n                settingBtn = `<a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_SETTING}\" title=\"${options.locale.setting}\">${ICON.SETTING_CONTAINER}</a>`;\r\n            }\r\n            \r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR} ${CSS_CLASS.TOOLBAR_CONTAINER} ${type === TOOLBAR_TYPE.SUB_CONTAINER ? CSS_CLASS.TOOLBAR_SUB_CONTAINER : ''}\">\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_MOVE}\" title=\"${options.locale.move}\">${ICON.MOVE_CONTAINER}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_MOVE_UP}\" title=\"${options.locale.moveUp}\">${ICON.MOVE_UP_CONTAINER}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_MOVE_DOWN}\" title=\"${options.locale.moveDown}\">${ICON.MOVE_DOWN_CONTAINER}</a>\r\n                    ${settingBtn}\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_CUT}\" title=\"${options.locale.cut}\">${ICON.CUT_CONTAINER}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_COPY}\" title=\"${options.locale.copy}\">${ICON.COPY_CONTAINER}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_DELETE}\" title=\"${options.locale.delete}\">${ICON.DELETE_CONTAINER}</a>\r\n                </div>\r\n            `);\r\n    \r\n        case TOOLBAR_TYPE.COMPONENT:\r\n            if (isConfigurable) {\r\n                settingBtn = `<a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_SETTING}\" title=\"${options.locale.setting}\">${ICON.SETTING_COMPONENT}</a>`;\r\n            }\r\n        \r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR} ${CSS_CLASS.TOOLBAR_COMPONENT}\">\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_MOVE}\" title=\"${options.locale.move}\">${ICON.MOVE_COMPONENT}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_MOVE_UP}\" title=\"${options.locale.moveUp}\">${ICON.MOVE_UP_COMPONENT}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_MOVE_DOWN}\" title=\"${options.locale.moveDown}\">${ICON.MOVE_DOWN_COMPONENT}</a>\r\n                    ${settingBtn}\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_CUT}\" title=\"${options.locale.cut}\">${ICON.CUT_COMPONENT}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_COPY}\" title=\"${options.locale.copy}\">${ICON.COPY_COMPONENT}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_DELETE}\" title=\"${options.locale.delete}\">${ICON.DELETE_COMPONENT}</a>\r\n                </div>\r\n            `);\r\n            \r\n        case TOOLBAR_TYPE.CONTENT_AREA:\r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR_CONTENT_AREA}\">\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.BTN} ${CSS_CLASS.BTN_DEFAULT} ${CSS_CLASS.ADD_CONTENT}\" title=\"${options.locale.addContent}\">${ICON.ADD_CONTENT}</a>\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.BTN} ${CSS_CLASS.BTN_DEFAULT} ${CSS_CLASS.PASTE_CONTENT}\" title=\"${options.locale.pasteContent}\">${ICON.PASTE_CONTENT}</a>\r\n                </div>\r\n            `);\r\n        \r\n        case TOOLBAR_TYPE.CONTAINER_CONTENT:\r\n        case TOOLBAR_TYPE.SUB_CONTAINER_CONTENT:\r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR_CONTAINER_CONTENT} ${type === TOOLBAR_TYPE.SUB_CONTAINER_CONTENT ? CSS_CLASS.TOOLBAR_SUB_CONTAINER_CONTENT : ''}\">\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.BTN} ${CSS_CLASS.BTN_DEFAULT} ${CSS_CLASS.ADD_CONTENT}\" title=\"${options.locale.addContent}\">${ICON.ADD_CONTENT}</a>\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.BTN} ${CSS_CLASS.BTN_DEFAULT} ${CSS_CLASS.PASTE_CONTENT}\" title=\"${options.locale.pasteContent}\">${ICON.PASTE_CONTENT}</a>\r\n                </div>\r\n            `);\r\n    \r\n        case TOOLBAR_TYPE.CONTAINER_BOTTOM:\r\n        case TOOLBAR_TYPE.SUB_CONTAINER_BOTTOM:\r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR} ${CSS_CLASS.TOOLBAR_BOTTOM} ${CSS_CLASS.TOOLBAR_CONTAINER_BOTTOM} ${type === TOOLBAR_TYPE.SUB_CONTAINER_BOTTOM ? CSS_CLASS.TOOLBAR_SUB_CONTAINER_BOTTOM : ''}\">\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.ADD_CONTENT}\" title=\"${options.locale.addContentBelow}\">${ICON.ADD_CONTENT}</a>\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.PASTE_CONTENT}\" title=\"${options.locale.pasteContentBelow}\">${ICON.PASTE_CONTENT}</a>\r\n                </div>\r\n            `);\r\n        \r\n        case TOOLBAR_TYPE.COMPONENT_BOTTOM:\r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR} ${CSS_CLASS.TOOLBAR_BOTTOM} ${CSS_CLASS.TOOLBAR_COMPONENT_BOTTOM}\">\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.ADD_CONTENT}\" title=\"${options.locale.addContentBelow}\">${ICON.ADD_CONTENT}</a>\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.PASTE_CONTENT}\" title=\"${options.locale.pasteContentBelow}\">${ICON.PASTE_CONTENT}</a>\r\n                </div>\r\n            `);\r\n        \r\n        default:\r\n        // Do nothing\r\n    }\r\n};\r\n","export default function (component) {\r\n    let self = this;\r\n    let options = self.options;\r\n\r\n    let componentType = (component.attr('data-type') || '').replace('component-', '');\r\n    if (componentType && (componentType in KEditor.components)) {\r\n        return componentType;\r\n    } else {\r\n        if (typeof options.defaultComponentType === 'string') {\r\n            componentType = options.defaultComponentType;\r\n        } else if (typeof options.defaultComponentType === 'function') {\r\n            componentType = options.defaultComponentType.call(self, component);\r\n        }\r\n\r\n        if (!componentType) {\r\n            self.error('Component type is undefined!');\r\n        }\r\n\r\n        return componentType;\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getDataAttributes from '../utils/getDataAttributes';\r\nimport generateId from '../utils/generateId';\r\n\r\nexport default function (dynamicElement) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let component = dynamicElement.closest(`[data-type^=\"component\"]`);\r\n    let contentArea = dynamicElement.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n    \r\n    !dynamicElement.attr('id') && dynamicElement.attr('id', generateId());\r\n    \r\n    if (typeof options.onBeforeDynamicContentLoad === 'function') {\r\n        options.onBeforeDynamicContentLoad.call(self, dynamicElement, component, contentArea);\r\n    }\r\n    \r\n    let dynamicHref = dynamicElement.attr('data-dynamic-href');\r\n    let data = getDataAttributes(component, ['data-type', 'data-dynamic-href'], false);\r\n    data = $.param(data);\r\n    \r\n    return $.ajax({\r\n        url: dynamicHref,\r\n        data: data,\r\n        type: 'GET',\r\n        dataType: 'HTML',\r\n        success: function (response, status, jqXHR) {\r\n            dynamicElement.html(response);\r\n            \r\n            if (typeof options.onDynamicContentLoaded === 'function') {\r\n                options.onDynamicContentLoaded.call(self, dynamicElement, jqXHR, contentArea);\r\n            }\r\n        },\r\n        error: function (jqXHR, textStatus, errorThrown ) {\r\n            if (typeof options.onDynamicContentError === 'function') {\r\n                options.onDynamicContentError.call(self, dynamicElement, jqXHR, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport generateId from '../utils/generateId';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport getComponentType from './getComponentType';\r\nimport initDynamicContent from './initDynamicContent';\r\n\r\nexport default function (component) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let container = component.closest(`.${CSS_CLASS.CONTAINER}`);\r\n    let contentArea = container.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n\r\n    if (!component.hasClass(CSS_CLASS.STATE_INITIALIZED) || !component.hasClass(CSS_CLASS.STATE_INITIALIZING)) {\r\n        component.addClass(CSS_CLASS.STATE_INITIALIZING);\r\n        component.attr('id', generateId());\r\n\r\n        if (typeof options.onBeforeInitComponent === 'function') {\r\n            options.onBeforeInitComponent.call(self, component, contentArea);\r\n        }\r\n\r\n        let componentContent = component.children(`.${CSS_CLASS.COMPONENT_CONTENT}`);\r\n        componentContent.attr('id', generateId());\r\n\r\n        let componentType = getComponentType.call(self, component);\r\n        let componentData = KEditor.components[componentType];\r\n\r\n        component.append(generateToolbar.call(self, TOOLBAR_TYPE.COMPONENT, componentData.settingEnabled));\r\n        component.append(generateToolbar.call(self, TOOLBAR_TYPE.COMPONENT_BOTTOM));\r\n\r\n        component.find('[data-dynamic-href]').each(function () {\r\n            let dynamicElement = $(this);\r\n\r\n            initDynamicContent.call(self, dynamicElement);\r\n        });\r\n\r\n        if (typeof componentData.init === 'function') {\r\n            componentData.init.call(componentData, contentArea, container, component, self);\r\n        }\r\n\r\n        if (typeof options.onInitComponent === 'function') {\r\n            options.onInitComponent.call(self, component, contentArea);\r\n        }\r\n\r\n        component.addClass(CSS_CLASS.STATE_INITIALIZED);\r\n        component.removeClass(CSS_CLASS.STATE_INITIALIZING);\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getDataAttributes from '../utils/getDataAttributes';\r\nimport initComponent from './initComponent';\r\n\r\nexport default function (target, isExisting) {\r\n    if (target.is(`.${CSS_CLASS.TOOLBAR_CONTAINER_CONTENT}`)) {\r\n        return;\r\n    }\r\n    \r\n    let self = this;\r\n    let component;\r\n    let dataAttributes = getDataAttributes.call(self, target, null, true);\r\n    \r\n    target.wrap(`<section class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT}\" data-type=\"${target.attr('data-type')}\" ${dataAttributes.join(' ')}></section>`);\r\n    target.wrap(`<section class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_CONTENT}\"></section>`);\r\n    component = target.parent().parent();\r\n    \r\n    target.removeAttr('data-type');\r\n    \r\n    if (isExisting) {\r\n        component.addClass(`${CSS_CLASS.COMPONENT_EXISTING}`);\r\n    }\r\n    \r\n    initComponent.call(self, component);\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport ICON from '../constants/icon';\r\n\r\n// @todo: quick & dirty implementation, complex solution is welcome\r\nexport default function (metaData) {\r\n    let self = this;\r\n    let options = self.options;\r\n\r\n    let $metaDataViewer = $(`<div class=\"${CSS_CLASS.UI} ${CSS_CLASS.META_DATA} ${CSS_CLASS.META_DATA_TOP}\"></div>`);\r\n\r\n    if (!$.isEmptyObject(metaData)) {\r\n        var $list = $('<ul>');\r\n\r\n        for (var key in metaData) {\r\n            $list.append(`<li>${options.locale.metaData[key]}: ${metaData[key]}</li>`);\r\n        }\r\n\r\n        $metaDataViewer.html($list);\r\n    }\r\n\r\n    return $metaDataViewer[0].outerHTML;\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function (modal) {\r\n    modal.css('display', 'block');\r\n    $(document.body).addClass(CSS_CLASS.STATE_MODAL_OPENED);\r\n    setTimeout(() => {\r\n        modal.addClass(CSS_CLASS.STATE_SHOWED);\r\n    }, 0);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport showModal from './showModal';\r\n\r\nexport default function (target, actionType, showComponent, showContainer) {\r\n    let self = this;\r\n    let modal = self.modal;\r\n    \r\n    self.modalTarget = target;\r\n    self.modalTargetAction = actionType;\r\n    showComponent && modal.addClass(CSS_CLASS.MODAL_COMPONENT);\r\n    showContainer && modal.addClass(CSS_CLASS.MODAL_CONTAINER);\r\n    modal.css('display', 'block');\r\n    \r\n    showModal.call(self, modal);\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport showSnippetModal from '../modal/showSnippetModal';\r\nimport generateId from '../utils/generateId';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport convertToContainer from './convertToContainer';\r\nimport convertToComponent from '../component/convertToComponent';\r\n\r\nexport default function (contentArea, container, containerContent, isNested) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    containerContent.addClass(CSS_CLASS.CONTAINER_CONTENT);\r\n    isNested && containerContent.addClass(CSS_CLASS.SUB_CONTAINER_CONTENT);\r\n    containerContent.attr('id', generateId());\r\n    \r\n    let containerContentInner = $(`<div class=\"${CSS_CLASS.CONTAINER_CONTENT_INNER}\"></div>`);\r\n    containerContentInner.html(containerContent.html());\r\n    containerContent.html(containerContentInner);\r\n    \r\n    let containerContentToolbar = $(\r\n        generateToolbar.call(self, isNested ? TOOLBAR_TYPE.SUB_CONTAINER_CONTENT : TOOLBAR_TYPE.CONTAINER_CONTENT, options.containerSettingEnabled)\r\n    );\r\n    containerContentToolbar.appendTo(containerContent);\r\n    containerContentToolbar.children(`.${CSS_CLASS.ADD_CONTENT}`).on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        showSnippetModal.call(self, containerContentInner, ACTION_TYPE.APPEND, true, !isNested);\r\n    });\r\n    \r\n    containerContentInner.sortable({\r\n        handle: `.${CSS_CLASS.COMPONENT_MOVE}, .${CSS_CLASS.CONTAINER_MOVE}`,\r\n        helper: 'clone',\r\n        items: `> .${CSS_CLASS.COMPONENT}`,\r\n        connectWith: `.${CSS_CLASS.CONTAINER_CONTENT_INNER}`,\r\n        tolerance: 'pointer',\r\n        receive: function (event, ui) {\r\n            let helper = ui.helper;\r\n            let item = ui.item;\r\n            let container;\r\n            \r\n            if (helper) {\r\n                helper.remove();\r\n            }\r\n            container = item.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            \r\n            if (!container.hasClass(CSS_CLASS.STATE_TOOLBAR_SHOWED)) {\r\n                contentAreasWrapper.find(`.${CSS_CLASS.CONTAINER}.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n                container.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n            }\r\n            \r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(self, event, container, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, event, contentArea);\r\n            }\r\n            \r\n            item.removeClass(CSS_CLASS.UI_DRAGGING);\r\n        },\r\n        start: function (e, ui) {\r\n            ui.item.addClass(CSS_CLASS.UI_DRAGGING);\r\n            ui.item.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n        },\r\n        stop: function (e, ui) {\r\n            if (ui.helper) {\r\n                ui.helper.remove();\r\n            }\r\n            ui.item.removeClass(CSS_CLASS.UI_DRAGGING);\r\n        }\r\n    });\r\n    \r\n    containerContentInner.children().each(function () {\r\n        let child = $(this);\r\n        \r\n        if (child.find('[data-type=\"container-content\"]').length > 0) {\r\n            convertToContainer.call(self, child);\r\n        } else {\r\n            convertToComponent.call(self, child, true);\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nconst getColByWidth = (grid, width) => {\r\n    let closest;\r\n    let minDiff;\r\n    \r\n    for (let i = 0; i < grid.length; ++i) {\r\n        let diff = Math.abs(grid[i].width - width);\r\n        \r\n        if (!minDiff || diff < minDiff) {\r\n            closest = i;\r\n            minDiff = diff;\r\n        } else {\r\n            return grid[closest]['col'];\r\n            \r\n        }\r\n    }\r\n    \r\n    return null;\r\n};\r\n\r\nexport default function (container) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let cols = container.find('.row > [class*=\"col-\"]');\r\n    \r\n    if (cols.length > 0) {\r\n        cols.resizable({\r\n            handles: 'resizer, none',\r\n            create: function () {\r\n                $(this).find(`.${CSS_CLASS.UI_RESIZER}`).attr('title', options.locale.columnResizeTitle);\r\n            },\r\n            resize: function (e, ui) {\r\n                let col = $(this);\r\n                let deviceClass = options.bootstrap.deviceClass[self.deviceMode];\r\n                let bsClass = `col-${deviceClass}-1 col-${deviceClass}-2 col-${deviceClass}-3 col-${deviceClass}-4 col-${deviceClass}-5 col-${deviceClass}-6 col-${deviceClass}-7 col-${deviceClass}-8 col-${deviceClass}-9 col-${deviceClass}-10 col-${deviceClass}-11 col-${deviceClass}-12`;\r\n    \r\n                let row = col.parent();\r\n                let colNum = getColByWidth(options.bootstrap.gridSystem,100 * ui.size.width / row.innerWidth());\r\n                col.removeClass(bsClass).addClass(`col-${deviceClass}-${colNum}`);\r\n                col.css('width', '');\r\n                col.css('height', '');\r\n            }\r\n        });\r\n    }\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport generateMetaData from '../utils/generateMetaData';\r\nimport generateId from '../utils/generateId';\r\nimport initContainerContent from './initContainerContent';\r\nimport initColumnResizer from './initColumnResizer';\r\n\r\nexport default function (container) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let isNested = container.closest('[data-type=\"container-content\"]').length > 0;\r\n    let containerContent = container.find('[data-type=\"container-content\"]').first();\r\n    let contentArea = container.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n    let metaData = JSON.parse(containerContent.attr('data-element-meta') || '{}');\r\n\r\n    if (!container.hasClass(CSS_CLASS.STATE_INITIALIZED) || !container.hasClass(CSS_CLASS.STATE_INITIALIZING)) {\r\n        container.addClass(CSS_CLASS.STATE_INITIALIZING);\r\n\r\n        if (typeof options.onBeforeInitContainer === 'function') {\r\n            options.onBeforeInitContainer.call(self, container, contentArea);\r\n        }\r\n\r\n        if (isNested) {\r\n            container.addClass(CSS_CLASS.SUB_CONTAINER);\r\n        }\r\n\r\n        container.append(\r\n            generateToolbar.call(self, isNested ? TOOLBAR_TYPE.SUB_CONTAINER : TOOLBAR_TYPE.CONTAINER, options.containerSettingEnabled)\r\n            +\r\n            generateToolbar.call(self, isNested ? TOOLBAR_TYPE.SUB_CONTAINER_BOTTOM : TOOLBAR_TYPE.CONTAINER_BOTTOM)\r\n            +\r\n            generateMetaData.call(self, metaData)\r\n        );\r\n\r\n        container.attr('id', generateId());\r\n\r\n        let containerContents = container.find('[data-type=\"container-content\"]');\r\n        containerContents.each(function () {\r\n            let containerContent = $(this);\r\n\r\n            if (!isNested && containerContent.parents('[data-type=\"container-content\"]').length > 0) {\r\n                // Do nothing because it's container content of sub container\r\n                return;\r\n            }\r\n\r\n            initContainerContent.call(self, contentArea, container, containerContent, isNested);\r\n        });\r\n\r\n        options.bootstrap.columnResizeEnabled && initColumnResizer.call(self, container);\r\n\r\n        if (typeof options.onInitContainer === 'function') {\r\n            options.onInitContainer.call(self, container, contentArea);\r\n        }\r\n\r\n        container.addClass(CSS_CLASS.STATE_INITIALIZED);\r\n        container.removeClass(CSS_CLASS.STATE_INITIALIZING);\r\n\r\n        if (!$.isEmptyObject(metaData)) {\r\n            container.addClass(CSS_CLASS.STATE_META_DATA_ACTIVE);\r\n        }\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport initContainer from './initContainer';\r\n\r\nexport default function (target) {\r\n    let self = this;\r\n    let container;\r\n    \r\n    target.wrap(`<section class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER}\"></section>`);\r\n    target.wrap(`<section class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_INNER}\"></section>`);\r\n    container = target.parent().parent();\r\n    \r\n    initContainer.call(self, container);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport getDataAttributes from '../utils/getDataAttributes';\r\nimport convertToComponent from '../component/convertToComponent';\r\nimport convertToContainer from '../container/convertToContainer';\r\n\r\nexport default function (e, selectedSnippet, target, targetAction) {\r\n    let self = this;\r\n    let modal = self.modal;\r\n    let options = self.options;\r\n    let contentArea = target.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n    let snippetType = selectedSnippet.attr('data-type');\r\n    \r\n    let snippetContentElement = modal.find(selectedSnippet.attr('data-snippet'));\r\n    \r\n    let snippetContent = snippetContentElement.html();\r\n    let isModalComponent = modal.hasClass(CSS_CLASS.MODAL_COMPONENT);\r\n    let isModalContainer = modal.hasClass(CSS_CLASS.MODAL_CONTAINER);\r\n    let isAddingContainer = false;\r\n    let isAddingComponent = false;\r\n    let isAddingComponentWithContainer = false;\r\n    \r\n    if (snippetType === 'container') {\r\n        isAddingContainer = true;\r\n    } else {\r\n        if (isModalComponent && !isModalContainer) {\r\n            isAddingComponent = true;\r\n        }\r\n        \r\n        if (isModalComponent && isModalContainer) {\r\n            if (target.is(`.${CSS_CLASS.CONTAINER_CONTENT_INNER}`)) {\r\n                isAddingComponent = true;\r\n            } else {\r\n                if (targetAction === ACTION_TYPE.APPEND) {\r\n                    isAddingComponentWithContainer = true;\r\n                } else {\r\n                    isAddingComponent = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    let newContainer;\r\n    let newComponent;\r\n    \r\n    self.contentAreasWrapper.find(`.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n    \r\n    if (isAddingContainer) {\r\n        newContainer = $(snippetContent);\r\n        target[targetAction](newContainer);\r\n        \r\n        if (typeof options.onContainerSnippetAdded === 'function') {\r\n            options.onContainerSnippetAdded.call(self, e, newContainer, selectedSnippet, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContentChanged === 'function') {\r\n            options.onContentChanged.call(self, e, contentArea);\r\n        }\r\n        \r\n        convertToContainer.call(self, newContainer);\r\n        newContainer.trigger('click');\r\n    }\r\n    \r\n    if (isAddingComponent || isAddingComponentWithContainer) {\r\n        let dataAttributes = getDataAttributes.call(self, snippetContentElement, null, true);\r\n        newComponent = $(`\r\n            <div data-type=\"${snippetType}\" ${dataAttributes.join(' ')}>\r\n                ${snippetContent}\r\n            </div>\r\n        `);\r\n    }\r\n    \r\n    if (isAddingComponent) {\r\n        target[targetAction](newComponent);\r\n        \r\n        let container = target.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        container.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n        if (typeof options.onComponentSnippetAdded === 'function') {\r\n            options.onComponentSnippetAdded.call(self, e, newComponent, selectedSnippet, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContentChanged === 'function') {\r\n            options.onContentChanged.call(self, e, contentArea);\r\n        }\r\n        \r\n        convertToComponent.call(self,newComponent);\r\n        newComponent.trigger('click');\r\n    }\r\n    \r\n    if (isAddingComponentWithContainer) {\r\n        newContainer = $(options.containerForQuickAddComponent);\r\n        newContainer.find('[data-type=\"container-content\"]').eq(0).html(newComponent);\r\n        target[targetAction](newContainer);\r\n        \r\n        if (typeof options.onComponentSnippetAdded === 'function') {\r\n            options.onComponentSnippetAdded.call(self, e, newComponent, selectedSnippet, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContentChanged === 'function') {\r\n            options.onContentChanged.call(self, e, contentArea);\r\n        }\r\n    \r\n        convertToContainer.call(self, newContainer);\r\n        newComponent.trigger('click');\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport hideModal from './hideModal';\r\n\r\nexport default function (modalId, hasFooter = true, disableOriginEvents = false) {\r\n    let self = this;\r\n    let modalFooter = `<div class=\"${CSS_CLASS.MODAL_FOOTER}\"></div>`;\r\n    let modal = $(`\r\n        <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.MODAL} ${hasFooter ? CSS_CLASS.STATE_HAS_FOOTER : ''}\" id=\"${modalId}\">\r\n            <div class=\"${CSS_CLASS.MODAL_HEADER}\">\r\n                <button type=\"button\" class=\"${CSS_CLASS.MODAL_CLOSE}\">&times;</button>\r\n                <h4 class=\"${CSS_CLASS.MODAL_TITLE}\"></h4>\r\n            </div>\r\n            <div class=\"${CSS_CLASS.MODAL_BODY}\"></div>\r\n            ${hasFooter ? modalFooter : ''}\r\n        </div>\r\n    `);\r\n\r\n    if (!disableOriginEvents) {\r\n        // Close buttons\r\n        modal.on('click', `.${CSS_CLASS.MODAL_CLOSE}`, function (e) {\r\n            e.preventDefault();\r\n\r\n            hideModal.call(self, modal);\r\n        });\r\n    }\r\n\r\n    // return modal.appendTo(self.wrapper);\r\n    return modal.appendTo(document.body);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport generateId from '../utils/generateId';\r\nimport renderSnippets from '../snippet/renderSnippets';\r\nimport initSnippetsFilter from '../snippet/initSnippetsFilter';\r\nimport hideSnippetModal from './hideSnippetModal';\r\nimport initSnippetAction from './initSnippetAction';\r\nimport addSnippetToTarget from '../snippet/addSnippetToTarget';\r\nimport initModal from './initModal';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let modal = self.modal = initModal.call(self, generateId(), false, true);\r\n    \r\n    if (typeof options.snippetsUrl === 'string' && options.snippetsUrl.length > 0) {\r\n        modal.find(`.${CSS_CLASS.MODAL_BODY}`).append(`\r\n            <div class=\"${CSS_CLASS.SNIPPETS_WRAPPER}\">\r\n                <div class=\"${CSS_CLASS.SNIPPETS}\"></div>\r\n            </div>\r\n        `);\r\n        \r\n        $.ajax({\r\n            type: 'get',\r\n            dataType: 'html',\r\n            url: options.snippetsUrl,\r\n            success: function (resp) {\r\n                if (typeof options.onSnippetsLoaded === 'function') {\r\n                    resp = options.onSnippetsLoaded.call(self, resp) || resp;\r\n                }\r\n                \r\n                renderSnippets.call(self, resp);\r\n                initSnippetsFilter.call(self);\r\n            },\r\n            error: function (jqXHR) {\r\n                if (typeof options.onSnippetsError === 'function') {\r\n                    options.onSnippetsError.call(self, jqXHR);\r\n                }\r\n            }\r\n        });\r\n        \r\n        // Snippet events\r\n        initSnippetAction.call(self);\r\n        \r\n        // Close buttons\r\n        modal.find(`.${CSS_CLASS.MODAL_CLOSE}`).on('click', function (e) {\r\n            e.preventDefault();\r\n            \r\n            hideSnippetModal.call(self);\r\n        });\r\n    \r\n        // Add buttons\r\n        modal.on('click', `.${CSS_CLASS.SNIPPET}`, function (e) {\r\n            e.preventDefault();\r\n            \r\n            let selectedSnippet = $(this);\r\n            \r\n            addSnippetToTarget.call(self, e, selectedSnippet, self.modalTarget, self.modalTargetAction);\r\n            hideSnippetModal.call(self);\r\n        });\r\n    } else {\r\n        self.error('\"snippetsUrl\" must be not null!');\r\n    }\r\n};\r\n","const SETTING_CATEGORY = {\r\n    COMPONENT: 'component',\r\n    CONTAINER: 'container',\r\n    EXTRA: 'extra',\r\n};\r\n\r\nexport default SETTING_CATEGORY;\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport SETTING_CATEGORY from '../constants/settingCategory';\r\nimport log from '../utils/log';\r\n\r\nexport default function () {\r\n    log('closeSidebar');\r\n    \r\n    let self = this;\r\n    let options = self.options;\r\n    let sidebar = self.sidebar;\r\n    let activeForm = self.sidebarBody.children(`.${CSS_CLASS.STATE_ACTIVE}`);\r\n    \r\n    if (activeForm.length > 0) {\r\n        switch (activeForm.attr('[data-setting-category]')) {\r\n            case SETTING_CATEGORY.CONTAINER:\r\n                if (typeof options.containerSettingHideFunction === 'function') {\r\n                    options.containerSettingHideFunction.call(self, activeForm, self);\r\n                }\r\n                break;\r\n            \r\n            case SETTING_CATEGORY.COMPONENT:\r\n                let activeType = activeForm.attr('data-type');\r\n                let componentData = KEditor.components[activeType];\r\n                \r\n                if (typeof componentData.hideSettingForm === 'function') {\r\n                    componentData.hideSettingForm.call(componentData, activeForm, self);\r\n                }\r\n                break;\r\n            \r\n            case SETTING_CATEGORY.EXTRA:\r\n                // TODO: Will add method when hiding setting for Extra setting\r\n                break;\r\n            \r\n            default:\r\n            // Do nothing\r\n        }\r\n        \r\n        activeForm.removeClass(CSS_CLASS.STATE_ACTIVE);\r\n    }\r\n    \r\n    self.settingComponent = null;\r\n    self.settingContainer = null;\r\n    sidebar.removeClass(CSS_CLASS.STATE_OPENED);\r\n    self.iframeBody.removeClass(CSS_CLASS.STATE_SIDEBAR_SHOWED);\r\n}","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function (target, settingType, settingCategory, initFunction, functionContext, callback) {\r\n    let self = this;\r\n    let sidebarBody = self.sidebarBody;\r\n    let isExisting = false;\r\n\r\n    let settingForm = sidebarBody.children(`.${CSS_CLASS.SETTING_FORM}[data-setting-type=\"${settingType}\"][data-setting-category=\"${settingCategory}\"]`);\r\n    if (settingForm.length === 0) {\r\n        if (typeof initFunction === 'function') {\r\n            settingForm = $(`\r\n                <div\r\n                    data-setting-type=\"${settingType}\"\r\n                    data-setting-category=\"${settingCategory}\"\r\n                    class=\"${CSS_CLASS.UI} ${CSS_CLASS.SETTING_FORM}\"\r\n                ></div>\r\n            `);\r\n            let loadingText = $(`<span class=\"${CSS_CLASS.SETTING_FORM_LOADING}\" />`).html('Loading...');\r\n            sidebarBody.append(settingForm);\r\n            settingForm.append(loadingText);\r\n\r\n            $.when(initFunction.call(functionContext, settingForm, self)).done(function () {\r\n                setTimeout(function () {\r\n                    loadingText.remove();\r\n\r\n                    typeof callback === 'function' && callback(false);\r\n                }, 100);\r\n            });\r\n        }\r\n    } else {\r\n        isExisting = true;\r\n    }\r\n\r\n    settingForm.find(':input:first').focus();\r\n\r\n    return {\r\n        settingForm,\r\n        isExisting\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport SETTING_CATEGORY from '../constants/settingCategory';\r\nimport closeSidebar from './closeSidebar';\r\nimport initSettingForm from './initSettingForm';\r\n\r\nexport default function (target, settingType, settingCategory, settingTitle, initFunction, showFunction, functionContext) {\r\n    let self = this;\r\n    let sidebar = self.sidebar;\r\n    let sidebarTitle = self.sidebarTitle;\r\n    let sidebarBody = self.sidebarBody;\r\n    \r\n    let {settingForm, isExisting} = initSettingForm.call(self, target, settingType, settingCategory, initFunction, functionContext, () => {\r\n        if (typeof showFunction === 'function') {\r\n            showFunction.call(functionContext, settingForm, target, self);\r\n        }\r\n    });\r\n    \r\n    let shouldCloseSidebar = settingForm.hasClass(CSS_CLASS.STATE_ACTIVE) && (target.is(self.settingContainer) || target.is(self.settingComponent) || target.is('[data-extra-setting]'));\r\n    \r\n    self.settingComponent = null;\r\n    self.settingContainer = null;\r\n    switch (settingCategory) {\r\n        case SETTING_CATEGORY.COMPONENT:\r\n            self.settingComponent = target;\r\n            break;\r\n        \r\n        case SETTING_CATEGORY.CONTAINER:\r\n            self.settingContainer = target;\r\n            break;\r\n        \r\n        default:\r\n        // Do nothing\r\n    }\r\n    \r\n    if (isExisting) {\r\n        if (shouldCloseSidebar) {\r\n            closeSidebar.call(self);\r\n            return;\r\n        } else {\r\n            if (typeof showFunction === 'function') {\r\n                showFunction.call(functionContext, settingForm, target, self);\r\n            }\r\n        }\r\n    }\r\n    \r\n    sidebarTitle.html(settingTitle);\r\n    sidebarBody.children(`.${CSS_CLASS.STATE_ACTIVE}`).removeClass(CSS_CLASS.STATE_ACTIVE);\r\n    settingForm.addClass(CSS_CLASS.STATE_ACTIVE);\r\n    sidebar.addClass(CSS_CLASS.STATE_OPENED);\r\n    self.iframeBody.addClass(CSS_CLASS.STATE_SIDEBAR_SHOWED);\r\n}","import CSS_CLASS from '../constants/cssClass';\r\nimport getComponentType from '../component/getComponentType';\r\nimport SETTING_CATEGORY from '../constants/settingCategory';\r\nimport showSettingForm from './showSettingForm';\r\nimport log from '../utils/log';\r\n\r\nexport default function (target) {\r\n    log('openSidebar', target);\r\n    \r\n    let self = this;\r\n    let options = self.options;\r\n    \r\n    if (target.is(`.${CSS_CLASS.COMPONENT}`)) {\r\n        let componentType = getComponentType.call(self, target);\r\n        let componentData = KEditor.components[componentType];\r\n    \r\n        showSettingForm.call(self, target, componentType, SETTING_CATEGORY.COMPONENT, componentData.settingTitle, componentData.initSettingForm, componentData.showSettingForm, componentData);\r\n    } else if (target.is(`.${CSS_CLASS.CONTAINER}`)) {\r\n        showSettingForm.call(self, target, null, SETTING_CATEGORY.CONTAINER, options.locale.containerSetting, options.containerSettingInitFunction, options.containerSettingShowFunction, self);\r\n    } else {\r\n        let extraKey = target.attr('data-extra-setting');\r\n        let extraSetting = options.extraSettings[extraKey];\r\n        showSettingForm.call(self, target, extraKey, SETTING_CATEGORY.EXTRA, extraSetting.title, extraSetting.settingInitFunction, extraSetting.settingShowFunction, extraSetting);\r\n    }\r\n};\r\n","import openSidebar from './openSidebar';\r\nimport initSettingForm from './initSettingForm';\r\nimport SETTING_CATEGORY from '../constants/settingCategory';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    \r\n    $.isPlainObject(options.extraSettings) && $.each(options.extraSettings, (name, extraSetting) => {\r\n        let trigger;\r\n        switch (typeof extraSetting.trigger) {\r\n            case 'function':\r\n                trigger = extraSetting.trigger.call(self, extraSetting);\r\n                break;\r\n        \r\n            case 'string':\r\n                trigger = $(extraSetting.trigger);\r\n                break;\r\n        \r\n            default:\r\n                trigger = extraSetting.trigger;\r\n        }\r\n    \r\n        trigger.attr('data-extra-setting', name);\r\n        trigger.on('click', function (e) {\r\n            e.preventDefault();\r\n        \r\n            openSidebar.call(self, trigger);\r\n        });\r\n        \r\n        if (extraSetting.autoInit) {\r\n            initSettingForm.call(self, trigger, name, SETTING_CATEGORY.EXTRA, extraSetting.settingInitFunction, extraSetting);\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport generateId from '../utils/generateId';\r\nimport closeSidebar from './closeSidebar';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let sidebarId = generateId();\r\n\r\n    self.sidebar = $(`\r\n        <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.SIDEBAR}\" id=\"${sidebarId}\">\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.SIDEBAR_HEADER}\">\r\n                <span class=\"${CSS_CLASS.UI} ${CSS_CLASS.SIDEBAR_TITLE}\"></span>\r\n                <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.SIDEBAR_CLOSER}\">&times;</a>\r\n            </div>\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.SIDEBAR_BODY}\"></div>\r\n        </div>\r\n    `);\r\n\r\n    self.sidebarTitle = self.sidebar.find(`.${CSS_CLASS.SIDEBAR_TITLE}`);\r\n\r\n    self.sidebarCloser = self.sidebar.find(`.${CSS_CLASS.SIDEBAR_CLOSER}`);\r\n    self.sidebarCloser.on('click', function (e) {\r\n        e.preventDefault();\r\n\r\n        closeSidebar.call(self);\r\n    });\r\n\r\n    self.sidebarBody = self.sidebar.find(`.${CSS_CLASS.SIDEBAR_BODY}`);\r\n    self.sidebarBody.on('submit', 'form', function (e) {\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    self.sidebar.appendTo(self.wrapper);\r\n};\r\n","const DEVICE_MODE = {\r\n    MOBILE: 'MOBILE',\r\n    TABLET: 'TABLET',\r\n    LAPTOP: 'LAPTOP',\r\n    DESKTOP: 'DESKTOP',\r\n};\r\n\r\nexport default DEVICE_MODE;\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport DEVICE_MODE from '../constants/deviceMode';\r\n\r\nexport default function (deviceMode, trigger) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let topbarCenter = self.topbarCenter;\r\n    let iframeWidthSwitcher = self.iframe.parent();\r\n    let width = '';\r\n    let minWidth = '';\r\n    \r\n    topbarCenter.find(`.${CSS_CLASS.STATE_ACTIVE}`).removeClass(CSS_CLASS.STATE_ACTIVE);\r\n    trigger.addClass(CSS_CLASS.STATE_ACTIVE);\r\n    \r\n    switch (deviceMode) {\r\n        case DEVICE_MODE.MOBILE:\r\n            width = options.widthMobile;\r\n            break;\r\n            \r\n        case DEVICE_MODE.TABLET:\r\n            width = options.widthTablet;\r\n            break;\r\n            \r\n        case DEVICE_MODE.LAPTOP:\r\n            width = options.widthLaptop;\r\n            break;\r\n            \r\n        case DEVICE_MODE.DESKTOP:\r\n            minWidth = options.minWidthDesktop;\r\n            break;\r\n        \r\n        default:\r\n            // Do nothing\r\n    }\r\n    \r\n    self.deviceMode = deviceMode;\r\n    iframeWidthSwitcher.css('width', width);\r\n    iframeWidthSwitcher.css('min-width', minWidth);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ICON from '../constants/icon';\r\nimport DEVICE_MODE from '../constants/deviceMode';\r\nimport switchDevice from './switchDevice';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let topbarCenter = self.topbarCenter;\r\n\r\n    let btnMobile = self.btnMobile = $(`\r\n        <a href=\"javascript:void(0);\" title=\"${options.locale.viewOnMobile}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.DEVICE_MOBILE}</a>\r\n    `);\r\n    btnMobile.on('click', function (e) {\r\n        e.preventDefault();\r\n        switchDevice.call(self, DEVICE_MODE.MOBILE, btnMobile);\r\n    });\r\n\r\n    let btnTablet = self.btnTablet = $(`\r\n        <a href=\"javascript:void(0);\" title=\"${options.locale.viewOnTablet}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.DEVICE_TABLET}</a>\r\n    `);\r\n    btnTablet.on('click', function (e) {\r\n        e.preventDefault();\r\n        switchDevice.call(self, DEVICE_MODE.TABLET, btnTablet);\r\n    });\r\n\r\n    let btnLaptop = self.btnLaptop = $(`\r\n        <a href=\"javascript:void(0);\" title=\"${options.locale.viewOnLaptop}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.DEVICE_LAPTOP}</a>\r\n    `);\r\n    btnLaptop.on('click', function (e) {\r\n        e.preventDefault();\r\n        switchDevice.call(self, DEVICE_MODE.LAPTOP, btnLaptop);\r\n    });\r\n\r\n    let btnDesktop = self.btnDesktop = $(`\r\n        <a href=\"javascript:void(0);\" title=\"${options.locale.viewOnDesktop}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.DEVICE_DESKTOP}</a>\r\n    `);\r\n    btnDesktop.on('click', function (e) {\r\n        e.preventDefault();\r\n        switchDevice.call(self, DEVICE_MODE.DESKTOP, btnDesktop);\r\n    }).trigger('click');\r\n\r\n    if (typeof options.bootstrap.deviceClass.MOBILE !== 'undefined') {\r\n        topbarCenter.append(btnMobile);\r\n    }\r\n\r\n    if (typeof options.bootstrap.deviceClass.TABLET !== 'undefined') {\r\n        topbarCenter.append(btnTablet);\r\n    }\r\n\r\n    if (typeof options.bootstrap.deviceClass.LAPTOP !== 'undefined') {\r\n        topbarCenter.append(btnLaptop);\r\n    }\r\n\r\n    if (typeof options.bootstrap.deviceClass.DESKTOP !== 'undefined') {\r\n        topbarCenter.append(btnDesktop);\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getDataAttributes from '../utils/getDataAttributes';\r\nimport getComponentType from './getComponentType';\r\n\r\nexport default function (component, format = null) {\r\n    let self = this;\r\n    let clonedComponent = component.clone();\r\n    let componentType = getComponentType.call(self, clonedComponent);\r\n    let componentData = KEditor.components[componentType];\r\n    let dataAttributes = getDataAttributes(clonedComponent, null, false);\r\n    let content;\r\n\r\n    // Handle iframe-wrapper\r\n    let iframeWrapper = clonedComponent.find(`.${CSS_CLASS.IFRAME_COVER_WRAPPER}`);\r\n\r\n    if (iframeWrapper.length > 0) {\r\n        iframeWrapper.find(`.${CSS_CLASS.IFRAME_COVER}`).remove();\r\n\r\n        let iframe = iframeWrapper.children('iframe');\r\n\r\n        if (iframeWrapper.hasClass(CSS_CLASS.IFRAME_COVER_WRAPPER_FAKE)) {\r\n            iframe.unwrap();\r\n        } else {\r\n            iframeWrapper.removeClass(CSS_CLASS.IFRAME_COVER_WRAPPER);\r\n        }\r\n    }\r\n\r\n    if (typeof componentData.getContent === 'function') {\r\n        content = componentData.getContent.call(componentData, clonedComponent, self, format);\r\n    } else {\r\n        let componentContent = clonedComponent.children(`.${CSS_CLASS.COMPONENT_CONTENT}`);\r\n        content = componentContent.html();\r\n    }\r\n\r\n    // Remove all content inside dynamic element\r\n    clonedComponent.html(content).find('[data-dynamic-href]').each(function () {\r\n        $(this).html('');\r\n    });\r\n\r\n    clonedComponent.children().attr(dataAttributes).attr('data-type', `component-${componentType}`);\r\n\r\n    // remove element id when copy-pasting raw content\r\n    if (format === 'raw') {\r\n        clonedComponent.find('[data-element-id]').removeAttr('data-element-id');\r\n    }\r\n\r\n    return clonedComponent.html();\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getComponentContent from '../component/getComponentContent';\r\n\r\nexport default function getContainerContent (container, isNested, format = null) {\r\n    let self = this;\r\n    let containerInner = container.children(`.${CSS_CLASS.CONTAINER_INNER}`).clone();\r\n\r\n    containerInner.find('[data-type=container-content]').not(isNested ? '' : `.${CSS_CLASS.SUB_CONTAINER_CONTENT}`).each(function () {\r\n        let containerContent = $(this);\r\n\r\n        containerContent\r\n            .removeClass(`${CSS_CLASS.CONTAINER_CONTENT} ${CSS_CLASS.SUB_CONTAINER_CONTENT} ${CSS_CLASS.SORTABLE} ${CSS_CLASS.RESIZABLE}`)\r\n            .removeAttr('id');\r\n\r\n        // remove element id when copy-pasting content\r\n        if (format === 'raw') {\r\n            containerContent.removeAttr('data-element-id');\r\n        }\r\n\r\n        let containerContentInner = containerContent.children();\r\n        let content = '';\r\n\r\n        containerContentInner.children().each(function () {\r\n            let child = $(this);\r\n\r\n            if (child.is(`.${CSS_CLASS.COMPONENT}`)) {\r\n                content += getComponentContent.call(self, child, format);\r\n            } else if (child.is(`.${CSS_CLASS.SUB_CONTAINER}`)) {\r\n                content += getContainerContent.call(self, child, true, format);\r\n            }\r\n        });\r\n\r\n        containerContent.html(content);\r\n    });\r\n\r\n    return containerInner.html();\r\n}","import CSS_CLASS from './constants/cssClass';\r\nimport getContainerContent from './container/getContainerContent';\r\n\r\nexport default function (inArray) {\r\n    let self = this;\r\n    let result = [];\r\n    \r\n    self.contentAreasWrapper.find(`.${CSS_CLASS.CONTENT_AREA_INNER}`).each(function () {\r\n        let html = '';\r\n        $(this).children(`.${CSS_CLASS.CONTAINER}`).each(function () {\r\n            let container = $(this);\r\n            \r\n            html += getContainerContent.call(self, container);\r\n        });\r\n        \r\n        result.push(html);\r\n    });\r\n    \r\n    return inArray ? result : result.join('\\n');\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ICON from '../constants/icon';\r\nimport initDynamicContent from '../component/initDynamicContent';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\nimport getContent from '../getContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let btnPreview = self.btnPreview = $(`<a href=\"javascript:void(0);\" title=\"${options.locale.previewOff}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.PREVIEW_OFF}</a>`);\r\n    \r\n    self.previewArea = $(`<div class=\"${CSS_CLASS.PREVIEW_AREA}\"></div>`);\r\n    self.contentAreasWrapper.after(self.previewArea);\r\n    \r\n    btnPreview.on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        let isPreviewOn = !btnPreview.hasClass(CSS_CLASS.STATE_ACTIVE);\r\n        \r\n        btnPreview.html(isPreviewOn ? ICON.PREVIEW_ON : ICON.PREVIEW_OFF);\r\n        btnPreview[isPreviewOn ? 'addClass' : 'removeClass'](CSS_CLASS.STATE_ACTIVE);\r\n        btnPreview.attr('title', isPreviewOn ? options.locale.previewOn : options.locale.previewOff);\r\n        self.iframeBody[isPreviewOn ? 'addClass' : 'removeClass'](CSS_CLASS.STATE_PREVIEWING);\r\n        self.previewArea.html('');\r\n        \r\n        // Close sidebar when previewing\r\n        closeSidebar.call(self);\r\n        \r\n        isPreviewOn && self.previewArea.html(getContent.call(self)).find('[data-dynamic-href]').each(function () {\r\n            let dynamicElement = $(this);\r\n            dynamicElement.html('Loading...');\r\n            initDynamicContent.call(self, dynamicElement);\r\n        });\r\n    });\r\n    \r\n    self.topbarRight.append(btnPreview);\r\n};\r\n","import enterFullscreen from '../utils/enterFullscreen';\r\nimport exitFullscreen from '../utils/exitFullscreen';\r\n\r\nexport default function (isOn) {\r\n    let self = this;\r\n    \r\n    if (isOn) {\r\n        enterFullscreen(self.wrapper[0]);\r\n    } else {\r\n        exitFullscreen();\r\n    }\r\n};\r\n","export default (el) => {\r\n    if (el.requestFullscreen) {\r\n        el.requestFullscreen();\r\n    } else if (el.mozRequestFullScreen) { /* Firefox */\r\n        el.mozRequestFullScreen();\r\n    } else if (el.webkitRequestFullscreen) { /* Chrome, Safari and Opera */\r\n        el.webkitRequestFullscreen();\r\n    } else if (el.msRequestFullscreen) { /* IE/Edge */\r\n        el.msRequestFullscreen();\r\n    }\r\n};\r\n","export default () => {\r\n    if (!document.fullscreenElement) {\r\n        return;\r\n    }\r\n\r\n    if (document.exitFullscreen) {\r\n        document.exitFullscreen();\r\n    } else if (document.mozCancelFullScreen) { /* Firefox */\r\n        document.mozCancelFullScreen();\r\n    } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */\r\n        document.webkitExitFullscreen();\r\n    } else if (document.msExitFullscreen) { /* IE/Edge */\r\n        document.msExitFullscreen();\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ICON from '../constants/icon';\r\nimport setFullScreenMode from './setFullscreenMode';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let btnFullscreen = self.btnFullscreen = $(`<a href=\"javascript:void(0);\" title=\"${options.locale.fullscreenOff}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.FULLSCREEN_OFF}</a>`);\r\n\r\n    btnFullscreen.on('click', function (e) {\r\n        e.preventDefault();\r\n\r\n        setFullScreenMode.call(self, !self.isFullscreen);\r\n\r\n        self.isFullscreen = !self.isFullscreen;\r\n    });\r\n\r\n    document.addEventListener('fullscreenchange', function () {\r\n        let isOn = !!document.fullscreenElement;\r\n\r\n        btnFullscreen.html(isOn ? ICON.FULLSCREEN_ON : ICON.FULLSCREEN_OFF);\r\n        btnFullscreen.attr('title', isOn ? options.locale.fullscreenOn : options.locale.fullscreenOff);\r\n    });\r\n\r\n    self.topbarRight.append(btnFullscreen);\r\n}\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getContent from '../getContent';\r\nimport ICON from '../constants/icon';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let btnSave = self.btnSave = $(`<a href=\"javascript:void(0);\" title=\"${options.locale.save}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.SAVE}</a>`);\r\n    btnSave.on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        let content = getContent.call(self);\r\n        \r\n        options.onSave.call(self, content);\r\n    });\r\n    \r\n    self.topbarRight.append(btnSave);\r\n};\r\n","import initPreviewAction from './initPreviewAction';\r\nimport initFullscreenAction from './initFullscreenAction';\r\nimport initSaveAction from './initSaveAction';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    \r\n    initPreviewAction.apply(self);\r\n    initFullscreenAction.apply(self);\r\n    typeof options.onSave === 'function' && initSaveAction.apply(self);\r\n};\r\n","export default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let topbarRight = self.topbarRight;\r\n    \r\n    $.isPlainObject(options.extraTopbarItems) && $.each(options.extraTopbarItems, (name, item) => {\r\n        let btn = $(item.html);\r\n        btn.addClass(`keditor-ui keditor-topbar-btn keditor-topbar-btn-${name}`);\r\n        btn.on('click', item.click);\r\n        \r\n        topbarRight.append(btn);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport generateId from '../utils/generateId';\r\nimport initDeviceSwitcher from './initDeviceSwitcher';\r\nimport initTopbarRightActions from './initTopbarRightActions';\r\nimport initTopbarExtraItems from './initTopbarExtraItems';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let topbarId = generateId();\r\n    let options = self.options;\r\n    \r\n    self.topbar = $(`\r\n        <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR}\" id=\"${topbarId}\">\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_LEFT}\">\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_TITLE}\" title=\"${options.title}\">${options.title}</div>\r\n            </div>\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_CENTER}\">\r\n            </div>\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_RIGHT}\">\r\n            </div>\r\n        </div>\r\n    `);\r\n    self.topbarLeft = self.topbar.find(`.${CSS_CLASS.TOPBAR_LEFT}`);\r\n    self.topbarCenter = self.topbar.find(`.${CSS_CLASS.TOPBAR_CENTER}`);\r\n    self.topbarRight = self.topbar.find(`.${CSS_CLASS.TOPBAR_RIGHT}`);\r\n    \r\n    self.topbar.appendTo(self.wrapper);\r\n    \r\n    initDeviceSwitcher.call(self);\r\n    initTopbarRightActions.call(self);\r\n    initTopbarExtraItems.call(self);\r\n};\r\n","export default function (event, selector) {\r\n    let target = $(event.target);\r\n    let closest = target.closest(selector);\r\n    \r\n    if (target.is(selector)) {\r\n        return target;\r\n    } else if (closest.length > 0) {\r\n        return closest;\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getClickedElement from '../utils/getClickedElement';\r\nimport openSidebar from '../sidebar/openSidebar';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    self.iframeBody.on('click', function (e) {\r\n        let sidebar = getClickedElement(e, `.${CSS_CLASS.SIDEBAR}`);\r\n        let modal = getClickedElement(e, `.${CSS_CLASS.MODAL}`);\r\n        \r\n        let container = getClickedElement(e, `.${CSS_CLASS.CONTAINER}`);\r\n        if (container) {\r\n            if (!container.hasClass(CSS_CLASS.STATE_TOOLBAR_SHOWED)) {\r\n                contentAreasWrapper.find(`.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n                container.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n                \r\n                let contentArea = container.parent();\r\n                if (typeof options.onContainerSelected === 'function') {\r\n                    options.onContainerSelected.call(self, e, container, contentArea);\r\n                }\r\n            }\r\n        } else {\r\n            if (!sidebar && !modal) {\r\n                contentAreasWrapper.find(`.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n            }\r\n        }\r\n        \r\n        let component = getClickedElement(e, `.${CSS_CLASS.COMPONENT}`);\r\n        if (component) {\r\n            if (!component.hasClass(CSS_CLASS.STATE_TOOLBAR_SHOWED)) {\r\n                contentAreasWrapper.find(`.${CSS_CLASS.COMPONENT}.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n                component.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n                \r\n                let contentArea = component.parent();\r\n                if (typeof options.onComponentSelected === 'function') {\r\n                    options.onComponentSelected.call(self, e, component, contentArea);\r\n                }\r\n            }\r\n            \r\n            let toolbar = getClickedElement(e, `.${CSS_CLASS.TOOLBAR_COMPONENT}`);\r\n            if (toolbar) {\r\n                return;\r\n            }\r\n            \r\n            if (options.clickComponentToShowSetting) {\r\n                let btnSetting = component.find(`.${CSS_CLASS.COMPONENT_SETTING}`);\r\n                if (btnSetting.length > 0) {\r\n                    self.settingComponent = null;\r\n                    openSidebar.call(self, component);\r\n                } else {\r\n                    closeSidebar.call(self);\r\n                }\r\n            }\r\n        } else {\r\n            if (!sidebar) {\r\n                contentAreasWrapper.find(`.${CSS_CLASS.COMPONENT}.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n            }\r\n        }\r\n    });\r\n};\r\n","const KEY_MAP = {\r\n    ESC: 27,\r\n};\r\n\r\nexport default KEY_MAP;\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function (target, isCut) {\r\n    let self = this;\r\n    \r\n    self.copyContent = isCut ? null : target;\r\n    self.cutContent = isCut ? target : null;\r\n    \r\n    self.contentAreasWrapper.find(`.${CSS_CLASS.UI_CUTTING}`).removeClass(CSS_CLASS.UI_CUTTING);\r\n    self.iframeBody.removeClass(`${CSS_CLASS.STATE_COPYING} ${CSS_CLASS.STATE_COPYING_COMPONENT} ${CSS_CLASS.STATE_COPYING_CONTAINER} ${CSS_CLASS.STATE_COPYING_SUB_CONTAINER}`);\r\n    \r\n    if (target) {\r\n        isCut && target.addClass(CSS_CLASS.UI_CUTTING);\r\n        self.iframeBody.addClass(CSS_CLASS.STATE_COPYING);\r\n        \r\n        if (target.hasClass(CSS_CLASS.COMPONENT)) {\r\n            self.iframeBody.addClass(CSS_CLASS.STATE_COPYING_COMPONENT);\r\n        }\r\n        \r\n        if (target.hasClass(CSS_CLASS.CONTAINER)) {\r\n            self.iframeBody.addClass(target.hasClass(CSS_CLASS.SUB_CONTAINER) ? CSS_CLASS.STATE_COPYING_SUB_CONTAINER : CSS_CLASS.STATE_COPYING_CONTAINER);\r\n        }\r\n    }\r\n};\r\n","import KEY_MAP from '../constants/keyMap';\r\nimport setCopyContent from '../utils/setCopyContent';\r\nimport setFullscreenMode from '../topbar/setFullscreenMode';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    \r\n    self.iframeDoc.on('keydown', function (e) {\r\n        switch (e.keyCode) {\r\n            case KEY_MAP.ESC:\r\n                setCopyContent.call(self, null);\r\n                setFullscreenMode.call(self, false);\r\n                break;\r\n            \r\n            default:\r\n            // Do nothing\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport setCopyContent from '../utils/setCopyContent';\r\nimport log from '../utils/log';\r\nimport convertToContainer from '../container/convertToContainer';\r\nimport getComponentContent from '../component/getComponentContent';\r\nimport getContainerContent from '../container/getContainerContent';\r\nimport convertToComponent from '../component/convertToComponent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n\r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.PASTE_CONTENT}`, function (e) {\r\n        e.preventDefault();\r\n\r\n        log(`Click on \".${CSS_CLASS.PASTE_CONTENT}\"`);\r\n\r\n        let btn = $(this);\r\n        let isCopy = !!self.copyContent;\r\n\r\n        // Check source\r\n        let source = isCopy ? self.copyContent : self.cutContent;\r\n        let isComponent = source.hasClass(CSS_CLASS.COMPONENT);\r\n        let isContainer = source.hasClass(CSS_CLASS.CONTAINER);\r\n        let isSubContainer = source.hasClass(CSS_CLASS.SUB_CONTAINER);\r\n        let pasteContent;\r\n        let format = 'raw';\r\n\r\n        if (isCopy) {\r\n            pasteContent = $(isComponent ? getComponentContent.call(self, source, format) : getContainerContent.call(self, source, isSubContainer, format));\r\n        } else {\r\n            pasteContent = source;\r\n        }\r\n\r\n        // Check target\r\n        let target = null;\r\n\r\n        let toolbarBottom = btn.closest(`.${CSS_CLASS.TOOLBAR_BOTTOM}`);\r\n        if (toolbarBottom.length > 0) {\r\n            if (toolbarBottom.hasClass(CSS_CLASS.TOOLBAR_CONTAINER_BOTTOM)) {\r\n                log('Target is container');\r\n                target = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            }\r\n\r\n            if (toolbarBottom.hasClass(CSS_CLASS.TOOLBAR_COMPONENT_BOTTOM)) {\r\n                log('Target is component');\r\n                target = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n            }\r\n        }\r\n\r\n        let toolbarContainerContent = btn.closest(`.${CSS_CLASS.TOOLBAR_CONTAINER_CONTENT}`);\r\n        if (toolbarContainerContent.length > 0) {\r\n            log('Target is component');\r\n            target = toolbarContainerContent.siblings(`.${CSS_CLASS.CONTAINER_CONTENT_INNER}`);\r\n        }\r\n\r\n        let toolbarContentArea = btn.closest(`.${CSS_CLASS.TOOLBAR_CONTENT_AREA}`);\r\n        if (toolbarContentArea.length > 0) {\r\n            log('Target is content-area');\r\n            target = toolbarContentArea.siblings(`.${CSS_CLASS.CONTENT_AREA_INNER}`);\r\n        }\r\n\r\n        // Check action\r\n        let action = null;\r\n        if (toolbarBottom.length > 0) {\r\n            action = ACTION_TYPE.AFTER;\r\n        } else {\r\n            action = ACTION_TYPE.APPEND;\r\n        }\r\n\r\n        log(`isCopy: ${isCopy} | isComponent: ${isComponent} | isContainer: ${isContainer} | isSubContainer: ${isSubContainer} | action: ${action}`);\r\n        log('target: ', target);\r\n\r\n        target[action](pasteContent);\r\n        setCopyContent.call(self, null);\r\n\r\n        if (isCopy) {\r\n            if (isComponent) {\r\n                convertToComponent.call(self, pasteContent);\r\n            }\r\n\r\n            if (isContainer) {\r\n                convertToContainer.call(self, pasteContent);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport showSnippetModal from '../modal/showSnippetModal';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.TOOLBAR_CONTAINER_BOTTOM} .${CSS_CLASS.ADD_CONTENT}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        showSnippetModal.call(self, container, ACTION_TYPE.AFTER, true, true);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport showSnippetModal from '../modal/showSnippetModal';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.TOOLBAR_COMPONENT_BOTTOM} .${CSS_CLASS.ADD_CONTENT}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        showSnippetModal.call(self, component, ACTION_TYPE.AFTER, true, !container.hasClass(CSS_CLASS.SUB_CONTAINER));\r\n    });\r\n};\r\n","import getComponentType from './getComponentType';\r\n\r\nexport default function (component) {\r\n    let self = this;\r\n    \r\n    let componentType = getComponentType.call(self, component);\r\n    let componentData = KEditor.components[componentType];\r\n    if (typeof componentData.destroy === 'function') {\r\n        componentData.destroy.call(componentData, component, self);\r\n    }\r\n    \r\n    component.remove();\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\nimport deleteComponent from '../component/deleteComponent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_DELETE}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        \r\n        if (confirm(options.locale.confirmDeleteComponentText)) {\r\n            let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n            let container = component.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            let contentArea = component.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n            \r\n            if (typeof options.onBeforeComponentDeleted === 'function') {\r\n                options.onBeforeComponentDeleted.call(self, e, component, contentArea);\r\n            }\r\n            \r\n            if (component.is(self.settingComponent)) {\r\n                closeSidebar.call(self);\r\n            }\r\n            \r\n            deleteComponent.call(self, component);\r\n            \r\n            if (typeof options.onComponentDeleted === 'function') {\r\n                options.onComponentDeleted.call(self, e, component, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(self, e, container, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getComponentContent from '../component/getComponentContent';\r\nimport convertToComponent from '../component/convertToComponent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_DUPLICATE}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        let container = component.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        let contentArea = container.parent();\r\n        let newComponent = $(getComponentContent.call(self, component));\r\n        \r\n        component.after(newComponent);\r\n        convertToComponent.call(self, newComponent);\r\n        \r\n        if (typeof options.onComponentDuplicated === 'function') {\r\n            options.onComponentDuplicated.call(self, component, newComponent, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContainerChanged === 'function') {\r\n            options.onContainerChanged.call(self, e, container, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContentChanged === 'function') {\r\n            options.onContentChanged.call(self, e, contentArea);\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport setCopyContent from '../utils/setCopyContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_COPY}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        setCopyContent.call(self, component, false);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport setCopyContent from '../utils/setCopyContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_CUT}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        setCopyContent.call(self, component, true);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport openSidebar from '../sidebar/openSidebar';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_SETTING}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        openSidebar.call(self, component);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_MOVE_DOWN}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        let nextComponent = component.next(`.${CSS_CLASS.COMPONENT}`);\r\n        \r\n        if (nextComponent.length > 0) {\r\n            let container = component.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            let contentArea = component.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n    \r\n            nextComponent.after(component);\r\n            \r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(self, e, container, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_MOVE_UP}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        let prevComponent = component.prev(`.${CSS_CLASS.COMPONENT}`);\r\n        \r\n        if (prevComponent.length > 0) {\r\n            let container = component.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            let contentArea = component.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n            \r\n            prevComponent.before(component);\r\n            \r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(self, e, container, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\nimport deleteComponent from '../component/deleteComponent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_DELETE}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        \r\n        if (confirm(options.locale.confirmDeleteContainerText)) {\r\n            let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            let components = container.find(`.${CSS_CLASS.COMPONENT}`);\r\n            let contentArea = container.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n            \r\n            if (typeof options.onBeforeContainerDeleted === 'function') {\r\n                options.onBeforeContainerDeleted.call(self, e, container, contentArea);\r\n            }\r\n            \r\n            if (self.settingComponent) {\r\n                let settingComponentParent = self.settingComponent.closest(`.${CSS_CLASS.CONTAINER}`);\r\n                if (settingComponentParent.is(container)) {\r\n                    closeSidebar.call(self);\r\n                }\r\n            } else if (container.is(self.settingContainer)) {\r\n                closeSidebar.call(self);\r\n            }\r\n            \r\n            if (components.length > 0) {\r\n                components.each(function () {\r\n                    deleteComponent.call(self, $(this));\r\n                });\r\n            }\r\n            \r\n            container.remove();\r\n            \r\n            if (typeof options.onContainerDeleted === 'function') {\r\n                options.onContainerDeleted.call(self, e, container, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getContainerContent from '../container/getContainerContent';\r\nimport convertToContainer from '../container/convertToContainer';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_DUPLICATE}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        let contentArea = container.parent();\r\n        let newContainer = $(getContainerContent.call(self, container, btn.parent().hasClass(CSS_CLASS.TOOLBAR_SUB_CONTAINER)));\r\n        container.after(newContainer);\r\n        convertToContainer.call(self, newContainer);\r\n        \r\n        if (typeof options.onContainerDuplicated === 'function') {\r\n            options.onContainerDuplicated.call(self, container, newContainer, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContentChanged === 'function') {\r\n            options.onContentChanged.call(self, e, contentArea);\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport setCopyContent from '../utils/setCopyContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_COPY}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        setCopyContent.call(self, container, false);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport setCopyContent from '../utils/setCopyContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_CUT}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        setCopyContent.call(self, container, true);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport openSidebar from '../sidebar/openSidebar';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_SETTING}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        openSidebar.call(self, container);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_MOVE_DOWN}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        let nextContainer = container.next(`.${CSS_CLASS.CONTAINER}`);\r\n        \r\n        if (nextContainer.length > 0) {\r\n            let contentArea = container.parent();\r\n    \r\n            nextContainer.after(container);\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_MOVE_UP}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        let prevContainer = container.prev(`.${CSS_CLASS.CONTAINER}`);\r\n        \r\n        if (prevContainer.length > 0) {\r\n            let contentArea = container.parent();\r\n            \r\n            prevContainer.before(container);\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import initSelectAction from './initSelectAction';\r\nimport initKeyDownAction from './initKeyDownAction';\r\nimport initBtnPasteContent from './initBtnPasteContent';\r\n\r\nimport initBtnAddContentAfterContainer from './initBtnAddContentAfterContainer';\r\nimport initBtnAddContentAfterComponent from './initBtnAddContentAfterComponent';\r\n\r\nimport initBtnComponentDelete from './initBtnComponentDelete';\r\nimport initBtnComponentDuplicate from './initBtnComponentDuplicate';\r\nimport initBtnComponentCopy from './initBtnComponentCopy';\r\nimport initBtnComponentCut from './initBtnComponentCut';\r\nimport initBtnComponentSetting from './initBtnComponentSetting';\r\nimport initBtnComponentMoveDown from './initBtnComponentMoveDown';\r\nimport initBtnComponentMoveUp from './initBtnComponentMoveUp';\r\n\r\nimport initBtnContainerDelete from './initBtnContainerDelete';\r\nimport initBtnContainerDuplicate from './initBtnContainerDuplicate';\r\nimport initBtnContainerCopy from './initBtnContainerCopy';\r\nimport initBtnContainerCut from './initBtnContainerCut';\r\nimport initBtnContainerSetting from './initBtnContainerSetting';\r\nimport initBtnContainerMoveDown from './initBtnContainerMoveDown';\r\nimport initBtnContainerMoveUp from './initBtnContainerMoveUp';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    \r\n    initSelectAction.call(self);\r\n    \r\n    initKeyDownAction.call(self);\r\n    \r\n    initBtnPasteContent.call(self);\r\n    \r\n    initBtnAddContentAfterComponent.call(self);\r\n    initBtnAddContentAfterContainer.call(self);\r\n    \r\n    initBtnComponentDelete.call(self);\r\n    initBtnComponentDuplicate.call(self);\r\n    initBtnComponentCopy.call(self);\r\n    initBtnComponentCut.call(self);\r\n    initBtnComponentMoveDown.call(self);\r\n    initBtnComponentMoveUp.call(self);\r\n    initBtnComponentSetting.call(self);\r\n    \r\n    initBtnContainerDelete.call(self);\r\n    initBtnContainerDuplicate.call(self);\r\n    initBtnContainerCopy.call(self);\r\n    initBtnContainerCut.call(self);\r\n    initBtnContainerMoveDown.call(self);\r\n    initBtnContainerMoveUp.call(self);\r\n    initBtnContainerSetting.call(self);\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport showSnippetModal from '../modal/showSnippetModal';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\nimport convertToContainer from '../container/convertToContainer';\r\n\r\nexport default function (contentArea, dontInitToolbar) {\r\n    let self = this;\r\n    let options = self.options;\r\n    \r\n    contentArea.addClass(CSS_CLASS.CONTENT_AREA);\r\n    let content = contentArea.html();\r\n    let contentAreaInner = $(`<div class=\"${CSS_CLASS.CONTENT_AREA_INNER}\"></div>`).html(content);\r\n    contentArea.html(contentAreaInner);\r\n    \r\n    if (typeof options.onBeforeInitContentArea === 'function') {\r\n        options.onBeforeInitContentArea.call(self, contentArea);\r\n    }\r\n    \r\n    if (!dontInitToolbar) {\r\n        let contentAreaToolbar = $(generateToolbar.call(self, TOOLBAR_TYPE.CONTENT_AREA));\r\n        contentArea.append(contentAreaToolbar);\r\n        contentAreaToolbar.children(`.${CSS_CLASS.ADD_CONTENT}`).on('click', function (e) {\r\n            e.preventDefault();\r\n    \r\n            showSnippetModal.call(self, contentAreaInner, ACTION_TYPE.APPEND, true, true);\r\n        });\r\n    }\r\n    \r\n    contentAreaInner.sortable({\r\n        handle: `.${CSS_CLASS.TOOLBAR_CONTAINER}:not(.${CSS_CLASS.TOOLBAR_SUB_CONTAINER}) .${CSS_CLASS.CONTAINER_MOVE}`,\r\n        items: `> .${CSS_CLASS.CONTAINER}`,\r\n        helper: 'clone',\r\n        connectWith: `.${CSS_CLASS.CONTENT_AREA}`,\r\n        axis: 'y',\r\n        tolerance: 'pointer',\r\n        receive: function (event, ui) {\r\n            let helper = ui.helper;\r\n            let item = ui.item;\r\n            \r\n            if (helper) {\r\n                helper.remove();\r\n            }\r\n            \r\n            closeSidebar.call(self);\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, event, contentArea);\r\n            }\r\n            \r\n            item.addClass(CSS_CLASS.UI_DRAGGING);\r\n        },\r\n        start: function (e, ui) {\r\n            ui.item.addClass(CSS_CLASS.UI_DRAGGING);\r\n            ui.item.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n        },\r\n        stop: function (e, ui) {\r\n            if (ui.helper) {\r\n                ui.helper.remove();\r\n            }\r\n            ui.item.removeClass(CSS_CLASS.UI_DRAGGING);\r\n        }\r\n    });\r\n    \r\n    let containers;\r\n    if (typeof options.onInitContentArea === 'function') {\r\n        containers = options.onInitContentArea.call(self, contentArea);\r\n    } else {\r\n        containers = contentAreaInner.children();\r\n    }\r\n    \r\n    containers.each(function () {\r\n        convertToContainer.call(self, $(this));\r\n    });\r\n};\r\n","import generateId from '../utils/generateId';\r\nimport initContentArea from './initContentArea';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    let contentAreas;\r\n    if (options.contentAreasSelector) {\r\n        contentAreas = contentAreasWrapper.find(options.contentAreasSelector);\r\n    }\r\n    \r\n    if (!contentAreas || contentAreas.length === 0) {\r\n        let originalContent = contentAreasWrapper.html();\r\n        \r\n        contentAreas = $('<div />').html(originalContent);\r\n        contentAreasWrapper.empty().append(contentAreas);\r\n    }\r\n    \r\n    contentAreas.each(function () {\r\n        let contentArea = $(this);\r\n        if (!contentArea.attr('id')) {\r\n            contentArea.attr('id', generateId());\r\n        }\r\n        \r\n        initContentArea.call(self, contentArea);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport initIframeActions from './initIframeActions';\r\nimport initContentAreas from '../contentArea/initContentAreas';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let element = self.element;\r\n    let options = self.options;\r\n    let wrapperId = self.generateId();\r\n    let wrapper = self.wrapper = $(`\r\n        <div id=\"${wrapperId}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.WRAPPER}\">\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.IFRAME_WRAPPER}\">\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.IFRAME_WIDTH_SWITCHER}\">\r\n                    <iframe class=\"${CSS_CLASS.UI} ${CSS_CLASS.IFRAME}\"></iframe>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `);\r\n    \r\n    element.addClass(CSS_CLASS.UI_HIDDEN);\r\n    element.after(wrapper);\r\n    \r\n    let iframe = self.iframe = wrapper.find(`.${CSS_CLASS.IFRAME}`);\r\n    self.iframeDoc = iframe.contents();\r\n    \r\n    // Fix issue Firefox can't render content inside iframe\r\n    // ======================================================\r\n    self.iframeDoc.get(0).open();\r\n    self.iframeDoc.get(0).close();\r\n    // ======================================================\r\n    \r\n    self.iframeWindow = iframe[0].contentWindow ? iframe[0].contentWindow : iframe[0].contentDocument.defaultView;\r\n    self.iframeHead = self.iframeDoc.find('head');\r\n    self.iframeBody = self.iframeDoc.find('body');\r\n    \r\n    // Generate head content for iframe\r\n    let styles = '';\r\n    $('[data-type=\"keditor-style\"]').each(function () {\r\n        let style = $(this);\r\n        let idStr = style.attr('id') || '';\r\n        let href = style.attr('href') || style.attr('data-href') || '';\r\n        \r\n        if (href) {\r\n            styles += `<link rel=\"stylesheet\" type=\"text/css\" href=\"${href}\" ${idStr} />\\n`;\r\n        } else {\r\n            styles += `<style type=\"text/css\" ${idStr}>${style.html()}</style>\\n`;\r\n        }\r\n    });\r\n    $.isArray(options.contentStyles) && $.each(options.contentStyles, function (i, style) {\r\n        let idStr = style.id || '';\r\n        \r\n        if (style.href) {\r\n            styles += `<link rel=\"stylesheet\" type=\"text/css\" href=\"${style.href}\" ${idStr} />\\n`;\r\n        } else {\r\n            styles += `<style type=\"text/css\" ${idStr}>${style.content}</style>\\n`;\r\n        }\r\n    });\r\n    self.iframeHead.append(styles);\r\n    \r\n    // Generate body content for iframe\r\n    self.contentAreasWrapper = $(options.contentAreasWrapper || '<div />');\r\n    self.contentAreasWrapper.attr('class', `${CSS_CLASS.UI} ${CSS_CLASS.CONTENT_AREAS_WRAPPER}`);\r\n    self.contentAreasWrapper.html(element.val() || element.html() || '');\r\n    if (!self.contentAreasWrapper.attr('id')) {\r\n        self.contentAreasWrapper.attr('id', self.generateId());\r\n    }\r\n    self.iframeBody.append(self.contentAreasWrapper).addClass(CSS_CLASS.IFRAME_BODY);\r\n    \r\n    if (typeof options.onInitIframe === 'function') {\r\n        options.onInitIframe.call(self, self.iframe, self.iframeHead, self.iframeBody);\r\n    }\r\n    \r\n    initContentAreas.call(self);\r\n    initIframeActions.call(self);\r\n};\r\n","import DEFAULTS from './constants/defaults';\r\nimport initSnippetsModal from './modal/initSnippetsModal';\r\nimport initExtraSettings from './sidebar/initExtraSettings';\r\nimport initSidebar from './sidebar/initSidebar';\r\nimport initTopbar from './topbar/initTopbar';\r\nimport initIframe from './iframe/initIframe';\r\nimport generateId from './utils/generateId';\r\n\r\nexport default function (target, config) {\r\n    let self = this;\r\n    self.element = target;\r\n    self.options = $.extend({}, DEFAULTS, config);\r\n\r\n    initIframe.call(self);\r\n    initTopbar.call(self);\r\n    initSidebar.call(self);\r\n    initSnippetsModal.call(self);\r\n    initExtraSettings.call(self);\r\n\r\n    self.id = generateId();\r\n    KEditor.instances[self.id] = self;\r\n\r\n    if (typeof self.options.onReady === 'function') {\r\n        self.options.onReady.call(self);\r\n    }\r\n};\r\n","import CSS_CLASS from './constants/cssClass';\r\nimport getContent from './getContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let element = self.element;\r\n    let id = self.id;\r\n    \r\n    let content = getContent.call(self, false);\r\n    self.wrapper.remove();\r\n    \r\n    if (element.is('textarea')) {\r\n        element.val(content);\r\n    } else {\r\n        element.html(content);\r\n    }\r\n    \r\n    element.removeClass(CSS_CLASS.UI_HIDDEN);\r\n    element.data('keditor', null);\r\n    delete KEditor.instances[id];\r\n};\r\n","import CSS_CLASS from './constants/cssClass';\r\nimport initContentArea from './contentArea/initContentArea';\r\nimport error from './utils/error';\r\n\r\nexport default function (content, contentArea) {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    let target;\r\n    \r\n    if (!contentArea) {\r\n        target = contentAreasWrapper.children(`.${CSS_CLASS.CONTENT_AREA}`);\r\n    } else {\r\n        if (!contentArea.jquery) {\r\n            target = contentAreasWrapper.find(contentArea);\r\n        }\r\n    }\r\n\r\n    if (target.length === 0) {\r\n        error('Content area does not exist!');\r\n    }\r\n\r\n    target.html(content);\r\n    initContentArea.call(self, target, true);\r\n};\r\n","import '../styles/keditor.less';\r\n\r\nimport $ from 'jquery';\r\nimport DEFAULTS from './constants/defaults';\r\nimport log from './utils/log';\r\nimport error from './utils/error';\r\nimport generateId from './utils/generateId';\r\nimport getDataAttributes from './utils/getDataAttributes';\r\nimport initIframeCover from './iframe/initIframeCover';\r\nimport addSnippet from './snippet/addSnippet';\r\nimport init from './init';\r\nimport destroy from './destroy';\r\nimport getContent from './getContent';\r\nimport setContent from './setContent';\r\nimport initModal from './modal/initModal';\r\nimport showModal from './modal/showModal';\r\nimport hideModal from './modal/hideModal';\r\nimport initDynamicContent from './component/initDynamicContent';\r\n\r\n// Check dependencies\r\nif (!$.fn.sortable) {\r\n    throw new Error('[ KEditor ] $.fn.sortable does not exist. Please import $.fn.sortable into your document for continue using KEditor.');\r\n}\r\n\r\nwindow.KEDITOR_DEBUG = true;\r\n\r\n// KEditor class\r\nclass KEditor {\r\n    static DEFAULTS = DEFAULTS;\r\n    static debug = false;\r\n    static version = '1.0.0';\r\n    static instances = {};\r\n    static components = {\r\n        blank: {\r\n            settingEnabled: false\r\n        }\r\n    };\r\n\r\n    settingComponent = null;\r\n    settingContainer = null;\r\n\r\n    copyContent = null;\r\n    cutContent = null;\r\n\r\n    categoryComponent = [];\r\n    categoryContainer = [];\r\n\r\n    constructor(target, config) {\r\n        init.apply(this, [target, config]);\r\n    }\r\n\r\n    /**\r\n     * Log utility of KEditor with `[ KEditor ] ` as prefix. You can see the log when `window.KEDITOR_DEBUG = true`\r\n     * @param {*} args Values you want to log\r\n     */\r\n    static log(...args) {\r\n        log(...args);\r\n    }\r\n\r\n    /**\r\n     * Throw error with `[ KEditor ] ` as prefix for message\r\n     * @param {String} message Error message\r\n     */\r\n    static error(message) {\r\n        error(message);\r\n    }\r\n\r\n    /**\r\n     * Initialize KEditor instance\r\n     * @param {jQuery} target Element which you want to initialize as KEditor\r\n     * @param {Object} config Configuration of KEditor instance. See https://github.com/Kademi/keditor/blob/master/docs/configuration.md for more details\r\n     * @return {KEditor}\r\n     */\r\n    static init(target, config) {\r\n        return new KEditor(target, config);\r\n    }\r\n\r\n    /**\r\n     * Load dynamic content for elements which have `data-dynamic-href` attribute\r\n     * @param {jQuery} dynamicElement jQuery object of element(s) which you want to load dynamic content. Element(s) must have `data-dynamic-href` attribute\r\n     * @param {Object} options Callbacks include `onSuccess` and `onError` with arguments are `dynamicElement` and `jqXHR`\r\n     */\r\n    static loadDynamicContent(dynamicElement, options = {}) {\r\n        dynamicElement.each(function () {\r\n            initDynamicContent.call({\r\n                options: {\r\n                    onDynamicContentLoaded: options.onSuccess,\r\n                    onDynamicContentError: options.onError\r\n                }\r\n            }, $(this));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get container which is setting-up\r\n     * @return {jQuery}\r\n     */\r\n    getSettingContainer() {\r\n        return this.settingContainer;\r\n    }\r\n\r\n    /**\r\n     * Get component which is setting-up\r\n     * @return {jQuery}\r\n     */\r\n    getSettingComponent() {\r\n        return this.settingComponent;\r\n    }\r\n\r\n    /**\r\n     * Generate a random Id\r\n     * @return {String}\r\n     */\r\n    generateId() {\r\n        return generateId();\r\n    }\r\n\r\n    /**\r\n     * Get list of `data-*` attributes\r\n     * @param {jQuery} target jQuery of elements which you want to get list of `data-*` attributes\r\n     * @param {Array<String>} ignoreAttributes Array of attributes you want to ignore\r\n     * @param {Boolean} isArray Return list as Array or Object\r\n     * @return {Array|Object}\r\n     */\r\n    getDataAttributes(target, ignoreAttributes, isArray) {\r\n        return getDataAttributes.apply(this, [target, ignoreAttributes, isArray]);\r\n    }\r\n\r\n    /**\r\n     * Init iframe cover which avoid iframe's z-index issue in IE browsers\r\n     * @param {jQuery} iframe Iframe which you want to add cover for\r\n     * @param {jQuery} wrapper Wrapper of iframe\r\n     */\r\n    initIframeCover(iframe, wrapper) {\r\n        initIframeCover.apply(this, [iframe, wrapper]);\r\n    }\r\n\r\n    /**\r\n     * Init KEditor modal\r\n     * @param {String} modalId Id of modal\r\n     * @param {Boolean} hasFooter Modal has footer or not\r\n     * @param {Boolean} disableOriginEvents If you want to handle close button by yourself, just set it as `false`\r\n     * @return {jQuery}\r\n     */\r\n    initModal(modalId, hasFooter, disableOriginEvents) {\r\n        return initModal.call(this, modalId, hasFooter, disableOriginEvents);\r\n    }\r\n\r\n    /**\r\n     * Show a KEditor modal\r\n     * @param {jQuery} modal Modal you want to show\r\n     */\r\n    showModal(modal) {\r\n        showModal.call(this, modal);\r\n    }\r\n\r\n    /**\r\n     * Hide a KEditor modal\r\n     * @param {jQuery} modal Modal you want to show\r\n     */\r\n    hideModal(modal) {\r\n        hideModal.call(this, modal);\r\n    }\r\n\r\n    /**\r\n     * @param {Boolean} inArray Return your content in array format or just plain string\r\n     * @return {String|Array<String>}\r\n     */\r\n    getContent(inArray) {\r\n        return getContent.apply(this, [inArray]);\r\n    }\r\n\r\n    /**\r\n     * @param {String} content HTML content\r\n     * @param {String|jQuery} contentArea Can be selector or jQuery object of content area which you want to set new content. If you have only a content area, you can leave it blank\r\n     */\r\n    setContent(content, contentArea) {\r\n        setContent.apply(this, [content, contentArea]);\r\n    }\r\n\r\n    /**\r\n     * Removes the KEditor functionality completely. This will return the element back to its pre-init state with latest content\r\n     */\r\n    destroy() {\r\n        destroy.apply(this);\r\n    }\r\n\r\n    /**\r\n     * Add snippet programmatically\r\n     * @param {String} type Type of snippet. Can be `container` or `component-*`\r\n     * @param {String} title Text title of snippet\r\n     * @param {String} previewUrl Url to preview image of snippet\r\n     * @param {String} categories Categories list of snippet, separated by `snippetsCategoriesSeparator` option\r\n     * @param {String} content HTML content of snippet\r\n     * @param {Array<String>} extraAttrs If you component contains dynamic content, you will need this parameter to add `data-*` attribute to your component\r\n     */\r\n    addSnippet(type, title, previewUrl, categories, content, extraAttrs) {\r\n        addSnippet.apply(this, [type, title, previewUrl, categories, content, extraAttrs]);\r\n    }\r\n\r\n    /**\r\n     * Load dynamic content for elements which have `data-dynamic-href` attribute\r\n     * @param {jQuery} dynamicElement jQuery object of element(s) which you want to load dynamic content. Element(s) must have `data-dynamic-href` attribute\r\n     * @return {jqXHR}\r\n     */\r\n    initDynamicContent(dynamicElement) {\r\n        return initDynamicContent.apply(this, [dynamicElement]);\r\n    }\r\n}\r\n\r\n// KEditor plugins\r\n$.fn.keditor = function (options) {\r\n    let element = $(this);\r\n    let instance = element.data('keditor');\r\n\r\n    if (typeof options === 'string') {\r\n        if (instance && instance[options] && typeof instance[options] === 'function') {\r\n            return instance[options].apply(instance, Array.prototype.slice.call(arguments, 1));\r\n        }\r\n    } else {\r\n        if (!instance) {\r\n            instance = KEditor.init(element, options);\r\n            element.data('keditor', instance);\r\n        }\r\n\r\n        return instance;\r\n    }\r\n};\r\n\r\nwindow.KEditor = $.keditor = $.fn.keditor.constructor = KEditor;"],"sourceRoot":""}